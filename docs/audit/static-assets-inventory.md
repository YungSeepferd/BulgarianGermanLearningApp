# Static Asset Inventory

Last Updated: 2025-10-19

## Scope

Audit of static assets under `static/` and Hugo-generated artifacts in `resources/_gen/`. Documented each file’s size, role, references, and removal recommendation.

## Summary Findings

- **PWA core assets active:** `static/manifest.webmanifest`, `static/sw.js`, and `static/images/icons/*.png` are current and referenced by `layouts/partials/pwa-register.html` and `manifest` link tags.
- **Legacy fallback JS:** `static/js/practice-simple.js`, `static/js/spaced-repetition-simple.js`, and `static/js/language-toggle.js` appear to be legacy scripts with no template references (likely kept for archival/testing); consider relocation or removal after confirmation.
- **Search index present:** `static/search-index.json` updated 2025-10-19 is generated by Go tooling (`tools/internal/processor/processor.go:176`) and cached by `static/sw.js`; treat as build artifact committed intentionally.
- **Hugo pipeline output:** `resources/_gen/assets/scss/main.scss_*` stores compiled CSS fingerprint; expected by Hugo and safe to clear during builds.
- **No other static assets:** Images limited to two PWA icons; no audio files found in `static/` (vocabulary data references audio but files absent—may rely on external CDN or to-be-added assets).

## Inventory Table — `static/`

| Path | Size (bytes) | Last Modified | Usage Count | Status | Removal Recommendation | Impact Notes |
| --- | ---: | --- | ---: | --- | --- | --- |
| `static/manifest.webmanifest` | 2,317 | 2025-10-19 | 2 | ACTIVE | NO | Linked in `layouts/_default/baseof.html` and `layouts/partials/pwa-register.html`; essential for PWA install metadata. |
| `static/sw.js` | 11,216 | 2025-08-25 | 2 | ACTIVE | NO | Registered by `assets/js/app.js` and `layouts/partials/pwa-register.html`; powers runtime caching. |
| `static/search-index.json` | 36,208 | 2025-10-19 | 2 | ACTIVE | NO | Cached by service worker and consumed by search modules; generated by Go toolchain. |
| `static/images/icons/app-icon-192.png` | 731,593 | 2025-10-19 | 1 | ACTIVE | NO | Referenced in `manifest.webmanifest` for PWA icon. |
| `static/images/icons/app-icon-512.png` | 731,593 | 2025-10-19 | 1 | ACTIVE | NO | Referenced in `manifest.webmanifest`. |
| `static/js/practice-simple.js` | 15,458 | 2025-10-12 | 0 | LEGACY | MAYBE | No template references; likely earlier simplified practice script. Confirm before removal or move to `archive/`. |
| `static/js/spaced-repetition-simple.js` | 4,919 | 2025-08-28 | 0 | LEGACY | MAYBE | Legacy SM-2 helper; unused in production templates. |
| `static/js/language-toggle.js` | 9,462 | 2025-08-28 | 0 | LEGACY | MAYBE | Possibly superseded by `assets/js/language-toggle.js`; confirm no external references. |

## Inventory Table — `resources/_gen/`

| Path | Size (bytes) | Last Modified | Status | Notes |
| --- | ---: | --- | --- | --- |
| `resources/_gen/assets/scss/main.scss_77b10c8e87ff110a62c52933fe3f7f11.content` | 87,800 | 2025-10-19 | BUILD OUTPUT | Compiled CSS artifact generated by Hugo; safe to clean with `hugo --gc`. |
| `resources/_gen/assets/scss/main.scss_77b10c8e87ff110a62c52933fe3f7f11.json` | 194 | 2025-10-19 | BUILD OUTPUT | Fingerprint metadata for the compiled CSS. |

## Observations

- **Legacy JS archiving:** Consider migrating unused `static/js/*.js` files into a dedicated legacy folder or removing them after verifying no references in content or docs.
- **Icon duplication:** Both PWA icons are identical size (731,593 bytes); verify optimization/shrinking opportunities in performance audit.
- **Service worker parity:** Ensure `static/sw.js` matches template expectations (`layouts/_default/sw.js` flagged earlier as orphaned duplicate).
- **Search index management:** Since `static/search-index.json` is generated, confirm whether it should be .gitignored to avoid conflicts or remain versioned for production fallback.

## Recommendations

- **Document legacy assets:** Add notes in `docs/DEPRECATIONS.md` if `static/js/*.js` files remain solely for historical context.
- **Optimize icons:** Evaluate compressing PWA icons during performance refactoring to reduce static asset weight.
- **Clarify search index policy:** Update documentation to state whether `static/search-index.json` is regenerated per release and how to handle updates.

## Next Steps

Pending approval, continue with subsequent audit slices (e.g., data files or Go tooling) while tracking legacy static assets in the refactoring roadmap.
