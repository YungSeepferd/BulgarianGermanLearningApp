{{ define "title" }}{{ .Site.Title }} - Learn Bulgarian and German{{ end }}
{{ define "main" }}

<div class="home-container">
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title">Learn Bulgarian & German</h1>
            <p class="hero-subtitle">Master vocabulary and grammar with scientifically-proven spaced repetition</p>
            
            <div class="hero-stats">
                <div class="stat-item">
                    <span class="stat-number">{{ len .Site.Data.vocabulary }}</span>
                    <span class="stat-label">Vocabulary Items</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">{{ len .Site.Data.grammar }}</span>
                    <span class="stat-label">Grammar Rules</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">4</span>
                    <span class="stat-label">Difficulty Levels</span>
                </div>
            </div>
            
            <div class="hero-actions">
                <a href="/practice/" class="btn-primary btn-large">Start Learning</a>
                <a href="/vocabulary/" class="btn-secondary btn-large">Browse Vocabulary</a>
            </div>
        </div>
    </section>
    
    <!-- Features Section -->
    <section class="features-section">
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">üß†</div>
                <h3>Spaced Repetition</h3>
                <p>Learn efficiently with the scientifically-proven SM-2 algorithm that optimizes review intervals</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üìö</div>
                <h3>Rich Content</h3>
                <p>Comprehensive vocabulary and grammar covering A1 to B2 levels for both languages</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üì±</div>
                <h3>Progressive Web App</h3>
                <p>Works offline and can be installed on your device for learning anywhere, anytime</p>
            </div>
            
            <div class="feature-card">
                <div class="feature-icon">üéØ</div>
                <h3>Personalized Learning</h3>
                <p>Adaptive difficulty and personalized review schedules based on your performance</p>
            </div>
        </div>
    </section>
    
    <!-- Quick Start Section -->
    <section class="quick-start-section">
        <h2>Quick Start</h2>
        <div class="quick-start-grid">
            <div class="quick-start-card">
                <h3>1. Choose Your Level</h3>
                <p>Start with A1 (beginner) or jump to your current proficiency level</p>
                <div class="level-badges">
                    <span class="level-badge level-a1">A1</span>
                    <span class="level-badge level-a2">A2</span>
                    <span class="level-badge level-b1">B1</span>
                    <span class="level-badge level-b2">B2</span>
                </div>
            </div>
            
            <div class="quick-start-card">
                <h3>2. Practice Daily</h3>
                <p>Consistent daily practice for just 10-15 minutes yields the best results</p>
                <div class="practice-preview">
                    <div class="mini-flashcard">
                        <div class="mini-word">–∑–¥—Ä–∞–≤–µ–π</div>
                        <div class="mini-translation">hello</div>
                    </div>
                </div>
            </div>
            
            <div class="quick-start-card">
                <h3>3. Track Progress</h3>
                <p>Monitor your learning journey with detailed statistics and achievements</p>
                <div class="progress-preview">
                    <div class="mini-progress-bar">
                        <div class="mini-progress-fill" style="width: 65%"></div>
                    </div>
                    <span class="mini-progress-text">65% mastered</span>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Recent Activity Section -->
    <section class="recent-activity-section">
        <h2>Continue Learning</h2>
        <div class="activity-cards">
            <div class="activity-card" id="due-items-card">
                <div class="activity-icon">‚è∞</div>
                <div class="activity-content">
                    <h3>Items Due for Review</h3>
                    <p class="activity-count" id="due-count">Loading...</p>
                    <a href="/practice/" class="activity-action">Practice Now</a>
                </div>
            </div>
            
            <div class="activity-card" id="new-items-card">
                <div class="activity-icon">‚ú®</div>
                <div class="activity-content">
                    <h3>New Items to Learn</h3>
                    <p class="activity-count" id="new-count">Loading...</p>
                    <a href="/vocabulary/" class="activity-action">Explore</a>
                </div>
            </div>
            
            <div class="activity-card" id="streak-card">
                <div class="activity-icon">üî•</div>
                <div class="activity-content">
                    <h3>Learning Streak</h3>
                    <p class="activity-count" id="streak-count">Loading...</p>
                    <span class="activity-action">Keep it up!</span>
                </div>
            </div>
        </div>
    </section>
</div>

{{ end }}

{{ define "scripts" }}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Home page functionality - stats are rendered server-side
    // Activity cards show "Loading..." until user has practice data
    console.log('[Home] Page loaded with {{ len .Site.Data.vocabulary }} vocabulary items');
    
    // Update activity cards based on localStorage if available
    try {
        const dueCount = document.getElementById('due-count');
        const newCount = document.getElementById('new-count');
        const streakCount = document.getElementById('streak-count');
        
        // These will be populated by practice session data when available
        if (dueCount) dueCount.textContent = 'Start practicing to track progress';
        if (newCount) newCount.textContent = '{{ len .Site.Data.vocabulary }} items available';
        if (streakCount) streakCount.textContent = '0 days - Start today!';
    } catch (e) {
        console.error('[Home] Error updating activity cards:', e);
    }
});
</script>
{{ end }}
