{"version":3,"file":"5.Cvd-4aHe.js","sources":["../../../../../../node_modules/.pnpm/svelte@5.45.8/node_modules/svelte/src/internal/client/dom/blocks/slot.js","../../../../../../src/routes/learn/[id]/+page.ts","../../../../../../src/lib/components/Flashcard.svelte","../../../../../../src/routes/learn/[id]/components/DashboardTabs.svelte","../../../../../../src/routes/learn/[id]/components/GrammarPanel.svelte","../../../../../../src/lib/components/vocabulary/GrammarTabs.svelte","../../../../../../src/routes/learn/[id]/components/ConjugationTable.svelte","../../../../../../node_modules/.pnpm/lucide-svelte@0.561.0_svelte@5.45.8/node_modules/lucide-svelte/dist/defaultAttributes.js","../../../../../../node_modules/.pnpm/lucide-svelte@0.561.0_svelte@5.45.8/node_modules/lucide-svelte/dist/Icon.svelte","../../../../../../src/lib/components/vocabulary/ExampleCarousel.svelte","../../../../../../node_modules/.pnpm/lucide-svelte@0.561.0_svelte@5.45.8/node_modules/lucide-svelte/dist/icons/chevron-left.svelte","../../../../../../node_modules/.pnpm/lucide-svelte@0.561.0_svelte@5.45.8/node_modules/lucide-svelte/dist/icons/chevron-right.svelte","../../../../../../src/routes/learn/[id]/components/NotesPanel.svelte","../../../../../../src/lib/components/ui/MnemonicEditor.svelte","../../../../../../src/routes/learn/[id]/+page.svelte","../../../../../../src/routes/learn/[id]/components/WordFamilyPanel.svelte","../../../../../../src/routes/learn/[id]/components/ExamplesPanel.svelte","../../../../../../src/routes/learn/[id]/components/EtymologyPanel.svelte","../../../../../../src/routes/learn/[id]/components/ExternalLinksPanel.svelte"],"sourcesContent":["import { hydrate_next, hydrating } from '../hydration.js';\n\n/**\n * @param {Comment} anchor\n * @param {Record<string, any>} $$props\n * @param {string} name\n * @param {Record<string, unknown>} slot_props\n * @param {null | ((anchor: Comment) => void)} fallback_fn\n */\nexport function slot(anchor, $$props, name, slot_props, fallback_fn) {\n\tif (hydrating) {\n\t\thydrate_next();\n\t}\n\n\tvar slot_fn = $$props.$$slots?.[name];\n\t// Interop: Can use snippets to fill slots\n\tvar is_interop = false;\n\tif (slot_fn === true) {\n\t\tslot_fn = $$props[name === 'default' ? 'children' : name];\n\t\tis_interop = true;\n\t}\n\n\tif (slot_fn === undefined) {\n\t\tif (fallback_fn !== null) {\n\t\t\tfallback_fn(anchor);\n\t\t}\n\t} else {\n\t\tslot_fn(anchor, is_interop ? () => slot_props : slot_props);\n\t}\n}\n\n/**\n * @param {Record<string, any>} props\n * @returns {Record<string, boolean>}\n */\nexport function sanitize_slots(props) {\n\t/** @type {Record<string, boolean>} */\n\tconst sanitized = {};\n\tif (props.children) sanitized.default = true;\n\tfor (const key in props.$$slots) {\n\t\tsanitized[key] = true;\n\t}\n\treturn sanitized;\n}\n","import type { PageLoad } from './$types';\nimport { vocabularyDb } from '$lib/data/db.svelte';\n\nexport const prerender = false;\n\nexport const load: PageLoad = async ({ params }) => {\n  await vocabularyDb.initialize();\n  const all = vocabularyDb.getVocabulary();\n  const item = all.find((x) => x.id === params.id) ?? null;\n  return { item };\n};\n","<script lang=\"ts\">\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n  import { appState } from '$lib/state/app-state';\n  import { APP_ICONS } from '$lib/constants/icons';\n  import EnrichmentBadge from '$lib/components/vocabulary/EnrichmentBadge.svelte';\n  import DefinitionLink from '$lib/components/vocabulary/DefinitionLink.svelte';\n\n  let { vocabularyItem } = $props<{ vocabularyItem: VocabularyItem }>();\n\n  // State for card flip\n  let flipped = $state(false);\n\n  const ui = $derived(appState.languageMode === 'DE_BG'\n    ? {\n        flipHint: 'Zum Umdrehen tippen',\n        showFront: 'Vorderseite anzeigen',\n        showBack: 'R√ºckseite anzeigen',\n        breakdown: 'Wortaufbau',\n        composition: 'Zusammensetzung',\n        context: 'Kontext',\n        examples: 'Beispiele',\n        cultural: 'Kulturelle oder sprachliche Notiz',\n        mnemonic: 'Merksatz',\n        usage: 'Nuance / Verwendung'\n      }\n    : {\n        flipHint: '–ù–∞—Ç–∏—Å–Ω–∏, –∑–∞ –¥–∞ –æ–±—ä—Ä–Ω–µ—à',\n        showFront: '–ü–æ–∫–∞–∂–∏ –ª–∏—Ü–µ—Ç–æ',\n        showBack: '–ü–æ–∫–∞–∂–∏ –≥—ä—Ä–±–∞',\n        breakdown: '–°—Ç—Ä–æ–µ–∂ –Ω–∞ –¥—É–º–∞—Ç–∞',\n        composition: '–°—ä—Å—Ç–∞–≤',\n        context: '–ö–æ–Ω—Ç–µ–∫—Å—Ç',\n        examples: '–ü—Ä–∏–º–µ—Ä–∏',\n        cultural: '–ö—É–ª—Ç—É—Ä–Ω–∞ –∏–ª–∏ –µ–∑–∏–∫–æ–≤–∞ –±–µ–ª–µ–∂–∫–∞',\n        mnemonic: '–ó–∞–ø–æ–º–Ω—è—â–∞ —Ñ—Ä–∞–∑–∞',\n        usage: '–ù—é–∞–Ω—Å / –£–ø–æ—Ç—Ä–µ–±–∞'\n      });\n\n  const isBulgarianFront = $derived(appState.languageMode === 'DE_BG');\n\n\n\n  import { formatGermanTerm as formatGermanUtil } from '$lib/utils/formatGerman';\n  function formatGermanTerm(item: VocabularyItem): string {\n    return formatGermanUtil(item);\n  }\n\n  const formattedGerman = $derived(formatGermanTerm(vocabularyItem));\n\n  const frontTerm = $derived(isBulgarianFront ? vocabularyItem.bulgarian : formattedGerman);\n  const backTerm = $derived(isBulgarianFront ? formattedGerman : vocabularyItem.bulgarian);\n\n  function normalizeBreakdown(item: VocabularyItem) {\n    const fromLiteral = item.literalBreakdown?.map((piece) => ({\n      part: piece.segment,\n      meaning: piece.literal,\n      note: piece.grammarTag\n    })) ?? [];\n\n    const fromMetadata = item.metadata?.components?.map((piece) => ({\n      part: piece.part,\n      meaning: piece.meaning,\n      note: undefined\n    })) ?? [];\n\n    return [...fromLiteral, ...fromMetadata];\n  }\n\n  const breakdown = $derived(normalizeBreakdown(vocabularyItem));\n  \n  interface NormalizedExample {\n    german: string;\n    bulgarian: string;\n    context?: string;\n  }\n  \n  const examples = $derived.by((): NormalizedExample[] => {\n    const metadata = vocabularyItem.metadata;\n    const legacy = (vocabularyItem as any).examples;\n    \n    if (metadata?.examples) {\n      return metadata.examples.map((ex: any) => ({\n        german: ex.german || ex.source || '',\n        bulgarian: ex.bulgarian || ex.target || '',\n        context: ex.context\n      }));\n    }\n    \n    if (Array.isArray(legacy)) {\n      return legacy.map((ex: any) => ({\n        german: ex.sentence || ex.translation || '',\n        bulgarian: ex.translation || ex.sentence || '',\n        context: ex.context\n      }));\n    }\n    \n    return [];\n  });\n\n  const culturalNote = $derived(vocabularyItem.metadata?.culturalNote || vocabularyItem.metadata?.notes);\n  const mnemonic = $derived(vocabularyItem.metadata?.mnemonic || vocabularyItem.mnemonics);\n  const nuance = $derived(vocabularyItem.contextualNuance || vocabularyItem.metadata?.notes);\n  const emoji = $derived(vocabularyItem.media?.emoji || vocabularyItem.emoji || APP_ICONS.VOCABULARY);\n  const compositionSummary = $derived(\n    breakdown.length > 1\n      ? `${breakdown.map((b) => b.part).join(' + ')} ‚Üí ${frontTerm}`\n      : null\n  );\n\n  // Audio Logic\n  const audioUrl = $derived(\n    (vocabularyItem as any).audioUrl || \n    (vocabularyItem as any).audio_url || \n    (isBulgarianFront ? vocabularyItem.audio?.bulgarian : vocabularyItem.audio?.german)\n  );\n\n  let audioPlayer: HTMLAudioElement | null = $state(null);\n  let isPlaying = $state(false);\n\n  function playAudio(e: Event) {\n    e.stopPropagation(); // Prevent card flip\n    if (audioPlayer) {\n      isPlaying = true;\n      audioPlayer.currentTime = 0;\n      audioPlayer.play()\n        .catch(err => console.error('Audio playback failed:', err))\n        .finally(() => {\n           // Reset playing state when done (handled by onended)\n        });\n    }\n  }\n\n  // Toggle flip state\n  function toggleFlip() {\n    flipped = !flipped;\n  }\n</script>\n\n<div class=\"flashcard-container\" role=\"region\" aria-label={appState.languageMode === 'DE_BG' ? 'Vokabelkarte' : '–ö–∞—Ä—Ç–∞ —Å –¥—É–º–∏'}>\n  <div\n    class=\"flashcard {flipped ? 'flipped' : ''}\"\n    onclick={toggleFlip}\n    role=\"button\"\n    tabindex=\"0\"\n    aria-label={flipped \n      ? (appState.languageMode === 'DE_BG' ? `Vorderseite zeigen: ${frontTerm}` : `–ü–æ–∫–∞–∂–∏ –ø—Ä–µ–¥–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∞: ${frontTerm}`)\n      : (appState.languageMode === 'DE_BG' ? `R√ºckseite zeigen: ${backTerm}` : `–ü–æ–∫–∞–∂–∏ –∑–∞–¥–Ω–∞—Ç–∞ —Å—Ç—Ä–∞–Ω–∞: ${backTerm}`)}\n    aria-expanded={flipped}\n    aria-describedby=\"flip-hint\"\n    onkeydown={(e) => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        e.preventDefault();\n        toggleFlip();\n      } else if (e.key === 'Escape') {\n        e.preventDefault();\n        flipped = false;\n      }\n    }}\n  >\n    <!-- Front of the card -->\n    <div class=\"flashcard-front\">\n      {#if vocabularyItem.level}\n        <div class=\"level-badge {vocabularyItem.level.toLowerCase()}\">\n          {vocabularyItem.level}\n        </div>\n      {/if}\n\n      <div class=\"front-content\">\n        <div class=\"emoji-container\">\n          <span class=\"emoji\">{emoji}</span>\n        </div>\n        \n        {#if audioUrl}\n          <button \n            class=\"audio-button {isPlaying ? 'playing' : ''}\" \n            onclick={playAudio}\n            aria-label=\"Play pronunciation\"\n            title=\"Play pronunciation\"\n          >\n            üîä\n          </button>\n          <audio \n            bind:this={audioPlayer} \n            src={audioUrl} \n            onended={() => isPlaying = false}\n            onpause={() => isPlaying = false}\n          ></audio>\n        {/if}\n\n        <p class=\"part-of-speech\">{vocabularyItem.partOfSpeech}</p>\n        <h2 class=\"front-term\">{frontTerm}</h2>\n        {#if vocabularyItem.pronunciation?.bulgarian && isBulgarianFront}\n          <p class=\"pronunciation\">{vocabularyItem.pronunciation.bulgarian}</p>\n        {:else if vocabularyItem.pronunciation?.german && !isBulgarianFront}\n          <p class=\"pronunciation\">{vocabularyItem.pronunciation.german}</p>\n        {/if}\n        <div id=\"flip-hint\" class=\"flip-hint\">{ui.flipHint}</div>\n      </div>\n    </div>\n\n    <!-- Back of the card -->\n    <div class=\"flashcard-back\">\n      <div class=\"back-content\">\n        <div class=\"translation-block\">\n          <p class=\"translation-label\">{isBulgarianFront ? 'Deutsch' : '–ë—ä–ª–≥–∞—Ä—Å–∫–∏'}</p>\n          <h2 class=\"translation-text\">{backTerm}</h2>\n        </div>\n\n        {#if nuance}\n          <div class=\"nuance-box\">\n            <span class=\"icon\">üí°</span>\n            <div>\n              <p class=\"section-title\">{ui.usage}</p>\n              <p class=\"section-body\">{nuance}</p>\n            </div>\n          </div>\n        {/if}\n\n        {#if breakdown.length > 0}\n          <div class=\"phrase-breakdown\">\n            <h3 class=\"breakdown-title\">{ui.breakdown}</h3>\n            <div class=\"breakdown-container\">\n              {#each breakdown as item, index}\n                <div class=\"breakdown-item\">\n                  <div class=\"breakdown-part\">\n                    <span>{item.part}</span>\n                    {#if index < breakdown.length - 1}\n                      <span class=\"connector\">+</span>\n                    {/if}\n                  </div>\n                  <div class=\"breakdown-meaning\">{item.meaning}</div>\n                  {#if item.note}\n                    <div class=\"breakdown-note\">{item.note}</div>\n                  {/if}\n                </div>\n              {/each}\n            </div>\n          </div>\n        {/if}\n\n        {#if compositionSummary}\n          <div class=\"composition-summary\">\n            <p class=\"section-title\">{ui.composition}</p>\n            <p class=\"section-body\">{compositionSummary}</p>\n          </div>\n        {/if}\n\n        {#if examples.length > 0}\n          <div class=\"examples\">\n            <p class=\"section-title\">{ui.examples}</p>\n            <ul>\n              {#each examples as example}\n                <li>\n                  <div class=\"example-line\">{example.german}</div>\n                  <div class=\"example-translation\">{example.bulgarian}</div>\n                  {#if example.context}\n                    <div class=\"example-context\">{example.context}</div>\n                  {/if}\n                </li>\n              {/each}\n            </ul>\n          </div>\n        {/if}\n\n        {#if culturalNote}\n          <div class=\"note-block\">\n            <p class=\"section-title\">{ui.cultural}</p>\n            <p class=\"section-body\">{culturalNote}</p>\n          </div>\n        {/if}\n\n        {#if mnemonic}\n          <div class=\"note-block\">\n            <p class=\"section-title\"><span class=\"icon\">{APP_ICONS.MNEMONIC}</span> {ui.mnemonic}</p>\n            <p class=\"section-body\">{mnemonic}</p>\n          </div>\n        {/if}\n\n        {#if vocabularyItem.enrichment?.sourceURL || (vocabularyItem.definitions && vocabularyItem.definitions.length > 0)}\n          <div class=\"enrichment-block\">\n            <p class=\"section-title\">{appState.languageMode === 'DE_BG' ? 'W√∂rterbuch' : '–†–µ—á–Ω–∏–∫'}</p>\n            <div class=\"enrichment-content\">\n              <EnrichmentBadge item={vocabularyItem} variant=\"inline\" />\n              <DefinitionLink item={vocabularyItem} showIcon={true} showLabel={true} compact={true} />\n            </div>\n          </div>\n        {/if}\n\n          {#if vocabularyItem.metadata?.declension}\n            <div class=\"declension-block\">\n              <p class=\"section-title\">{appState.languageMode === 'DE_BG' ? 'Deklination' : '–°–∫–ª–æ–Ω–µ–Ω–∏–µ'}</p>\n              <table class=\"declension-table\">\n                <tbody>\n                  {#each Object.entries(vocabularyItem.metadata.declension) as [caseName, forms]}\n                    {@const declensionForms = forms as { singular?: string; plural?: string }}\n                    <tr>\n                      <th class=\"declension-case\">{caseName}</th>\n                      <td class=\"declension-form\">{declensionForms.singular ?? ''}</td>\n                      <td class=\"declension-form\">{declensionForms.plural ?? ''}</td>\n                    </tr>\n                  {/each}\n                </tbody>\n              </table>\n            </div>\n          {/if}\n\n          {#if vocabularyItem.metadata?.links && vocabularyItem.metadata.links.length > 0}\n            <div class=\"external-links\">\n              <p class=\"section-title\">{appState.languageMode === 'DE_BG' ? 'W√∂rterbuch' : '–†–µ—á–Ω–∏—Ü–∏'}</p>\n              <div class=\"links-list\">\n                {#each vocabularyItem.metadata.links as link}\n                  <a href={link.url} target=\"_blank\" rel=\"noopener noreferrer\" class=\"ext-link\">{link.label || 'Link'}</a>\n                {/each}\n              </div>\n            </div>\n          {/if}\n      </div>\n    </div>\n  </div>\n</div>\n\n<style>\n  .flashcard-container {\n    perspective: 1000px;\n    width: min(420px, 100%);\n    height: clamp(320px, 65vw, 520px);\n    max-height: 80vh;\n    margin: 0 auto;\n    pointer-events: auto;\n  }\n\n  .flashcard {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    transform-style: preserve-3d;\n    transition: transform 0.6s;\n    cursor: pointer;\n    border-radius: 16px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);\n    background: transparent;\n    border: none;\n    overflow: hidden;\n  }\n\n  .flashcard:focus-visible {\n    outline: 3px solid var(--color-focus-ring, #0d6efd);\n    outline-offset: 4px;\n  }\n\n  .level-badge {\n    position: absolute;\n    top: 16px;\n    right: 16px;\n    padding: 4px 8px;\n    border-radius: 6px;\n    font-size: 0.875rem;\n    font-weight: 600;\n    text-transform: uppercase;\n    background: #f1f5f9;\n    color: #64748b;\n  }\n\n  .level-badge.a1 { background: #dcfce7; color: #166534; }\n  .level-badge.a2 { background: #bbf7d0; color: #15803d; }\n  .level-badge.b1 { background: #dbeafe; color: #1e40af; }\n  .level-badge.b2 { background: #bfdbfe; color: #1d4ed8; }\n  .level-badge.c1 { background: #f3e8ff; color: #6b21a8; }\n  .level-badge.c2 { background: #e9d5ff; color: #7e22ce; }\n\n  .audio-button {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    padding: 8px;\n    border-radius: 50%;\n    transition: background-color 0.2s;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 0.5rem;\n  }\n\n  .audio-button:hover {\n    background-color: #f1f5f9;\n  }\n\n  .audio-button:focus-visible {\n    outline: 3px solid var(--color-focus-ring, #0d6efd);\n    outline-offset: 2px;\n  }\n\n  .audio-button.playing {\n    animation: pulse 1.5s infinite;\n  }\n\n  @keyframes pulse {\n    0% { transform: scale(1); }\n    50% { transform: scale(1.1); }\n    100% { transform: scale(1); }\n  }\n\n  .declension-block { margin-top: 0.75rem; }\n  .declension-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }\n  .declension-case { text-align: left; padding: 0.25rem 0.5rem; color: #555; }\n  .declension-form { padding: 0.25rem 0.5rem; }\n  .external-links { margin-top: 0.75rem; }\n  .links-list { display: flex; gap: 0.5rem; flex-wrap: wrap; }\n  .ext-link { color: #0a58ca; text-decoration: underline; }\n  .ext-link:focus-visible { outline: 3px solid var(--color-focus-ring, #0d6efd); outline-offset: 2px; }\n\n  .flashcard.flipped {\n    transform: rotateY(180deg);\n  }\n\n  .flashcard-front,\n  .flashcard-back {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    backface-visibility: hidden;\n    border-radius: 16px;\n    padding: 24px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background: white;\n    border: 1px solid #e2e8f0;\n  }\n\n  .flashcard-back {\n    transform: rotateY(180deg);\n    overflow-y: auto;\n  }\n\n  @media (max-width: 640px) {\n    .flashcard-container {\n      height: clamp(300px, 75vh, 480px);\n    }\n  }\n\n  .front-content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 0.5rem;\n    width: 100%;\n    height: 100%;\n  }\n\n  .emoji-container {\n    font-size: 4rem;\n    margin-bottom: 1rem;\n  }\n\n  .part-of-speech {\n    font-size: 0.9rem;\n    color: #64748b;\n    margin: 0;\n    text-transform: capitalize;\n  }\n\n  .front-term {\n    font-size: 2.6rem;\n    font-weight: 800;\n    text-align: center;\n    color: #0f172a;\n    margin: 0.5rem 0;\n  }\n\n  .pronunciation {\n    font-family: monospace;\n    color: #475569;\n    margin: 0;\n  }\n\n  .flip-hint {\n    font-size: 0.95rem;\n    color: #94a3b8;\n    margin-top: auto;\n  }\n\n  .back-content {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    width: 100%;\n    color: #0f172a;\n  }\n\n  .translation-block {\n    text-align: center;\n  }\n\n  .translation-label {\n    margin: 0;\n    font-size: 0.9rem;\n    color: #94a3b8;\n    text-transform: uppercase;\n    letter-spacing: 0.08em;\n  }\n\n  .translation-text {\n    margin: 0.35rem 0 0 0;\n    font-size: 1.8rem;\n    font-weight: 800;\n  }\n\n  .nuance-box,\n  .note-block,\n  .composition-summary,\n  .examples,\n  .phrase-breakdown {\n    background: #f8fafc;\n    border: 1px solid #e2e8f0;\n    border-radius: 12px;\n    padding: 1rem;\n  }\n\n  .enrichment-block {\n    background: #f0f7ff;\n    border: 1px solid #dbeafe;\n    border-radius: 12px;\n    padding: 1rem;\n  }\n\n  .enrichment-content {\n    display: flex;\n    flex-direction: column;\n    gap: 0.35rem;\n    margin-top: 0.75rem;\n  }\n\n  .nuance-box {\n    display: flex;\n    gap: 0.75rem;\n  }\n\n  .icon {\n    font-size: 1.25rem;\n  }\n\n  .section-title {\n    margin: 0;\n    font-size: 0.95rem;\n    font-weight: 700;\n    color: #0f172a;\n  }\n\n  .section-body {\n    margin: 0.35rem 0 0 0;\n    font-size: 0.95rem;\n    color: #334155;\n    line-height: 1.45;\n  }\n\n  .phrase-breakdown {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n\n  .breakdown-title {\n    margin: 0;\n    font-size: 1rem;\n    font-weight: 700;\n    color: #0f172a;\n    text-align: center;\n  }\n\n  .breakdown-container {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n\n  .breakdown-item {\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 0.25rem;\n    text-align: center;\n  }\n\n  .breakdown-part {\n    font-size: 1.1rem;\n    font-weight: 600;\n    display: flex;\n    justify-content: center;\n    gap: 0.35rem;\n    color: #0f172a;\n  }\n\n  .breakdown-meaning {\n    font-size: 0.95rem;\n    color: #475569;\n  }\n\n  .breakdown-note {\n    font-size: 0.85rem;\n    color: #94a3b8;\n  }\n\n  .connector {\n    color: #cbd5e1;\n  }\n\n  .composition-summary {\n    font-size: 0.95rem;\n    color: #334155;\n  }\n\n  .examples ul {\n    margin: 0.5rem 0 0 0;\n    padding-left: 1.1rem;\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .examples li {\n    list-style: disc;\n    color: #334155;\n  }\n\n  .example-line {\n    font-weight: 600;\n  }\n\n  .example-translation {\n    font-size: 0.95rem;\n    color: #475569;\n  }\n\n  .example-context {\n    font-size: 0.85rem;\n    color: #94a3b8;\n  }\n\n  @media (max-width: 640px) {\n    .front-term {\n      font-size: 2.2rem;\n    }\n\n    .translation-text {\n      font-size: 1.4rem;\n    }\n\n    .flashcard-container {\n      height: 480px;\n    }\n  }\n</style>","<script lang=\"ts\">\n  import { appState } from '$lib/state/app-state';\n\n  type TabId = 'overview' | 'grammar' | 'family' | 'examples' | 'analysis' | 'notes' | 'resources';\n\n  let {\n    activeTab = $bindable('overview')\n  }: {\n    activeTab?: TabId;\n  } = $props();\n\n  const tabs = $derived.by(() => {\n    const isDE = appState.languageMode === 'DE_BG';\n    return [\n      { id: 'overview' as TabId, label: isDE ? '√úbersicht' : '–ü—Ä–µ–≥–ª–µ–¥', icon: 'üìã' },\n      { id: 'grammar' as TabId, label: isDE ? 'Grammatik' : '–ì—Ä–∞–º–∞—Ç–∏–∫–∞', icon: 'üìö' },\n      { id: 'family' as TabId, label: isDE ? 'Wortfamilie' : '–°–µ–º–µ–π—Å—Ç–≤–æ –¥—É–º–∏', icon: 'üå≥' },\n      { id: 'examples' as TabId, label: isDE ? 'Beispiele' : '–ü—Ä–∏–º–µ—Ä–∏', icon: 'üí¨' },\n      { id: 'analysis' as TabId, label: isDE ? 'Analyse' : '–ê–Ω–∞–ª–∏–∑', icon: 'üîç' },\n      { id: 'notes' as TabId, label: isDE ? 'Notizen' : '–ë–µ–ª–µ–∂–∫–∏', icon: 'üìù' },\n      { id: 'resources' as TabId, label: isDE ? 'Quellen' : '–ò–∑—Ç–æ—á–Ω–∏—Ü–∏', icon: 'üîó' }\n    ];\n  });\n\n  function handleKeyDown(event: KeyboardEvent, tabId: TabId) {\n    if (event.key === 'Enter' || event.key === ' ') {\n      event.preventDefault();\n      activeTab = tabId;\n    }\n  }\n</script>\n\n<div class=\"dashboard-tabs\" role=\"tablist\" aria-label={appState.languageMode === 'DE_BG' ? 'Dashboard-Navigation' : '–ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ —Ç–∞–±–ª–æ—Ç–æ'}>\n  {#each tabs as tab}\n    <button\n      class=\"tab\"\n      class:active={activeTab === tab.id}\n      role=\"tab\"\n      aria-selected={activeTab === tab.id}\n      aria-controls=\"{tab.id}-panel\"\n      tabindex={activeTab === tab.id ? 0 : -1}\n      onclick={() => activeTab = tab.id}\n      onkeydown={(e) => handleKeyDown(e, tab.id)}\n    >\n      <span class=\"tab-icon\" aria-hidden=\"true\">{tab.icon}</span>\n      <span class=\"tab-label\">{tab.label}</span>\n    </button>\n  {/each}\n</div>\n\n<style>\n  .dashboard-tabs {\n    display: flex;\n    gap: var(--space-2);\n    overflow-x: auto;\n    border-bottom: 2px solid var(--color-neutral-border);\n    padding-bottom: var(--space-1);\n    margin-bottom: var(--space-5);\n    scrollbar-width: thin;\n  }\n\n  .dashboard-tabs::-webkit-scrollbar {\n    height: 6px;\n  }\n\n  .dashboard-tabs::-webkit-scrollbar-track {\n    background: var(--color-neutral-light);\n  }\n\n  .dashboard-tabs::-webkit-scrollbar-thumb {\n    background: var(--color-neutral-border);\n    border-radius: 3px;\n  }\n\n  .tab {\n    display: flex;\n    align-items: center;\n    gap: var(--space-2);\n    padding: var(--space-2) var(--space-3);\n    border: none;\n    background: transparent;\n    cursor: pointer;\n    border-radius: var(--border-radius-md) var(--border-radius-md) 0 0;\n    transition: all 0.2s ease;\n    white-space: nowrap;\n    color: var(--color-neutral-dark);\n    font-size: var(--text-sm);\n    font-weight: var(--font-medium);\n  }\n\n  .tab:hover {\n    background: var(--color-primary-light);\n  }\n\n  .tab.active {\n    background: var(--color-primary);\n    color: white;\n    font-weight: var(--font-semibold);\n  }\n\n  .tab:focus-visible {\n    outline: 3px solid var(--color-focus-ring, #0d6efd);\n    outline-offset: 2px;\n    z-index: 1;\n  }\n\n  .tab-icon {\n    font-size: var(--text-lg);\n  }\n\n  @media (max-width: 768px) {\n    .tab-label {\n      display: none;\n    }\n\n    .tab-icon {\n      font-size: var(--text-xl);\n    }\n\n    .tab {\n      padding: var(--space-2);\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import { appState } from '$lib/state/app-state';\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n  import GrammarTabs from '$lib/components/vocabulary/GrammarTabs.svelte';\n  import ConjugationTable from './ConjugationTable.svelte';\n\n  let { item }: { item: VocabularyItem } = $props();\n\n  const isNoun = $derived(item.partOfSpeech === 'noun');\n  const isVerb = $derived(item.partOfSpeech === 'verb');\n\n  const article = $derived(null); // Article is not stored in new schema, derived from gender usually\n  const gender = $derived(item.grammar?.gender || null);\n  const pluralForm = $derived(item.grammar?.pluralForm || null);\n\n  const genderLabel = $derived.by(() => {\n    if (!gender) return null;\n    const isDE = appState.languageMode === 'DE_BG';\n    const labels: Record<string, { de: string; bg: string }> = {\n      masculine: { de: 'maskulin', bg: '–º—ä–∂–∫–∏ —Ä–æ–¥' },\n      feminine: { de: 'feminin', bg: '–∂–µ–Ω—Å–∫–∏ —Ä–æ–¥' },\n      neuter: { de: 'neutral', bg: '—Å—Ä–µ–¥–µ–Ω —Ä–æ–¥' }\n    };\n    return labels[gender]?.[isDE ? 'de' : 'bg'] || gender;\n  });\n</script>\n\n<div class=\"grammar-panel\" role=\"region\" aria-label={appState.languageMode === 'DE_BG' ? 'Grammatik' : '–ì—Ä–∞–º–∞—Ç–∏–∫–∞'}>\n  <!-- Basic Properties -->\n  <section class=\"grammar-section\">\n    <h3 class=\"section-title\">\n      {appState.languageMode === 'DE_BG' ? 'Grundeigenschaften' : '–û—Å–Ω–æ–≤–Ω–∏ —Å–≤–æ–π—Å—Ç–≤–∞'}\n    </h3>\n    <div class=\"property-grid\">\n      {#if article}\n        <div class=\"property-card\">\n          <span class=\"property-label\">\n            {appState.languageMode === 'DE_BG' ? 'Artikel' : '–ß–ª–µ–Ω'}\n          </span>\n          <span class=\"property-value\">{article}</span>\n        </div>\n      {/if}\n      {#if genderLabel}\n        <div class=\"property-card\">\n          <span class=\"property-label\">\n            {appState.languageMode === 'DE_BG' ? 'Genus' : '–†–æ–¥'}\n          </span>\n          <span class=\"property-value\">{genderLabel}</span>\n        </div>\n      {/if}\n      {#if pluralForm}\n        <div class=\"property-card\">\n          <span class=\"property-label\">\n            {appState.languageMode === 'DE_BG' ? 'Plural' : '–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–æ —á–∏—Å–ª–æ'}\n          </span>\n          <span class=\"property-value\">{pluralForm}</span>\n        </div>\n      {/if}\n      <div class=\"property-card\">\n        <span class=\"property-label\">\n          {appState.languageMode === 'DE_BG' ? 'Wortart' : '–ß–∞—Å—Ç –Ω–∞ —Ä–µ—á—Ç–∞'}\n        </span>\n        <span class=\"property-value\">{item.partOfSpeech}</span>\n      </div>\n    </div>\n  </section>\n\n  <!-- Noun Declension -->\n  {#if isNoun}\n    <section class=\"grammar-section\">\n      <h3 class=\"section-title\">\n        {appState.languageMode === 'DE_BG' ? 'Deklination' : '–°–∫–ª–æ–Ω–µ–Ω–∏–µ'}\n      </h3>\n      <GrammarTabs {item} />\n    </section>\n  {/if}\n\n  <!-- Verb Conjugation -->\n  {#if isVerb}\n    <section class=\"grammar-section\">\n      <h3 class=\"section-title\">\n        {appState.languageMode === 'DE_BG' ? 'Konjugation' : '–°–ø—Ä–µ–∂–µ–Ω–∏–µ'}\n      </h3>\n      <ConjugationTable {item} />\n    </section>\n  {/if}\n\n  <!-- Adjective Comparison (if data available) -->\n  <!-- \n  {#if isAdjective && (item as any).metadata?.comparativeForms}\n    <section class=\"grammar-section\">\n      <h3 class=\"section-title\">\n        {appState.languageMode === 'DE_BG' ? 'Steigerung' : '–°—Ç–µ–ø–µ–Ω—É–≤–∞–Ω–µ'}\n      </h3>\n      <div class=\"comparison-grid\">\n        <div class=\"comparison-card\">\n          <span class=\"comparison-label\">Positiv</span>\n          <span class=\"comparison-value\">{item.german}</span>\n        </div>\n        {#if (item as any).metadata.comparativeForms.comparative}\n          <div class=\"comparison-card\">\n            <span class=\"comparison-label\">Komparativ</span>\n            <span class=\"comparison-value\">{(item as any).metadata.comparativeForms.comparative}</span>\n          </div>\n        {/if}\n        {#if (item as any).metadata.comparativeForms.superlative}\n          <div class=\"comparison-card\">\n            <span class=\"comparison-label\">Superlativ</span>\n            <span class=\"comparison-value\">{(item as any).metadata.comparativeForms.superlative}</span>\n          </div>\n        {/if}\n      </div>\n    </section>\n  {/if}\n  -->\n\n  <!-- Grammar Notes -->\n  {#if item.metadata?.notes || (item as any).notes?.linguistic}\n    <section class=\"grammar-section\">\n      <h3 class=\"section-title\">\n        {appState.languageMode === 'DE_BG' ? 'Grammatikalische Hinweise' : '–ì—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ–ª–µ–∂–∫–∏'}\n      </h3>\n      <div class=\"notes-content\">\n        {#if item.metadata?.notes}\n          <p>{item.metadata.notes}</p>\n        {/if}\n        {#if (item as any).notes?.linguistic}\n          <p>{(item as any).notes.linguistic}</p>\n        {/if}\n      </div>\n    </section>\n  {/if}\n</div>\n\n<style>\n  .grammar-panel {\n    display: flex;\n    flex-direction: column;\n    gap: var(--space-5);\n  }\n\n  .grammar-section {\n    background: var(--color-neutral-light);\n    border: 1px solid var(--color-neutral-border);\n    border-radius: var(--border-radius-lg);\n    padding: var(--space-4);\n  }\n\n  .section-title {\n    margin: 0 0 var(--space-3) 0;\n    font-size: var(--text-lg);\n    font-weight: var(--font-semibold);\n    color: var(--color-neutral-dark);\n  }\n\n  .property-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n    gap: var(--space-3);\n  }\n\n  .property-card {\n    display: flex;\n    flex-direction: column;\n    gap: var(--space-1);\n    padding: var(--space-3);\n    border: 1px solid var(--color-neutral-border);\n    border-radius: var(--border-radius-md);\n    background: white;\n  }\n\n  .property-label {\n    font-size: var(--text-xs);\n    color: var(--color-neutral-text);\n    text-transform: uppercase;\n    letter-spacing: 0.05em;\n    font-weight: var(--font-medium);\n  }\n\n  .property-value {\n    font-size: var(--text-md);\n    color: var(--color-neutral-dark);\n    font-weight: var(--font-semibold);\n  }\n\n\n\n  .notes-content {\n    padding: var(--space-3);\n    background: white;\n    border-radius: var(--border-radius-md);\n    border: 1px dashed var(--color-neutral-border);\n  }\n\n  .notes-content p {\n    margin: 0;\n    line-height: 1.6;\n    color: var(--color-neutral-dark);\n  }\n\n  .notes-content p + p {\n    margin-top: var(--space-2);\n  }\n\n  @media (max-width: 768px) {\n    .property-grid {\n      grid-template-columns: 1fr;\n    }\n\n\n  }\n</style>\n","<script lang=\"ts\">\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n\n  let { item } = $props<{ item: VocabularyItem }>();\n\n  let activeTab = $state('nominative');\n\n  const cases = ['nominative', 'accusative', 'dative', 'genitive'];\n  const caseLabels: Record<string, string> = {\n    nominative: 'Nominativ',\n    accusative: 'Akkusativ',\n    dative: 'Dativ',\n    genitive: 'Genitiv'\n  };\n\n  let hasDeclension = $derived(!!item.grammar?.declension);\n</script>\n\n{#if hasDeclension && item.grammar?.declension}\n  <div class=\"grammar-tabs\">\n    <div class=\"tabs\" role=\"tablist\">\n      {#each cases as caseName}\n        <button\n          class=\"tab-btn\"\n          class:active={activeTab === caseName}\n          role=\"tab\"\n          aria-selected={activeTab === caseName}\n          onclick={() => activeTab = caseName}\n        >\n          {caseLabels[caseName]}\n        </button>\n      {/each}\n    </div>\n\n    <div class=\"tab-content\" role=\"tabpanel\">\n      <table class=\"declension-table\">\n        <thead>\n          <tr>\n            <th>Singular</th>\n            <th>Plural</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>{item.grammar.declension[activeTab as keyof typeof item.grammar.declension]?.singular || '-'}</td>\n            <td>{item.grammar.declension[activeTab as keyof typeof item.grammar.declension]?.plural || '-'}</td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n{/if}\n\n<style>\n  .grammar-tabs {\n    margin-top: 1rem;\n    border: 1px solid var(--color-border);\n    border-radius: var(--radius-md);\n    overflow: hidden;\n  }\n\n  .tabs {\n    display: flex;\n    background-color: var(--color-surface-alt);\n    border-bottom: 1px solid var(--color-border);\n  }\n\n  .tab-btn {\n    flex: 1;\n    padding: 0.5rem;\n    border: none;\n    background: none;\n    cursor: pointer;\n    font-size: 0.875rem;\n    color: var(--color-text-secondary);\n    transition: all 0.2s;\n  }\n\n  .tab-btn:hover {\n    background-color: var(--color-surface-hover);\n    color: var(--color-text-primary);\n  }\n\n  .tab-btn.active {\n    background-color: var(--color-surface);\n    color: var(--color-primary);\n    font-weight: 600;\n    border-bottom: 2px solid var(--color-primary);\n  }\n\n  .tab-content {\n    padding: 1rem;\n    background-color: var(--color-surface);\n  }\n\n  .declension-table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n\n  .declension-table th,\n  .declension-table td {\n    padding: 0.5rem;\n    text-align: center;\n    border: 1px solid var(--color-border);\n  }\n\n  .declension-table th {\n    background-color: var(--color-surface-alt);\n    font-weight: 600;\n    font-size: 0.875rem;\n  }\n</style>\n","<script lang=\"ts\">\n  import { appState } from '$lib/state/app-state';\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n\n  let {\n    item,\n    tense = $bindable('present')\n  }: {\n    item: VocabularyItem;\n    tense?: 'present' | 'past' | 'perfect' | 'future';\n  } = $props();\n\n  const conjugation = $derived(item.grammar?.conjugation || {});\n\n  const tenses = $derived.by(() => {\n    const isDE = appState.languageMode === 'DE_BG';\n    return [\n      { id: 'present' as const, label: isDE ? 'Pr√§sens' : '–°–µ–≥–∞—à–Ω–æ –≤—Ä–µ–º–µ' },\n      { id: 'past' as const, label: isDE ? 'Pr√§teritum' : '–ú–∏–Ω–∞–ª–æ —Å–≤—ä—Ä—à–µ–Ω–æ –≤—Ä–µ–º–µ' },\n      { id: 'perfect' as const, label: isDE ? 'Perfekt' : '–ú–∏–Ω–∞–ª–æ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –≤—Ä–µ–º–µ' },\n      { id: 'future' as const, label: isDE ? 'Futur I' : '–ë—ä–¥–µ—â–µ –≤—Ä–µ–º–µ' }\n    ];\n  });\n\n  const pronouns = $derived.by(() => {\n    const isDE = appState.languageMode === 'DE_BG';\n    return [\n      { key: 'ich', label: isDE ? 'ich' : '–∞–∑' },\n      { key: 'du', label: isDE ? 'du' : '—Ç–∏' },\n      { key: 'er_sie_es', label: isDE ? 'er/sie/es' : '—Ç–æ–π/—Ç—è/—Ç–æ' },\n      { key: 'wir', label: isDE ? 'wir' : '–Ω–∏–µ' },\n      { key: 'ihr', label: isDE ? 'ihr' : '–≤–∏–µ' },\n      { key: 'sie_Sie', label: isDE ? 'sie/Sie' : '—Ç–µ/–í–∏–µ' }\n    ];\n  });\n\n  const hasData = $derived(Object.keys(conjugation).length > 0);\n</script>\n\n<div class=\"conjugation-panel\">\n  <!-- Tense tabs -->\n  <div class=\"tense-tabs\" role=\"tablist\" aria-label={appState.languageMode === 'DE_BG' ? 'Zeitformen' : '–í—Ä–µ–º–µ–Ω–∞'}>\n    {#each tenses as t}\n      <button\n        class=\"tense-tab\"\n        class:active={tense === t.id}\n        role=\"tab\"\n        aria-selected={tense === t.id}\n        aria-controls=\"{t.id}-conjugation\"\n        onclick={() => (tense = t.id)}\n      >\n        {t.label}\n      </button>\n    {/each}\n  </div>\n\n  <!-- Conjugation table -->\n  {#if hasData}\n    <div id=\"{tense}-conjugation\" role=\"tabpanel\" aria-labelledby=\"{tense}-tab\">\n      <table aria-label={appState.languageMode === 'DE_BG' ? 'Konjugationstabelle' : '–¢–∞–±–ª–∏—Ü–∞ –Ω–∞ —Å–ø—Ä–µ–∂–µ–Ω–∏–µ'}>\n        <thead>\n          <tr>\n            <th scope=\"col\">{appState.languageMode === 'DE_BG' ? 'Pronomen' : '–ú–µ—Å—Ç–æ–∏–º–µ–Ω–∏–µ'}</th>\n            <th scope=\"col\">{appState.languageMode === 'DE_BG' ? 'Form' : '–§–æ—Ä–º–∞'}</th>\n          </tr>\n        </thead>\n        <tbody>\n          {#each pronouns as pronoun}\n            {@const formKey = `${tense}_${pronoun.key}`}\n            {#if conjugation[formKey]}\n              <tr>\n                <th scope=\"row\" class=\"pronoun\">{pronoun.label}</th>\n                <td class=\"form\">{conjugation[formKey]}</td>\n              </tr>\n            {:else}\n              <tr>\n                <th scope=\"row\" class=\"pronoun\">{pronoun.label}</th>\n                <td class=\"form muted\">‚Äî</td>\n              </tr>\n            {/if}\n          {/each}\n        </tbody>\n      </table>\n    </div>\n  {:else}\n    <p class=\"no-data\">\n      {appState.languageMode === 'DE_BG' ? 'Keine Konjugationsdaten verf√ºgbar' : '–ù—è–º–∞ –Ω–∞–ª–∏—á–Ω–∏ –¥–∞–Ω–Ω–∏ –∑–∞ —Å–ø—Ä–µ–∂–µ–Ω–∏–µ'}\n    </p>\n  {/if}\n</div>\n\n<style>\n  .conjugation-panel {\n    display: flex;\n    flex-direction: column;\n    gap: var(--space-4);\n  }\n\n  .tense-tabs {\n    display: flex;\n    gap: var(--space-2);\n    flex-wrap: wrap;\n  }\n\n  .tense-tab {\n    padding: var(--space-2) var(--space-3);\n    border: 1px solid var(--color-neutral-border);\n    background: var(--color-neutral-light);\n    cursor: pointer;\n    border-radius: var(--border-radius-md);\n    font-size: var(--text-sm);\n    font-weight: var(--font-medium);\n    color: var(--color-neutral-dark);\n    transition: all 0.2s ease;\n  }\n\n  .tense-tab:hover {\n    background: var(--color-primary-light);\n    border-color: var(--color-primary);\n  }\n\n  .tense-tab.active {\n    background: var(--color-primary);\n    color: white;\n    border-color: var(--color-primary);\n    font-weight: var(--font-semibold);\n  }\n\n  .tense-tab:focus-visible {\n    outline: 3px solid var(--color-focus-ring, #0d6efd);\n    outline-offset: 2px;\n  }\n\n  table {\n    width: 100%;\n    border-collapse: collapse;\n    border: 1px solid var(--color-neutral-border);\n    border-radius: var(--border-radius-md);\n    overflow: hidden;\n    background: var(--color-neutral-light);\n  }\n\n  thead th {\n    background: var(--color-primary-light);\n    color: var(--color-primary-darker);\n    font-weight: var(--font-semibold);\n    font-size: var(--text-sm);\n    text-transform: uppercase;\n    letter-spacing: 0.05em;\n  }\n\n  th,\n  td {\n    padding: var(--space-3);\n    text-align: left;\n    border-bottom: 1px solid var(--color-neutral-border);\n  }\n\n  tbody tr:last-child th,\n  tbody tr:last-child td {\n    border-bottom: none;\n  }\n\n  .pronoun {\n    font-weight: var(--font-semibold);\n    color: var(--color-primary);\n  }\n\n  .form {\n    font-size: var(--text-md);\n    color: var(--color-neutral-dark);\n  }\n\n  .form.muted {\n    color: var(--color-neutral-text);\n  }\n\n  .no-data {\n    color: var(--color-neutral-text);\n    font-style: italic;\n    text-align: center;\n    padding: var(--space-6);\n  }\n\n  @media (max-width: 768px) {\n    .tense-tab {\n      font-size: var(--text-xs);\n      padding: var(--space-1) var(--space-2);\n    }\n\n    th,\n    td {\n      padding: var(--space-2);\n      font-size: var(--text-sm);\n    }\n  }\n</style>\n","/**\n * @license lucide-svelte v0.561.0 - ISC\n *\n * ISC License\n * \n * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.\n * \n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n * \n * ---\n * \n * The MIT License (MIT) (for portions derived from Feather)\n * \n * Copyright (c) 2013-2023 Cole Bemis\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n * \n */\nconst defaultAttributes = {\n    xmlns: 'http://www.w3.org/2000/svg',\n    width: 24,\n    height: 24,\n    viewBox: '0 0 24 24',\n    fill: 'none',\n    stroke: 'currentColor',\n    'stroke-width': 2,\n    'stroke-linecap': 'round',\n    'stroke-linejoin': 'round',\n};\nexport default defaultAttributes;\n","<script>import defaultAttributes from './defaultAttributes';\nexport let name = undefined;\nexport let color = 'currentColor';\nexport let size = 24;\nexport let strokeWidth = 2;\nexport let absoluteStrokeWidth = false;\nexport let iconNode = [];\nconst mergeClasses = (...classes) => classes.filter((className, index, array) => {\n    return Boolean(className) && array.indexOf(className) === index;\n})\n    .join(' ');\n</script>\n\n<svg\n  {...defaultAttributes}\n  {...$$restProps}\n  width={size}\n  height={size}\n  stroke={color}\n  stroke-width={\n    absoluteStrokeWidth\n      ? Number(strokeWidth) * 24 / Number(size)\n      : strokeWidth\n  }\n  class={\n    mergeClasses(\n      'lucide-icon',\n      'lucide',\n      name ? `lucide-${name}`: '',\n      $$props.class\n    )\n  }\n>\n  {#each iconNode as [tag, attrs]}\n    <svelte:element this={tag} {...attrs}/>\n  {/each}\n  <slot />\n</svg>\n","<script lang=\"ts\">\n  import { Button } from '$lib/components/ui/button';\n  import { ChevronLeft, ChevronRight } from 'lucide-svelte';\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n\n  let { item } = $props<{ item: VocabularyItem }>();\n\n  let currentIndex = $state(0);\n  let examples = $derived(item.examples || []);\n  let hasExamples = $derived(examples.length > 0);\n\n  function next() {\n    if (currentIndex < examples.length - 1) {\n      currentIndex++;\n    } else {\n      currentIndex = 0;\n    }\n  }\n\n  function prev() {\n    if (currentIndex > 0) {\n      currentIndex--;\n    } else {\n      currentIndex = examples.length - 1;\n    }\n  }\n</script>\n\n{#if hasExamples}\n  <div class=\"example-carousel\">\n    <div class=\"carousel-content\">\n      <div class=\"example-card\">\n        <p class=\"german\">{examples[currentIndex].german}</p>\n        <p class=\"bulgarian\">{examples[currentIndex].bulgarian}</p>\n        {#if examples[currentIndex].context}\n          <p class=\"context\">({examples[currentIndex].context})</p>\n        {/if}\n      </div>\n    </div>\n\n    {#if examples.length > 1}\n      <div class=\"controls\">\n        <Button variant=\"ghost\" size=\"icon\" onclick={prev} aria-label=\"Previous example\">\n          <ChevronLeft size={16} />\n        </Button>\n        <span class=\"indicator\">{currentIndex + 1} / {examples.length}</span>\n        <Button variant=\"ghost\" size=\"icon\" onclick={next} aria-label=\"Next example\">\n          <ChevronRight size={16} />\n        </Button>\n      </div>\n    {/if}\n  </div>\n{/if}\n\n<style>\n  .example-carousel {\n    margin-top: 1rem;\n    background-color: var(--color-surface-alt);\n    border-radius: var(--radius-md);\n    padding: 1rem;\n    border: 1px solid var(--color-border);\n  }\n\n  .example-card {\n    text-align: center;\n  }\n\n  .german {\n    font-weight: 600;\n    color: var(--color-text-primary);\n    margin-bottom: 0.25rem;\n  }\n\n  .bulgarian {\n    color: var(--color-text-secondary);\n    font-style: italic;\n  }\n\n  .context {\n    font-size: 0.75rem;\n    color: var(--color-text-tertiary);\n    margin-top: 0.25rem;\n  }\n\n  .controls {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 1rem;\n    margin-top: 0.5rem;\n  }\n\n  .indicator {\n    font-size: 0.75rem;\n    color: var(--color-text-tertiary);\n  }\n</style>\n","<script>/**\n * @license lucide-svelte v0.561.0 - ISC\n *\n * ISC License\n *\n * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n *\n * ---\n *\n * The MIT License (MIT) (for portions derived from Feather)\n *\n * Copyright (c) 2013-2023 Cole Bemis\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\nimport Icon from '../Icon.svelte';\nconst iconNode = [[\"path\", { \"d\": \"m15 18-6-6 6-6\" }]];\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {FunctionalComponent} Svelte component\n *\n */\n</script>\n\n<Icon name=\"chevron-left\" {...$$props} iconNode={iconNode}>\n  <slot/>\n</Icon>\n","<script>/**\n * @license lucide-svelte v0.561.0 - ISC\n *\n * ISC License\n *\n * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2023 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2025.\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n *\n * ---\n *\n * The MIT License (MIT) (for portions derived from Feather)\n *\n * Copyright (c) 2013-2023 Cole Bemis\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\nimport Icon from '../Icon.svelte';\nconst iconNode = [[\"path\", { \"d\": \"m9 18 6-6-6-6\" }]];\n/**\n * @component @name ChevronRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtOSAxOCA2LTYtNi02IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/chevron-right\n * @see https://lucide.dev/guide/packages/lucide-svelte - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {FunctionalComponent} Svelte component\n *\n */\n</script>\n\n<Icon name=\"chevron-right\" {...$$props} iconNode={iconNode}>\n  <slot/>\n</Icon>\n","<script lang=\"ts\">\n  import { appState } from '$lib/state/app-state';\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n  import MnemonicEditor from '$lib/components/ui/MnemonicEditor.svelte';\n\n  let { item }: { item: VocabularyItem } = $props();\n\n  // Type-safe derived values with proper guards\n  const generalNotes = $derived(item.notes?.general || item.metadata?.notes || '');\n  const culturalNotes = $derived(\n    (item.culturalNotes && item.culturalNotes.length > 0 ? item.culturalNotes[0] : '') || \n    item.metadata?.culturalNote || \n    ''\n  );\n  const forGerman = $derived(item.notes?.forGermanSpeakers || '');\n  const forBulgarian = $derived(item.notes?.forBulgarianSpeakers || '');\n  const linguisticNote = $derived(item.notes?.linguistic || '');\n</script>\n\n<div class=\"notes-panel\" role=\"region\" aria-label={appState.languageMode === 'DE_BG' ? 'Notizen und Tipps' : '–ë–µ–ª–µ–∂–∫–∏ –∏ —Å—ä–≤–µ—Ç–∏'}>\n  <!-- Mnemonics (Always visible to allow adding) -->\n  <section class=\"note-section mnemonic-note\">\n    <h4 class=\"section-title\">\n      <span class=\"section-icon\" aria-hidden=\"true\">üí°</span>\n      {appState.languageMode === 'DE_BG' ? 'Merkhilfe' : '–ü–æ–º–æ—â –∑–∞ –∑–∞–ø–æ–º–Ω—è–Ω–µ'}\n    </h4>\n    <div class=\"note-content\">\n      <MnemonicEditor {item} />\n    </div>\n  </section>\n\n  <!-- Cultural Notes -->\n  {#if culturalNotes}\n    <section class=\"note-section cultural-note\">\n      <h4 class=\"section-title\">\n        <span class=\"section-icon\" aria-hidden=\"true\">üåç</span>\n        {appState.languageMode === 'DE_BG' ? 'Kulturelle Hinweise' : '–ö—É–ª—Ç—É—Ä–Ω–∏ –±–µ–ª–µ–∂–∫–∏'}\n      </h4>\n      <div class=\"note-content\">\n        <p class=\"note-text\">{culturalNotes}</p>\n      </div>\n    </section>\n  {/if}\n\n  <!-- General Notes -->\n  {#if generalNotes}\n    <section class=\"note-section general-note\">\n      <h4 class=\"section-title\">\n        <span class=\"section-icon\" aria-hidden=\"true\">üìù</span>\n        {appState.languageMode === 'DE_BG' ? 'Allgemeine Hinweise' : '–û–±—â–∏ –±–µ–ª–µ–∂–∫–∏'}\n      </h4>\n      <div class=\"note-content\">\n        <p class=\"note-text\">{generalNotes}</p>\n      </div>\n    </section>\n  {/if}\n\n  <!-- Linguistic Notes -->\n  {#if linguisticNote}\n    <section class=\"note-section linguistic-note\">\n      <h4 class=\"section-title\">\n        <span class=\"section-icon\" aria-hidden=\"true\">üî¨</span>\n        {appState.languageMode === 'DE_BG' ? 'Linguistische Anmerkungen' : '–õ–∏–Ω–≥–≤–∏—Å—Ç–∏—á–Ω–∏ –±–µ–ª–µ–∂–∫–∏'}\n      </h4>\n      <div class=\"note-content\">\n        <p class=\"note-text\">{linguisticNote}</p>\n      </div>\n    </section>\n  {/if}\n\n  <!-- Language-Specific Tips -->\n  {#if forGerman || forBulgarian}\n    <section class=\"note-section language-tips\">\n      <h4 class=\"section-title\">\n        <span class=\"section-icon\" aria-hidden=\"true\">üéì</span>\n        {appState.languageMode === 'DE_BG' ? 'Lerntipps' : '–°—ä–≤–µ—Ç–∏ –∑–∞ —É—á–µ–Ω–µ'}\n      </h4>\n      <div class=\"tips-grid\">\n        {#if forGerman}\n          <div class=\"tip-card german-tip\">\n            <div class=\"tip-header\">\n              <span class=\"tip-flag\" aria-hidden=\"true\">üá©üá™</span>\n              <span class=\"tip-label\">\n                {appState.languageMode === 'DE_BG' ? 'F√ºr Deutschsprachige' : '–ó–∞ –≥–æ–≤–æ—Ä–µ—â–∏ –Ω–µ–º—Å–∫–∏'}\n              </span>\n            </div>\n            <p class=\"tip-text\">{forGerman}</p>\n          </div>\n        {/if}\n        {#if forBulgarian}\n          <div class=\"tip-card bulgarian-tip\">\n            <div class=\"tip-header\">\n              <span class=\"tip-flag\" aria-hidden=\"true\">üáßüá¨</span>\n              <span class=\"tip-label\">\n                {appState.languageMode === 'DE_BG' ? 'F√ºr Bulgarischsprachige' : '–ó–∞ –≥–æ–≤–æ—Ä–µ—â–∏ –±—ä–ª–≥–∞—Ä—Å–∫–∏'}\n              </span>\n            </div>\n            <p class=\"tip-text\">{forBulgarian}</p>\n          </div>\n        {/if}\n      </div>\n    </section>\n  {/if}\n</div>\n\n<style>\n  .notes-panel {\n    display: flex;\n    flex-direction: column;\n    gap: var(--space-4);\n  }\n\n  .note-section {\n    border: 1px solid var(--color-neutral-border);\n    border-radius: var(--border-radius-lg);\n    padding: var(--space-4);\n    background: var(--color-neutral-light);\n  }\n\n  .cultural-note {\n    border-left: 4px solid var(--color-success);\n    background: linear-gradient(135deg, #f0fdf4 0%, white 100%);\n  }\n\n  .mnemonic-note {\n    border-left: 4px solid var(--color-warning);\n    background: linear-gradient(135deg, #fffbeb 0%, white 100%);\n  }\n\n  .general-note {\n    border-left: 4px solid var(--color-primary);\n    background: linear-gradient(135deg, #f0f9ff 0%, white 100%);\n  }\n\n  .linguistic-note {\n    border-left: 4px solid var(--color-info);\n    background: linear-gradient(135deg, #f0f9ff 0%, white 100%);\n  }\n\n  .language-tips {\n    border-left: 4px solid var(--color-accent);\n    background: linear-gradient(135deg, #faf5ff 0%, white 100%);\n  }\n\n  .section-title {\n    display: flex;\n    align-items: center;\n    gap: var(--space-2);\n    margin: 0 0 var(--space-3) 0;\n    font-size: var(--text-lg);\n    font-weight: var(--font-semibold);\n    color: var(--color-neutral-dark);\n  }\n\n  .section-icon {\n    font-size: var(--text-xl);\n  }\n\n  .note-content {\n    background: white;\n    padding: var(--space-3);\n    border-radius: var(--border-radius-md);\n  }\n\n  .note-text {\n    margin: 0;\n    line-height: 1.7;\n    color: var(--color-neutral-dark);\n    font-size: var(--text-md);\n  }\n\n  .tips-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n    gap: var(--space-3);\n  }\n\n  .tip-card {\n    background: white;\n    border-radius: var(--border-radius-md);\n    padding: var(--space-3);\n    transition: all 0.2s ease;\n  }\n\n  .tip-card:hover {\n    box-shadow: var(--shadow-card);\n    transform: translateY(-2px);\n  }\n\n  .german-tip {\n    border: 1px solid #dbeafe;\n  }\n\n  .bulgarian-tip {\n    border: 1px solid #fce7f3;\n  }\n\n  .tip-header {\n    display: flex;\n    align-items: center;\n    gap: var(--space-2);\n    margin-bottom: var(--space-2);\n    padding-bottom: var(--space-2);\n    border-bottom: 1px solid var(--color-neutral-border);\n  }\n\n  .tip-flag {\n    font-size: var(--text-xl);\n  }\n\n  .tip-label {\n    font-weight: var(--font-semibold);\n    font-size: var(--text-sm);\n    color: var(--color-neutral-dark);\n  }\n\n  .tip-text {\n    margin: 0;\n    line-height: 1.6;\n    color: var(--color-neutral-dark);\n    font-size: var(--text-sm);\n  }\n\n  @media (max-width: 768px) {\n    .tips-grid {\n      grid-template-columns: 1fr;\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import { appState } from '$lib/state/app-state';\n  import { Button } from '$lib/components/ui/button';\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n\n  let { item, onSave } = $props<{ \n    item: VocabularyItem; \n    onSave?: (mnemonic: string) => void \n  }>();\n\n  // Resolve mnemonic from various possible locations (unified schema or legacy metadata)\n  const resolvedMnemonic = $derived(\n    (item.mnemonics && item.mnemonics.length > 0 ? item.mnemonics[0] : '') || \n    (item.metadata as any)?.mnemonic || \n    ''\n  );\n\n  let isEditing = $state(false);\n  let mnemonicText = $state(resolvedMnemonic);\n  let error = $state<string | null>(null);\n\n  // Update local state when item changes (if not editing)\n  $effect(() => {\n    if (!isEditing) {\n      mnemonicText = resolvedMnemonic;\n    }\n  });\n\n  function handleSave() {\n    if (!mnemonicText.trim()) {\n      error = 'Mnemonic cannot be empty';\n      return;\n    }\n\n    // In a real app, we would save this to the backend\n    // For now, we just update the local state via the callback\n    if (onSave) {\n      onSave(mnemonicText);\n    }\n    \n    isEditing = false;\n    error = null;\n  }\n\n  function handleCancel() {\n    mnemonicText = resolvedMnemonic;\n    isEditing = false;\n    error = null;\n  }\n</script>\n\n<div class=\"mnemonic-editor\">\n  {#if !isEditing}\n    <div class=\"mnemonic-display\">\n      {#if resolvedMnemonic}\n        <p class=\"mnemonic-text\">{resolvedMnemonic}</p>\n      {:else}\n        <p class=\"no-mnemonic\">\n          {appState.languageMode === 'DE_BG' ? 'Keine Merkhilfe vorhanden' : '–ù—è–º–∞ –ø–æ–º–æ—â –∑–∞ –∑–∞–ø–æ–º–Ω—è–Ω–µ'}\n        </p>\n      {/if}\n      <Button variant=\"outline\" size=\"sm\" onclick={() => isEditing = true}>\n        {resolvedMnemonic \n          ? (appState.languageMode === 'DE_BG' ? 'Bearbeiten' : '–†–µ–¥–∞–∫—Ç–∏—Ä–∞–π')\n          : (appState.languageMode === 'DE_BG' ? 'Hinzuf√ºgen' : '–î–æ–±–∞–≤–∏')}\n      </Button>\n    </div>\n  {:else}\n    <div class=\"mnemonic-edit-form\">\n      <textarea \n        bind:value={mnemonicText} \n        placeholder={appState.languageMode === 'DE_BG' ? 'Geben Sie eine Merkhilfe ein...' : '–í—ä–≤–µ–¥–µ—Ç–µ –ø–æ–º–æ—â –∑–∞ –∑–∞–ø–æ–º–Ω—è–Ω–µ...'}\n        class=\"mnemonic-input\"\n        rows=\"3\"\n      ></textarea>\n      {#if error}\n        <p class=\"error-text\">{error}</p>\n      {/if}\n      <div class=\"edit-actions\">\n        <Button variant=\"ghost\" size=\"sm\" onclick={handleCancel}>\n          {appState.languageMode === 'DE_BG' ? 'Abbrechen' : '–û—Ç–∫–∞–∑'}\n        </Button>\n        <Button size=\"sm\" onclick={handleSave}>\n          {appState.languageMode === 'DE_BG' ? 'Speichern' : '–ó–∞–ø–∞–∑–∏'}\n        </Button>\n      </div>\n    </div>\n  {/if}\n</div>\n\n<style>\n  .mnemonic-editor {\n    margin-top: 1rem;\n    padding: 1rem;\n    background-color: var(--color-surface-alt);\n    border-radius: var(--radius-md);\n    border: 1px solid var(--color-border);\n  }\n\n  .mnemonic-display {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .mnemonic-text {\n    font-style: italic;\n    color: var(--color-text-primary);\n    margin: 0;\n  }\n\n  .no-mnemonic {\n    color: var(--color-text-secondary);\n    font-style: italic;\n    margin: 0;\n  }\n\n  .mnemonic-edit-form {\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .mnemonic-input {\n    width: 100%;\n    padding: 0.5rem;\n    border: 1px solid var(--color-border);\n    border-radius: var(--radius-sm);\n    font-family: inherit;\n    font-size: 0.875rem;\n    resize: vertical;\n  }\n\n  .error-text {\n    color: var(--color-error);\n    font-size: 0.875rem;\n    margin: 0;\n  }\n\n  .edit-actions {\n    display: flex;\n    justify-content: flex-end;\n    gap: 0.5rem;\n  }\n</style>\n","<script lang=\"ts\">\n  import { appState } from '$lib/state/app-state';\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n  import Flashcard from '$lib/components/Flashcard.svelte';\n  \n  // Dashboard components\n  import DashboardTabs from './components/DashboardTabs.svelte';\n  import GrammarPanel from './components/GrammarPanel.svelte';\n  import WordFamilyPanel from './components/WordFamilyPanel.svelte';\n  import EtymologyPanel from './components/EtymologyPanel.svelte';\n  import ExamplesPanel from './components/ExamplesPanel.svelte';\n  import NotesPanel from './components/NotesPanel.svelte';\n  import ExternalLinksPanel from './components/ExternalLinksPanel.svelte';\n\n  let { data } = $props<{ data: { item: VocabularyItem | null } }>();\n  let item = $derived<VocabularyItem | null>(data?.item ?? null);\n  let error = $derived<string | null>(item ? null : (appState.languageMode === 'DE_BG' ? 'Eintrag nicht gefunden' : '–ó–∞–ø–∏—Å—ä—Ç –Ω–µ –µ –Ω–∞–º–µ—Ä–µ–Ω'));\n\n  const dirArrow = $derived(appState.languageMode === 'DE_BG' ? '‚Üí' : '‚Üê');\n\n  // Active tab state for dashboard\n  type TabId = 'overview' | 'grammar' | 'family' | 'examples' | 'analysis' | 'notes' | 'resources';\n  let activeTab = $state<TabId>('overview');\n\n  // Type-safe derived values with proper guards\n  const exampleSentences = $derived.by(() => {\n    if (!item) return [];\n    \n    if (item.examples && item.examples.length > 0) {\n      return item.examples.map(ex => ({\n        source: ex.german,\n        target: ex.bulgarian,\n        context: ex.context\n      }));\n    }\n\n    const legacy = (item as any).exampleSentences;\n    \n    if (Array.isArray(legacy)) {\n      return legacy.map((ex: any) => ({\n        source: ex.source ?? ex.de ?? '',\n        target: ex.target ?? ex.bg ?? '',\n        context: ex.context\n      }));\n    }\n    \n    return [];\n  });\n\n  const alternatives = $derived.by(() => {\n    if (!item) return [];\n    const alts = (item as any).alternatives;\n    return Array.isArray(alts) ? alts : [];\n  });\n</script>\n\n<svelte:window onkeydown={(e) => {\n  if (e.key === 'Escape') {\n    window.history.back();\n  }\n}} />\n\n<div class=\"learn-container\" role=\"main\" aria-label={appState.languageMode === 'DE_BG' ? 'Lernseite f√ºr Vokabel' : '–°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞ —É—á–µ–Ω–µ –Ω–∞ –¥—É–º–∞'}>\n  <div class=\"sr-only\" role=\"status\" aria-live=\"polite\" aria-atomic=\"true\"></div>\n  {#if error}\n    <div class=\"state-block\" role=\"alert\"><p>{error}</p></div>\n  {:else if item}\n    <!-- Flashcard primary learn UI -->\n    <div class=\"learn-card\">\n      <Flashcard vocabularyItem={item} />\n    </div>\n\n    <!-- Hero section with word title -->\n    <header class=\"hero\" aria-labelledby=\"learn-title\">\n      <div class=\"hero__main\">\n        <h1 id=\"learn-title\" class=\"hero__title\">{item.german}</h1>\n        <div class=\"hero__arrow\" aria-hidden=\"true\">{dirArrow}</div>\n        <h2 class=\"hero__subtitle\">{item.bulgarian}</h2>\n      </div>\n      <div class=\"hero__badges\" role=\"list\" aria-label={appState.languageMode === 'DE_BG' ? 'Wort-Eigenschaften' : '–°–≤–æ–π—Å—Ç–≤–∞ –Ω–∞ –¥—É–º–∞—Ç–∞'}>\n        {#if item.cefrLevel}<span class=\"badge badge--cefr\" role=\"listitem\">CEFR {item.cefrLevel}</span>{/if}\n        <span class=\"badge badge--pos\" role=\"listitem\">{item.partOfSpeech}</span>\n        {#if item.categories?.length}\n          {#each item.categories.slice(0, 3) as cat}\n            <span class=\"badge badge--cat\" role=\"listitem\">{cat}</span>\n          {/each}\n        {/if}\n      </div>\n    </header>\n\n    <!-- Dashboard tabs navigation -->\n    <DashboardTabs bind:activeTab />\n\n    <!-- Dashboard panels -->\n    <div class=\"dashboard-content\">\n      {#if activeTab === 'overview'}\n        <!-- Overview panel - Quick summary of the word -->\n        <section class=\"panel overview-panel\">\n          <div class=\"panel__header\">\n            <h3>{appState.languageMode === 'DE_BG' ? 'üìã Schnell√ºbersicht' : 'üìã –ë—ä—Ä–∑ –ø—Ä–µ–≥–ª–µ–¥'}</h3>\n          </div>\n          <div class=\"overview-grid\">\n            <!-- Quick properties -->\n            <div class=\"overview-section\">\n              <h4 class=\"section-title\">\n                {appState.languageMode === 'DE_BG' ? 'Grundinformationen' : '–û—Å–Ω–æ–≤–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è'}\n              </h4>\n              <div class=\"property-list\">\n                <div class=\"property-item\">\n                  <span class=\"property-label\">\n                    {appState.languageMode === 'DE_BG' ? 'Wortart' : '–ß–∞—Å—Ç –Ω–∞ —Ä–µ—á—Ç–∞'}\n                  </span>\n                  <span class=\"property-value\">{item.partOfSpeech}</span>\n                </div>\n                {#if item.cefrLevel}\n                  <div class=\"property-item\">\n                    <span class=\"property-label\">CEFR</span>\n                    <span class=\"property-value badge-inline badge--cefr\">{item.cefrLevel}</span>\n                  </div>\n                {/if}\n                {#if item.categories?.length}\n                  <div class=\"property-item\">\n                    <span class=\"property-label\">\n                      {appState.languageMode === 'DE_BG' ? 'Kategorien' : '–ö–∞—Ç–µ–≥–æ—Ä–∏–∏'}\n                    </span>\n                    <span class=\"property-value\">{item.categories.slice(0, 3).join(', ')}</span>\n                  </div>\n                {/if}\n              </div>\n            </div>\n\n            <!-- Quick examples -->\n            {#if exampleSentences.length > 0}\n              <div class=\"overview-section\">\n                <h4 class=\"section-title\">\n                  {appState.languageMode === 'DE_BG' ? 'Top-Beispiele' : '–¢–æ–ø –ø—Ä–∏–º–µ—Ä–∏'}\n                </h4>\n                <ul class=\"example-list-compact\">\n                  {#each exampleSentences.slice(0, 3) as ex}\n                    <li class=\"example-row-compact\">\n                      <span class=\"example-src-compact\">{ex.source}</span>\n                      <span class=\"example-arrow-compact\" aria-hidden=\"true\">{dirArrow}</span>\n                      <span class=\"example-tgt-compact\">{ex.target}</span>\n                    </li>\n                  {/each}\n                </ul>\n              </div>\n            {/if}\n\n            <!-- Quick alternatives -->\n            {#if alternatives.length > 0}\n              <div class=\"overview-section\">\n                <h4 class=\"section-title\">\n                  {appState.languageMode === 'DE_BG' ? 'Verwandte Formen' : '–°–≤—ä—Ä–∑–∞–Ω–∏ —Ñ–æ—Ä–º–∏'}\n                </h4>\n                <div class=\"tag-list\">\n                  {#each alternatives.slice(0, 5) as alt}\n                    <span class=\"tag\">{alt}</span>\n                  {/each}\n                </div>\n              </div>\n            {/if}\n          </div>\n        </section>\n      {:else if activeTab === 'grammar'}\n        <GrammarPanel {item} />\n      {:else if activeTab === 'family'}\n        <WordFamilyPanel {item} />\n      {:else if activeTab === 'examples'}\n        <ExamplesPanel {item} />\n      {:else if activeTab === 'analysis'}\n        <EtymologyPanel {item} />\n      {:else if activeTab === 'notes'}\n        <NotesPanel {item} />\n      {:else if activeTab === 'resources'}\n        <ExternalLinksPanel {item} />\n      {/if}\n    </div>\n\n    <!-- Actions -->\n    <nav class=\"actions\" aria-label={appState.languageMode === 'DE_BG' ? 'Lernaktionen' : '–£—á–µ–±–Ω–∏ –¥–µ–π—Å—Ç–≤–∏—è'}>\n      <a class=\"button\" href=\"/practice\" aria-label={appState.languageMode === 'DE_BG' ? 'Mit diesem Wort √ºben' : '–£–ø—Ä–∞–∂–Ω—è–≤–∞–π —Ç–∞–∑–∏ –¥—É–º–∞'}>\n        {appState.languageMode === 'DE_BG' ? '√úben' : '–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è'}\n      </a>\n      <a class=\"button button--secondary\" href=\"/vocabulary\">{appState.languageMode === 'DE_BG' ? 'Zur√ºck zum W√∂rterbuch' : '–ù–∞–∑–∞–¥ –∫—ä–º —Ä–µ—á–Ω–∏–∫–∞'}</a>\n    </nav>\n  {/if}\n</div>\n\n<style>\n  .learn-container {\n    max-width: var(--container-max-width);\n    margin: 0 auto;\n    padding: var(--space-7) var(--space-5) var(--space-7);\n    color: var(--color-neutral-dark);\n  }\n\n  .learn-card { \n    display: flex; \n    justify-content: center; \n    margin-bottom: var(--space-5); \n  }\n\n  /* Hero section */\n  .hero {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    gap: var(--space-4);\n    margin-bottom: var(--space-6);\n  }\n\n  .hero__main { \n    display: flex; \n    align-items: baseline; \n    gap: var(--space-3); \n  }\n\n  .hero__title { \n    margin: 0; \n    font-size: var(--text-3xl); \n    font-weight: var(--font-extrabold); \n    color: var(--color-neutral-dark); \n  }\n\n  .hero__subtitle { \n    margin: 0; \n    font-size: var(--text-2xl); \n    color: var(--color-primary-darker); \n  }\n\n  .hero__arrow { \n    color: var(--color-neutral-text); \n    font-size: var(--text-xl); \n  }\n\n  .hero__badges { \n    display: flex; \n    flex-wrap: wrap; \n    gap: var(--space-2); \n  }\n\n  /* Badges */\n  .badge { \n    padding: var(--space-1) var(--space-2); \n    border-radius: 999px; \n    font-size: var(--text-sm); \n    border: 1px solid var(--color-neutral-border); \n  }\n\n  .badge--cefr { \n    background: var(--color-warning-light); \n    border-color: var(--color-warning); \n  }\n\n  .badge--pos { \n    background: var(--color-primary-light); \n    border-color: var(--color-primary); \n  }\n\n  .badge--cat { \n    background: var(--color-secondary-light); \n  }\n\n  .badge-inline {\n    padding: var(--space-1) var(--space-2);\n    border-radius: 999px;\n    font-size: var(--text-xs);\n    font-weight: var(--font-semibold);\n  }\n\n  /* Dashboard content */\n  .dashboard-content {\n    margin-top: var(--space-5);\n    margin-bottom: var(--space-6);\n  }\n\n  /* Panel styles */\n  .panel { \n    border: 1px solid var(--color-neutral-border); \n    border-radius: var(--border-radius-xl); \n    background: var(--color-neutral-light); \n    padding: var(--space-5); \n    box-shadow: var(--shadow-card); \n  }\n\n  .panel__header h3 { \n    margin: 0 0 var(--space-4) 0; \n    font-size: var(--text-xl); \n    font-weight: var(--font-bold);\n    color: var(--color-neutral-dark);\n  }\n\n  /* Overview panel specific styles */\n  .overview-panel {\n    background: linear-gradient(135deg, var(--color-neutral-light) 0%, white 100%);\n  }\n\n  .overview-grid {\n    display: grid;\n    gap: var(--space-5);\n  }\n\n  .overview-section {\n    background: white;\n    border: 1px solid var(--color-neutral-border);\n    border-radius: var(--border-radius-lg);\n    padding: var(--space-4);\n  }\n\n  .section-title {\n    margin: 0 0 var(--space-3) 0;\n    font-size: var(--text-md);\n    font-weight: var(--font-semibold);\n    color: var(--color-neutral-dark);\n    padding-bottom: var(--space-2);\n    border-bottom: 1px solid var(--color-neutral-border);\n  }\n\n  .property-list {\n    display: flex;\n    flex-direction: column;\n    gap: var(--space-2);\n  }\n\n  .property-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: var(--space-2);\n    border-radius: var(--border-radius-md);\n    background: var(--color-neutral-light);\n  }\n\n  .property-label {\n    font-size: var(--text-sm);\n    color: var(--color-neutral-text);\n    font-weight: var(--font-medium);\n  }\n\n  .property-value {\n    font-size: var(--text-sm);\n    color: var(--color-neutral-dark);\n    font-weight: var(--font-semibold);\n  }\n\n  /* Compact example styles for overview */\n  .example-list-compact {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    display: flex;\n    flex-direction: column;\n    gap: var(--space-2);\n  }\n\n  .example-row-compact {\n    display: grid;\n    grid-template-columns: 1fr auto 1fr;\n    gap: var(--space-2);\n    align-items: center;\n    font-size: var(--text-sm);\n    padding: var(--space-2);\n    background: var(--color-neutral-light);\n    border-radius: var(--border-radius-sm);\n  }\n\n  .example-src-compact {\n    color: var(--color-neutral-dark);\n  }\n\n  .example-arrow-compact {\n    color: var(--color-neutral-text);\n    font-weight: var(--font-bold);\n  }\n\n  .example-tgt-compact {\n    color: var(--color-primary-darker);\n    font-weight: var(--font-medium);\n  }\n\n  /* Tag list */\n  .tag-list { \n    display: flex; \n    flex-wrap: wrap; \n    gap: var(--space-2); \n  }\n\n  .tag { \n    padding: var(--space-1) var(--space-3); \n    border-radius: 999px; \n    background: var(--color-primary-light); \n    color: var(--color-primary-darker);\n    font-size: var(--text-sm);\n    font-weight: var(--font-medium);\n    border: 1px solid var(--color-primary);\n  }\n\n  /* Actions */\n  .actions { \n    display: flex; \n    gap: var(--space-3); \n    margin-top: var(--space-6); \n  }\n\n  .button { \n    padding: var(--space-3) var(--space-4); \n    border-radius: var(--border-radius-lg); \n    background: var(--color-button-primary); \n    color: #fff; \n    text-decoration: none; \n    font-weight: var(--font-semibold);\n    transition: all 0.2s ease;\n  }\n\n  .button:hover {\n    box-shadow: var(--shadow-card);\n    transform: translateY(-1px);\n  }\n\n  .button:focus-visible { \n    outline: 3px solid var(--color-focus-ring, #0d6efd); \n    outline-offset: 2px; \n  }\n\n  .button--secondary { \n    background: var(--color-secondary-light); \n    color: var(--color-neutral-dark); \n    border: 1px solid var(--color-neutral-border); \n  }\n\n  /* State messages */\n  .state-block { \n    text-align: center; \n    color: var(--color-neutral-text); \n    padding: var(--space-8);\n  }\n\n  .sr-only { \n    position: absolute; \n    width: 1px; \n    height: 1px; \n    padding: 0; \n    margin: -1px; \n    overflow: hidden; \n    clip: rect(0, 0, 0, 0); \n    white-space: nowrap; \n    border-width: 0; \n  }\n\n  /* Responsive design */\n  @media (max-width: var(--breakpoint-md)) {\n    .hero { \n      flex-direction: column; \n      align-items: flex-start; \n    }\n\n    .overview-grid {\n      grid-template-columns: 1fr;\n    }\n\n    .example-row-compact {\n      grid-template-columns: 1fr;\n      gap: var(--space-1);\n      text-align: center;\n    }\n\n    .example-arrow-compact {\n      display: none;\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import { appState } from '$lib/state/app-state';\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n\n  let { item }: { item: VocabularyItem } = $props();\n\n  const synonyms = $derived(item.synonyms || []);\n  const antonyms = $derived(item.antonyms || []);\n  const relatedWords = $derived(item.relatedWords || []);\n\n  const hasData = $derived(synonyms.length > 0 || antonyms.length > 0 || relatedWords.length > 0);\n</script>\n\n<div class=\"word-family-panel\" role=\"region\" aria-label={appState.languageMode === 'DE_BG' ? 'Wortfamilie' : '–°–µ–º–µ–π—Å—Ç–≤–æ –¥—É–º–∏'}>\n  {#if hasData}\n    {#if synonyms.length > 0}\n      <section class=\"family-section\">\n        <h4 class=\"family-title\">\n          {appState.languageMode === 'DE_BG' ? '‚úì Synonyme' : '‚úì –°–∏–Ω–æ–Ω–∏–º–∏'}\n        </h4>\n        <p class=\"family-description\">\n          {appState.languageMode === 'DE_BG' \n            ? 'W√∂rter mit √§hnlicher Bedeutung' \n            : '–î—É–º–∏ —Å—ä—Å —Å—Ö–æ–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ'}\n        </p>\n        <ul class=\"word-list\" role=\"list\">\n          {#each synonyms as word}\n            <li class=\"word-tag synonym\">{word}</li>\n          {/each}\n        </ul>\n      </section>\n    {/if}\n\n    {#if antonyms.length > 0}\n      <section class=\"family-section\">\n        <h4 class=\"family-title\">\n          {appState.languageMode === 'DE_BG' ? '‚áÑ Antonyme' : '‚áÑ –ê–Ω—Ç–æ–Ω–∏–º–∏'}\n        </h4>\n        <p class=\"family-description\">\n          {appState.languageMode === 'DE_BG' \n            ? 'W√∂rter mit gegenteiliger Bedeutung' \n            : '–î—É–º–∏ —Å –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ'}\n        </p>\n        <ul class=\"word-list\" role=\"list\">\n          {#each antonyms as word}\n            <li class=\"word-tag antonym\">{word}</li>\n          {/each}\n        </ul>\n      </section>\n    {/if}\n\n    {#if relatedWords.length > 0}\n      <section class=\"family-section\">\n        <h4 class=\"family-title\">\n          {appState.languageMode === 'DE_BG' ? 'üîó Verwandte W√∂rter' : 'üîó –°–≤—ä—Ä–∑–∞–Ω–∏ –¥—É–º–∏'}\n        </h4>\n        <p class=\"family-description\">\n          {appState.languageMode === 'DE_BG' \n            ? 'Zusammenh√§ngende Begriffe und Wortbildungen' \n            : '–°–≤—ä—Ä–∑–∞–Ω–∏ –ø–æ–Ω—è—Ç–∏—è –∏ —Å–ª–æ–≤–æ–æ–±—Ä–∞–∑—É–≤–∞–Ω–∏—è'}\n        </p>\n        <ul class=\"word-list\" role=\"list\">\n          {#each relatedWords as word}\n            <li class=\"word-tag related\">{word}</li>\n          {/each}\n        </ul>\n      </section>\n    {/if}\n  {:else}\n    <div class=\"no-data-container\">\n      <p class=\"no-data\">\n        {appState.languageMode === 'DE_BG' \n          ? 'Keine Wortfamilien-Daten verf√ºgbar' \n          : '–ù—è–º–∞ –Ω–∞–ª–∏—á–Ω–∏ –¥–∞–Ω–Ω–∏ –∑–∞ —Å–µ–º–µ–π—Å—Ç–≤–æ –¥—É–º–∏'}\n      </p>\n      <p class=\"no-data-hint\">\n        {appState.languageMode === 'DE_BG' \n          ? 'Diese Information wird mit zuk√ºnftigen Updates erg√§nzt.' \n          : '–¢–∞–∑–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —â–µ –±—ä–¥–µ –¥–æ–ø—ä–ª–Ω–µ–Ω–∞ —Å –±—ä–¥–µ—â–∏ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏.'}\n      </p>\n    </div>\n  {/if}\n</div>\n\n<style>\n  .word-family-panel {\n    display: flex;\n    flex-direction: column;\n    gap: var(--space-5);\n  }\n\n  .family-section {\n    background: var(--color-neutral-light);\n    border: 1px solid var(--color-neutral-border);\n    border-radius: var(--border-radius-lg);\n    padding: var(--space-4);\n  }\n\n  .family-title {\n    margin: 0 0 var(--space-1) 0;\n    font-size: var(--text-lg);\n    font-weight: var(--font-semibold);\n    color: var(--color-neutral-dark);\n  }\n\n  .family-description {\n    margin: 0 0 var(--space-3) 0;\n    font-size: var(--text-sm);\n    color: var(--color-neutral-text);\n    line-height: 1.5;\n  }\n\n  .word-list {\n    display: flex;\n    flex-wrap: wrap;\n    gap: var(--space-2);\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  .word-tag {\n    padding: var(--space-2) var(--space-3);\n    border-radius: var(--border-radius-md);\n    font-size: var(--text-sm);\n    font-weight: var(--font-medium);\n    transition: all 0.2s ease;\n  }\n\n  .word-tag:hover {\n    transform: translateY(-1px);\n    box-shadow: var(--shadow-card);\n  }\n\n  .word-tag.synonym {\n    background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);\n    color: #155724;\n    border: 1px solid #b1dfbb;\n  }\n\n  .word-tag.antonym {\n    background: linear-gradient(135deg, #f8d7da 0%, #f5c6cb 100%);\n    color: #721c24;\n    border: 1px solid #f1b0b7;\n  }\n\n  .word-tag.related {\n    background: linear-gradient(135deg, #d1ecf1 0%, #bee5eb 100%);\n    color: #0c5460;\n    border: 1px solid #abdde5;\n  }\n\n  .no-data-container {\n    text-align: center;\n    padding: var(--space-8) var(--space-4);\n    background: var(--color-neutral-light);\n    border: 1px dashed var(--color-neutral-border);\n    border-radius: var(--border-radius-lg);\n  }\n\n  .no-data {\n    color: var(--color-neutral-text);\n    font-style: italic;\n    margin: 0;\n    font-size: var(--text-md);\n  }\n\n  .no-data-hint {\n    color: var(--color-neutral-text);\n    font-size: var(--text-sm);\n    margin: var(--space-2) 0 0 0;\n  }\n</style>\n","<script lang=\"ts\">\n  import { appState } from '$lib/state/app-state';\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n  import ExampleCarousel from '$lib/components/vocabulary/ExampleCarousel.svelte';\n\n  let { item }: { item: VocabularyItem } = $props();\n\n  // Type-safe derived values with proper guards\n  const exampleSentences = $derived.by(() => {\n    // Prioritize top-level examples (Unified Schema)\n    if (item.examples && item.examples.length > 0) {\n      return item.examples.map((ex) => ({\n        source: ex.german,\n        target: ex.bulgarian,\n        context: ex.context\n      }));\n    }\n\n    const legacy = (item as any).examples;\n\n    if (legacy && Array.isArray(legacy)) {\n      return legacy.map((ex: any) => ({\n        source: ex.german || ex.source || '',\n        target: ex.bulgarian || ex.target || '',\n        context: ex.context\n      }));\n    }\n\n    if (Array.isArray(legacy)) {\n      return legacy.map((ex: any) => ({\n        source: ex.german || ex.source || ex.de || '',\n        target: ex.bulgarian || ex.target || ex.bg || '',\n        context: ex.context\n      }));\n    }\n\n    return [];\n  });\n\n  const hasExamples = $derived(exampleSentences.length > 0);\n</script>\n\n<div class=\"examples-panel\" role=\"region\" aria-label={appState.languageMode === 'DE_BG' ? 'Beispiels√§tze' : '–ü—Ä–∏–º–µ—Ä–Ω–∏ –∏–∑—Ä–µ—á–µ–Ω–∏—è'}>\n  {#if hasExamples}\n    <section class=\"examples-section\">\n      <h4 class=\"section-title\">\n        {appState.languageMode === 'DE_BG' ? 'üí¨ Beispiels√§tze' : 'üí¨ –ü—Ä–∏–º–µ—Ä–Ω–∏ –∏–∑—Ä–µ—á–µ–Ω–∏—è'}\n      </h4>\n      <p class=\"section-description\">\n        {appState.languageMode === 'DE_BG' \n          ? 'Lernen Sie das Wort in verschiedenen Kontexten kennen' \n          : '–ù–∞—É—á–µ—Ç–µ –¥—É–º–∞—Ç–∞ –≤ —Ä–∞–∑–ª–∏—á–Ω–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∏'}\n      </p>\n      \n      <ExampleCarousel {item} />\n      \n    </section>\n  {:else}\n    <div class=\"no-data-container\">\n      <p class=\"no-data\">\n        {appState.languageMode === 'DE_BG' \n          ? 'Noch keine Beispiels√§tze verf√ºgbar' \n          : '–í—Å–µ –æ—â–µ –Ω—è–º–∞ –Ω–∞–ª–∏—á–Ω–∏ –ø—Ä–∏–º–µ—Ä–∏'}\n      </p>\n      <p class=\"no-data-hint\">\n        {appState.languageMode === 'DE_BG' \n          ? 'Diese Information wird mit zuk√ºnftigen Updates erg√§nzt.' \n          : '–¢–∞–∑–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —â–µ –±—ä–¥–µ –¥–æ–ø—ä–ª–Ω–µ–Ω–∞ —Å –±—ä–¥–µ—â–∏ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏.'}\n      </p>\n    </div>\n  {/if}\n</div>\n\n<style>\n  .examples-panel {\n    display: flex;\n    flex-direction: column;\n    gap: var(--space-4);\n  }\n\n  .examples-section {\n    background: var(--color-neutral-light);\n    border: 1px solid var(--color-neutral-border);\n    border-radius: var(--border-radius-lg);\n    padding: var(--space-4);\n  }\n\n  .section-title {\n    margin: 0 0 var(--space-1) 0;\n    font-size: var(--text-lg);\n    font-weight: var(--font-semibold);\n    color: var(--color-neutral-dark);\n  }\n\n  .section-description {\n    margin: 0 0 var(--space-4) 0;\n    font-size: var(--text-sm);\n    color: var(--color-neutral-text);\n    line-height: 1.5;\n  }\n\n  .no-data-container {\n    text-align: center;\n    padding: var(--space-8) var(--space-4);\n    background: var(--color-neutral-light);\n    border: 1px dashed var(--color-neutral-border);\n    border-radius: var(--border-radius-lg);\n  }\n\n  .no-data {\n    color: var(--color-neutral-text);\n    font-style: italic;\n    margin: 0;\n    font-size: var(--text-md);\n  }\n\n  .no-data-hint {\n    color: var(--color-neutral-text);\n    font-size: var(--text-sm);\n    margin: var(--space-2) 0 0 0;\n  }\n</style>\n","<script lang=\"ts\">\n  import { appState } from '$lib/state/app-state';\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n\n  let { item }: { item: VocabularyItem } = $props();\n\n  const etymology = $derived(item.etymology || item.metadata?.etymology || '');\n  \n  const components = $derived.by(() => {\n    if (item.literalBreakdown) {\n      return item.literalBreakdown.map(c => ({\n        part: c.segment,\n        meaning: c.literal,\n        note: c.grammarTag\n      }));\n    }\n    if (item.metadata?.components) {\n      return item.metadata.components.map(c => ({\n        part: c.part,\n        meaning: c.meaning,\n        note: ''\n      }));\n    }\n    return [];\n  });\n\n  const contextualNuance = $derived((item as any).contextualNuance || (item as any).metadata?.contextualNuance || '');\n\n  const hasData = $derived(!!etymology || components.length > 0 || !!contextualNuance);\n</script>\n\n<div class=\"etymology-panel\" role=\"region\" aria-label={appState.languageMode === 'DE_BG' ? 'Wortanalyse' : '–ê–Ω–∞–ª–∏–∑ –Ω–∞ –¥—É–º–∞—Ç–∞'}>\n  {#if hasData}\n    <!-- Etymology -->\n    {#if etymology}\n      <section class=\"etymology-section\">\n        <h4 class=\"section-title\">\n          {appState.languageMode === 'DE_BG' ? 'üìú Etymologie & Ursprung' : 'üìú –ï—Ç–∏–º–æ–ª–æ–≥–∏—è –∏ –ø—Ä–æ–∏–∑—Ö–æ–¥'}\n        </h4>\n        <div class=\"etymology-content\">\n          <p class=\"etymology-text\">{etymology}</p>\n        </div>\n      </section>\n    {/if}\n\n    <!-- Word Breakdown / Components -->\n    {#if components.length > 0}\n      <section class=\"breakdown-section\">\n        <h4 class=\"section-title\">\n          {appState.languageMode === 'DE_BG' ? 'üîç Wort-Zerlegung' : 'üîç –†–∞–∑–¥–µ–ª—è–Ω–µ –Ω–∞ –¥—É–º–∞—Ç–∞'}\n        </h4>\n        <p class=\"section-description\">\n          {appState.languageMode === 'DE_BG' \n            ? 'Wie setzt sich dieses Wort zusammen?' \n            : '–ö–∞–∫ —Å–µ —Å—ä—Å—Ç–∞–≤—è —Ç–∞–∑–∏ –¥—É–º–∞?'}\n        </p>\n        <div class=\"component-list\">\n          {#each components as component}\n            <div class=\"component-card\">\n              <div class=\"component-part\">\n                {component.part}\n              </div>\n              <div class=\"component-arrow\" aria-hidden=\"true\">‚Üí</div>\n              <div class=\"component-meaning\">\n                {component.meaning}\n              </div>\n              {#if component.note}\n                <div class=\"component-note\">\n                  {component.note}\n                </div>\n              {/if}\n            </div>\n          {/each}\n        </div>\n      </section>\n    {/if}\n\n    <!-- Contextual Nuance -->\n    {#if contextualNuance}\n      <section class=\"nuance-section\">\n        <h4 class=\"section-title\">\n          {appState.languageMode === 'DE_BG' ? 'üí° Verwendungshinweise' : 'üí° –£–∫–∞–∑–∞–Ω–∏—è –∑–∞ —É–ø–æ—Ç—Ä–µ–±–∞'}\n        </h4>\n        <div class=\"nuance-content\">\n          <p class=\"nuance-text\">{contextualNuance}</p>\n        </div>\n      </section>\n    {/if}\n  {:else}\n    <div class=\"no-data-container\">\n      <p class=\"no-data\">\n        {appState.languageMode === 'DE_BG' \n          ? 'Keine Wortanalyse-Daten verf√ºgbar' \n          : '–ù—è–º–∞ –Ω–∞–ª–∏—á–Ω–∏ –¥–∞–Ω–Ω–∏ –∑–∞ –∞–Ω–∞–ª–∏–∑'}\n      </p>\n      <p class=\"no-data-hint\">\n        {appState.languageMode === 'DE_BG' \n          ? 'Diese Information wird mit zuk√ºnftigen Updates erg√§nzt.' \n          : '–¢–∞–∑–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —â–µ –±—ä–¥–µ –¥–æ–ø—ä–ª–Ω–µ–Ω–∞ —Å –±—ä–¥–µ—â–∏ –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏.'}\n      </p>\n    </div>\n  {/if}\n</div>\n\n<style>\n  .etymology-panel {\n    display: flex;\n    flex-direction: column;\n    gap: var(--space-5);\n  }\n\n  .etymology-section,\n  .breakdown-section,\n  .nuance-section {\n    background: var(--color-neutral-light);\n    border: 1px solid var(--color-neutral-border);\n    border-radius: var(--border-radius-lg);\n    padding: var(--space-4);\n  }\n\n  .section-title {\n    margin: 0 0 var(--space-3) 0;\n    font-size: var(--text-lg);\n    font-weight: var(--font-semibold);\n    color: var(--color-neutral-dark);\n  }\n\n  .section-description {\n    margin: 0 0 var(--space-3) 0;\n    font-size: var(--text-sm);\n    color: var(--color-neutral-text);\n    line-height: 1.5;\n  }\n\n  .etymology-content,\n  .nuance-content {\n    padding: var(--space-3);\n    background: white;\n    border-radius: var(--border-radius-md);\n    border-left: 4px solid var(--color-primary);\n  }\n\n  .etymology-text,\n  .nuance-text {\n    margin: 0;\n    line-height: 1.7;\n    color: var(--color-neutral-dark);\n    font-size: var(--text-md);\n  }\n\n  .component-list {\n    display: grid;\n    gap: var(--space-3);\n  }\n\n  .component-card {\n    display: grid;\n    grid-template-columns: 1fr auto 1fr;\n    gap: var(--space-3);\n    align-items: center;\n    padding: var(--space-3);\n    border: 1px solid var(--color-neutral-border);\n    border-radius: var(--border-radius-md);\n    background: white;\n    transition: all 0.2s ease;\n  }\n\n  .component-card:hover {\n    box-shadow: var(--shadow-card);\n    border-color: var(--color-primary);\n  }\n\n  .component-part {\n    font-weight: var(--font-bold);\n    color: var(--color-primary);\n    font-size: var(--text-lg);\n  }\n\n  .component-arrow {\n    color: var(--color-neutral-text);\n    font-size: var(--text-xl);\n    font-weight: var(--font-bold);\n  }\n\n  .component-meaning {\n    color: var(--color-neutral-dark);\n    font-size: var(--text-md);\n    font-weight: var(--font-medium);\n  }\n\n  .component-note {\n    grid-column: 1 / -1;\n    font-size: var(--text-sm);\n    color: var(--color-neutral-text);\n    font-style: italic;\n    padding-top: var(--space-2);\n    border-top: 1px dashed var(--color-neutral-border);\n    margin-top: var(--space-2);\n  }\n\n  .no-data-container {\n    text-align: center;\n    padding: var(--space-8) var(--space-4);\n    background: var(--color-neutral-light);\n    border: 1px dashed var(--color-neutral-border);\n    border-radius: var(--border-radius-lg);\n  }\n\n  .no-data {\n    color: var(--color-neutral-text);\n    font-style: italic;\n    margin: 0;\n    font-size: var(--text-md);\n  }\n\n  .no-data-hint {\n    color: var(--color-neutral-text);\n    font-size: var(--text-sm);\n    margin: var(--space-2) 0 0 0;\n  }\n\n  @media (max-width: 768px) {\n    .component-card {\n      grid-template-columns: 1fr;\n      gap: var(--space-2);\n      text-align: center;\n    }\n\n    .component-arrow {\n      transform: rotate(90deg);\n    }\n\n    .component-note {\n      grid-column: 1;\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import { appState } from '$lib/state/app-state';\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n\n  let { item }: { item: VocabularyItem } = $props();\n\n  // Langenscheidt URL builder\n  const langenscheidtUrl = $derived.by(() => {\n    const bulgarian = item.bulgarian;\n    const normalized = bulgarian\n      .toLowerCase()\n      .replace(/\\s+/g, '-')\n      .replace(/[^a-z–∞-—è0-9-]/g, '');\n    return `https://bg.langenscheidt.com/bulgarisch-deutsch/${normalized}`;\n  });\n\n  // Type-safe derived values with proper guards\n  const externalLinks = $derived(item.metadata?.links || (item as any).links || []);\n  const hasLinks = $derived(externalLinks.length > 0);\n\n  // Predefined external resources\n  const germanResources = $derived([\n    {\n      name: 'DWDS',\n      url: `https://www.dwds.de/wb/${encodeURIComponent(item.german)}`,\n      icon: 'üìñ',\n      description: appState.languageMode === 'DE_BG' \n        ? 'Digitales W√∂rterbuch der deutschen Sprache' \n        : '–î–∏–≥–∏—Ç–∞–ª–µ–Ω —Ä–µ—á–Ω–∏–∫ –Ω–∞ –Ω–µ–º—Å–∫–∏—è –µ–∑–∏–∫'\n    },\n    {\n      name: 'Duden',\n      url: `https://www.duden.de/suchen/dudenonline/${encodeURIComponent(item.german)}`,\n      icon: 'üìö',\n      description: appState.languageMode === 'DE_BG' \n        ? 'Standardwerk der deutschen Rechtschreibung' \n        : '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞ —Ä–∞–±–æ—Ç–∞ –ø–æ –Ω–µ–º—Å–∫–∞ –≥—Ä–∞–º–∞—Ç–∏–∫–∞'\n    }\n  ]);\n\n  const bulgarianResources = $derived([\n    {\n      name: '–†–µ—á–Ω–∏–∫ –Ω–∞ –ë–ê–ù',\n      url: `https://ibl.bas.bg/rbe/lang/bg/${encodeURIComponent(item.bulgarian)}`,\n      icon: 'üáßüá¨',\n      description: appState.languageMode === 'DE_BG' \n        ? 'Bulgarische Akademie der Wissenschaften' \n        : '–ë—ä–ª–≥–∞—Ä—Å–∫–∞ –∞–∫–∞–¥–µ–º–∏—è –Ω–∞ –Ω–∞—É–∫–∏—Ç–µ'\n    }\n  ]);\n</script>\n\n<div class=\"links-panel\" role=\"region\" aria-label={appState.languageMode === 'DE_BG' ? 'Externe Ressourcen' : '–í—ä–Ω—à–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏'}>\n  <!-- Langenscheidt (Primary Resource) -->\n  <section class=\"primary-link-section\">\n    <h4 class=\"section-title\">\n      <span class=\"section-icon\" aria-hidden=\"true\">‚≠ê</span>\n      {appState.languageMode === 'DE_BG' ? 'Empfohlene Quelle' : '–ü—Ä–µ–ø–æ—Ä—ä—á–∞–Ω –∏–∑—Ç–æ—á–Ω–∏–∫'}\n    </h4>\n    <a \n      href={langenscheidtUrl} \n      target=\"_blank\" \n      rel=\"noopener noreferrer\" \n      class=\"primary-link\"\n      aria-label={appState.languageMode === 'DE_BG' \n        ? `√ñffne ${item.bulgarian} in Langenscheidt` \n        : `–û—Ç–≤–æ—Ä–∏ ${item.bulgarian} –≤ Langenscheidt`}\n    >\n      <div class=\"link-icon\">üîó</div>\n      <div class=\"link-content\">\n        <div class=\"link-name\">Langenscheidt Bulgarisch-Deutsch</div>\n        <div class=\"link-url\">{item.bulgarian}</div>\n        <div class=\"link-desc\">\n          {appState.languageMode === 'DE_BG' \n            ? 'Vollst√§ndiges W√∂rterbuch mit Beispielen und Audio' \n            : '–ü—ä–ª–µ–Ω —Ä–µ—á–Ω–∏–∫ —Å –ø—Ä–∏–º–µ—Ä–∏ –∏ –∞—É–¥–∏–æ'}\n        </div>\n      </div>\n      <div class=\"link-arrow\" aria-hidden=\"true\">‚Üí</div>\n    </a>\n  </section>\n\n  <!-- German Resources -->\n  <section class=\"resource-section\">\n    <h4 class=\"section-title\">\n      <span class=\"section-icon\" aria-hidden=\"true\">üá©üá™</span>\n      {appState.languageMode === 'DE_BG' ? 'Deutsche W√∂rterb√ºcher' : '–ù–µ–º—Å–∫–∏ —Ä–µ—á–Ω–∏—Ü–∏'}\n    </h4>\n    <div class=\"resource-grid\">\n      {#each germanResources as resource}\n        <a \n          href={resource.url} \n          target=\"_blank\" \n          rel=\"noopener noreferrer\" \n          class=\"resource-card\"\n          aria-label={`${resource.name} - ${resource.description}`}\n        >\n          <div class=\"resource-icon\">{resource.icon}</div>\n          <div class=\"resource-info\">\n            <div class=\"resource-name\">{resource.name}</div>\n            <div class=\"resource-desc\">{resource.description}</div>\n          </div>\n          <div class=\"resource-external\" aria-hidden=\"true\">‚Üó</div>\n        </a>\n      {/each}\n    </div>\n  </section>\n\n  <!-- Bulgarian Resources -->\n  <section class=\"resource-section\">\n    <h4 class=\"section-title\">\n      <span class=\"section-icon\" aria-hidden=\"true\">üáßüá¨</span>\n      {appState.languageMode === 'DE_BG' ? 'Bulgarische W√∂rterb√ºcher' : '–ë—ä–ª–≥–∞—Ä—Å–∫–∏ —Ä–µ—á–Ω–∏—Ü–∏'}\n    </h4>\n    <div class=\"resource-grid\">\n      {#each bulgarianResources as resource}\n        <a \n          href={resource.url} \n          target=\"_blank\" \n          rel=\"noopener noreferrer\" \n          class=\"resource-card\"\n          aria-label={`${resource.name} - ${resource.description}`}\n        >\n          <div class=\"resource-icon\">{resource.icon}</div>\n          <div class=\"resource-info\">\n            <div class=\"resource-name\">{resource.name}</div>\n            <div class=\"resource-desc\">{resource.description}</div>\n          </div>\n          <div class=\"resource-external\" aria-hidden=\"true\">‚Üó</div>\n        </a>\n      {/each}\n    </div>\n  </section>\n\n  <!-- Custom Links (if any) -->\n  {#if hasLinks}\n    <section class=\"resource-section\">\n      <h4 class=\"section-title\">\n        <span class=\"section-icon\" aria-hidden=\"true\">üîó</span>\n        {appState.languageMode === 'DE_BG' ? 'Weitere Ressourcen' : '–î–æ–ø—ä–ª–Ω–∏—Ç–µ–ª–Ω–∏ —Ä–µ—Å—É—Ä—Å–∏'}\n      </h4>\n      <div class=\"resource-grid\">\n        {#each externalLinks as link}\n          <a \n            href={link.url} \n            target=\"_blank\" \n            rel=\"noopener noreferrer\" \n            class=\"resource-card\"\n            aria-label={link.title || link.url}\n          >\n            <div class=\"resource-icon\">üåê</div>\n            <div class=\"resource-info\">\n              <div class=\"resource-name\">{link.title || link.url}</div>\n              {#if link.description}\n                <div class=\"resource-desc\">{link.description}</div>\n              {/if}\n            </div>\n            <div class=\"resource-external\" aria-hidden=\"true\">‚Üó</div>\n          </a>\n        {/each}\n      </div>\n    </section>\n  {/if}\n</div>\n\n<style>\n  .links-panel {\n    display: flex;\n    flex-direction: column;\n    gap: var(--space-5);\n  }\n\n  .primary-link-section,\n  .resource-section {\n    background: var(--color-neutral-light);\n    border: 1px solid var(--color-neutral-border);\n    border-radius: var(--border-radius-lg);\n    padding: var(--space-4);\n  }\n\n  .section-title {\n    display: flex;\n    align-items: center;\n    gap: var(--space-2);\n    margin: 0 0 var(--space-3) 0;\n    font-size: var(--text-lg);\n    font-weight: var(--font-semibold);\n    color: var(--color-neutral-dark);\n  }\n\n  .section-icon {\n    font-size: var(--text-xl);\n  }\n\n  .primary-link {\n    display: flex;\n    align-items: center;\n    gap: var(--space-4);\n    padding: var(--space-4);\n    background: linear-gradient(135deg, #f0f9ff 0%, white 100%);\n    border: 2px solid var(--color-primary);\n    border-radius: var(--border-radius-lg);\n    text-decoration: none;\n    transition: all 0.3s ease;\n    box-shadow: var(--shadow-sm);\n  }\n\n  .primary-link:hover {\n    box-shadow: var(--shadow-lg);\n    transform: translateY(-2px);\n    border-color: var(--color-primary-darker);\n  }\n\n  .link-icon {\n    flex-shrink: 0;\n    width: 48px;\n    height: 48px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: var(--color-primary);\n    color: white;\n    border-radius: 50%;\n    font-size: var(--text-2xl);\n  }\n\n  .link-content {\n    flex: 1;\n  }\n\n  .link-name {\n    font-size: var(--text-lg);\n    font-weight: var(--font-bold);\n    color: var(--color-primary-darker);\n    margin-bottom: var(--space-1);\n  }\n\n  .link-url {\n    font-size: var(--text-md);\n    font-weight: var(--font-medium);\n    color: var(--color-neutral-dark);\n    margin-bottom: var(--space-1);\n  }\n\n  .link-desc {\n    font-size: var(--text-sm);\n    color: var(--color-neutral-text);\n  }\n\n  .link-arrow {\n    flex-shrink: 0;\n    font-size: var(--text-2xl);\n    color: var(--color-primary);\n    transition: transform 0.3s ease;\n  }\n\n  .primary-link:hover .link-arrow {\n    transform: translateX(4px);\n  }\n\n  .resource-grid {\n    display: grid;\n    gap: var(--space-3);\n  }\n\n  .resource-card {\n    display: flex;\n    align-items: center;\n    gap: var(--space-3);\n    padding: var(--space-3);\n    background: white;\n    border: 1px solid var(--color-neutral-border);\n    border-radius: var(--border-radius-md);\n    text-decoration: none;\n    transition: all 0.2s ease;\n  }\n\n  .resource-card:hover {\n    box-shadow: var(--shadow-card);\n    border-color: var(--color-primary);\n    transform: translateY(-1px);\n  }\n\n  .resource-icon {\n    flex-shrink: 0;\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: var(--color-neutral-light);\n    border-radius: var(--border-radius-md);\n    font-size: var(--text-xl);\n  }\n\n  .resource-info {\n    flex: 1;\n  }\n\n  .resource-name {\n    font-size: var(--text-md);\n    font-weight: var(--font-semibold);\n    color: var(--color-neutral-dark);\n    margin-bottom: var(--space-1);\n  }\n\n  .resource-desc {\n    font-size: var(--text-sm);\n    color: var(--color-neutral-text);\n    line-height: 1.4;\n  }\n\n  .resource-external {\n    flex-shrink: 0;\n    font-size: var(--text-lg);\n    color: var(--color-neutral-text);\n    transition: transform 0.2s ease;\n  }\n\n  .resource-card:hover .resource-external {\n    transform: translate(2px, -2px);\n  }\n\n  @media (max-width: 768px) {\n    .primary-link {\n      flex-direction: column;\n      text-align: center;\n    }\n\n    .link-arrow {\n      transform: rotate(90deg);\n    }\n\n    .primary-link:hover .link-arrow {\n      transform: rotate(90deg) translateX(4px);\n    }\n  }\n</style>\n"],"names":["slot","anchor","$$props","name","slot_props","fallback_fn","hydrating","hydrate_next","slot_fn","$$slots","is_interop","async","params","vocabularyDb","initialize","item","getVocabulary","find","x","id","flipped","$.state","ui","$.derived","appState","languageMode","flipHint","showFront","showBack","breakdown","composition","context","examples","cultural","mnemonic","usage","isBulgarianFront","formattedGerman","formatGermanTerm","vocabularyItem","formatGermanUtil","frontTerm","bulgarian","backTerm","normalizeBreakdown","literalBreakdown","map","piece","part","segment","meaning","literal","note","grammarTag","metadata","components","legacy","ex","german","source","target","Array","isArray","sentence","translation","culturalNote","notes","mnemonics","nuance","contextualNuance","emoji","media","APP_ICONS","VOCABULARY","compositionSummary","$.get","length","b","join","audioUrl","audio_url","audio","audioPlayer","isPlaying","playAudio","e","stopPropagation","$.set","currentTime","play","catch","err","console","error","finally","toggleFlip","div","root","div_1","$.child","__click","__keydown","key","preventDefault","div_2","div_3","root_1","$0","level","toLowerCase","$$render","consequent","div_4","$.sibling","node","div_5","span","button","$.first_child","fragment","$$value","$.set_class","$.set_attribute","consequent_1","p","node_1","h2","p_1","root_3","$.template_effect","$.set_text","text_4","pronunciation","p_2","root_5","text_5","consequent_3","consequent_2","alternate","div_6","node_2","div_7","div_8","div_9","p_3","h2_1","div_10","root_6","div_11","p_4","p_5","text_9","consequent_4","div_12","root_7","h3","div_13","$.index","$$anchor","index","div_14","root_8","div_15","span_1","span_2","root_9","consequent_5","div_16","div_17","root_10","text_14","consequent_6","text_12","text_13","text_11","consequent_7","div_18","root_11","p_6","p_7","text_15","consequent_8","div_19","root_12","p_8","ul","example","li","root_13","div_20","div_21","div_22","root_14","text_20","consequent_9","text_18","text_19","text_17","consequent_10","div_23","root_15","p_9","p_10","text_21","consequent_11","div_24","root_16","p_11","span_3","p_12","text_23","MNEMONIC","text_24","consequent_12","div_25","root_17","p_13","div_26","EnrichmentBadge","node_14","DefinitionLink","node_15","text_26","enrichment","sourceURL","definitions","consequent_13","div_27","root_18","p_14","table","tbody","$.each","Object","entries","declension","$$item","declensionForms","$$array","tr","root_19","th","td","td_1","singular","plural","text_27","consequent_14","div_28","root_20","p_15","div_29","links","link","a","root_21","url","label","text_31","consequent_15","$.reset","partOfSpeech","text_6","activeTab","tabs","isDE","icon","tab","handleKeyDown","event","tabId","classes","active","text","text_1","$.append","isNoun","isVerb","article","gender","grammar","pluralForm","genderLabel","masculine","de","bg","feminine","neuter","section","root_2","text_2","span_4","span_5","span_6","span_7","section_1","root_4","h3_1","cases","caseLabels","nominative","accusative","dative","genitive","hasDeclension","caseName","GrammarTabs","text_8","section_2","h3_2","tense","conjugation","tenses","pronouns","hasData","keys","t","thead","th_1","pronoun","formKey","tr_1","th_2","text_3","tr_2","th_3","alternate_1","ConjugationTable","section_3","h3_3","linguistic","text_10","defaultAttributes","xmlns","width","height","viewBox","fill","stroke","color","size","strokeWidth","absoluteStrokeWidth","iconNode","$.prop","svg","$$restProps","$.untrack","Number","filter","className","array","Boolean","indexOf","mergeClasses","$$sanitized_props","class","$$element","currentIndex","hasExamples","next","prev","Button","node_3","d","Icon","$.spread_props","ChevronLeft","node_4","ChevronRight","generalNotes","general","culturalNotes","forGerman","forGermanSpeakers","forBulgarian","forBulgarianSpeakers","linguisticNote","h4","resolvedMnemonic","isEditing","mnemonicText","$.proxy","handleSave","trim","onSave","handleCancel","$.user_effect","onclick","textarea","node_5","MnemonicEditor","h4_1","h4_2","h4_3","section_4","h4_4","text_7","data","dirArrow","exampleSentences","alternatives","alts","$.event","$.window","window","history","back","fragment_1","Flashcard","header","h1","cefrLevel","categories","slice","cat","DashboardTabs","node_6","span_8","span_9","span_10","alt","span_11","GrammarPanel","synonyms","antonyms","relatedWords","word","ul_1","li_1","ul_2","li_2","WordFamilyPanel","ExampleCarousel","ExamplesPanel","etymology","c","component","EtymologyPanel","NotesPanel","langenscheidtUrl","replace","externalLinks","hasLinks","germanResources","encodeURIComponent","description","bulgarianResources","resource","a_1","a_2","a_3","title","ExternalLinksPanel","alternate_2","alternate_3","alternate_4","alternate_5","nav","alternate_6"],"mappings":"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","x_google_ignoreList":[0,7,8,10,11]}