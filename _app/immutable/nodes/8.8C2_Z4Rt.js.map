{"version":3,"file":"8.8C2_Z4Rt.js","sources":["../../../../../../node_modules/.pnpm/svelte@5.45.8/node_modules/svelte/src/easing/index.js","../../../../../../node_modules/.pnpm/svelte@5.45.8/node_modules/svelte/src/animate/index.js","../../../../../../src/lib/components/SearchList.svelte","../../../../../../src/lib/components/vocabulary/WordDetailModal.svelte","../../../../../../src/lib/components/TandemPractice.svelte","../../../../../../src/lib/components/TandemToggle.svelte","../../../../../../src/routes/practice/+page.svelte"],"sourcesContent":["/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function linear(t) {\n\treturn t;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function backInOut(t) {\n\tconst s = 1.70158 * 1.525;\n\tif ((t *= 2) < 1) return 0.5 * (t * t * ((s + 1) * t - s));\n\treturn 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function backIn(t) {\n\tconst s = 1.70158;\n\treturn t * t * ((s + 1) * t - s);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function backOut(t) {\n\tconst s = 1.70158;\n\treturn --t * t * ((s + 1) * t + s) + 1;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function bounceOut(t) {\n\tconst a = 4.0 / 11.0;\n\tconst b = 8.0 / 11.0;\n\tconst c = 9.0 / 10.0;\n\tconst ca = 4356.0 / 361.0;\n\tconst cb = 35442.0 / 1805.0;\n\tconst cc = 16061.0 / 1805.0;\n\tconst t2 = t * t;\n\treturn t < a\n\t\t? 7.5625 * t2\n\t\t: t < b\n\t\t\t? 9.075 * t2 - 9.9 * t + 3.4\n\t\t\t: t < c\n\t\t\t\t? ca * t2 - cb * t + cc\n\t\t\t\t: 10.8 * t * t - 20.52 * t + 10.72;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function bounceInOut(t) {\n\treturn t < 0.5 ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0)) : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function bounceIn(t) {\n\treturn 1.0 - bounceOut(1.0 - t);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function circInOut(t) {\n\tif ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1);\n\treturn 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function circIn(t) {\n\treturn 1.0 - Math.sqrt(1.0 - t * t);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function circOut(t) {\n\treturn Math.sqrt(1 - --t * t);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function cubicInOut(t) {\n\treturn t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function cubicIn(t) {\n\treturn t * t * t;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function cubicOut(t) {\n\tconst f = t - 1.0;\n\treturn f * f * f + 1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function elasticInOut(t) {\n\treturn t < 0.5\n\t\t? 0.5 * Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n\t\t: 0.5 *\n\t\t\t\tMath.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n\t\t\t\tMath.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n\t\t\t\t1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function elasticIn(t) {\n\treturn Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function elasticOut(t) {\n\treturn Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function expoInOut(t) {\n\treturn t === 0.0 || t === 1.0\n\t\t? t\n\t\t: t < 0.5\n\t\t\t? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n\t\t\t: -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function expoIn(t) {\n\treturn t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function expoOut(t) {\n\treturn t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quadInOut(t) {\n\tt /= 0.5;\n\tif (t < 1) return 0.5 * t * t;\n\tt--;\n\treturn -0.5 * (t * (t - 2) - 1);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quadIn(t) {\n\treturn t * t;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quadOut(t) {\n\treturn -t * (t - 2.0);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quartInOut(t) {\n\treturn t < 0.5 ? +8.0 * Math.pow(t, 4.0) : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quartIn(t) {\n\treturn Math.pow(t, 4.0);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quartOut(t) {\n\treturn Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quintInOut(t) {\n\tif ((t *= 2) < 1) return 0.5 * t * t * t * t * t;\n\treturn 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quintIn(t) {\n\treturn t * t * t * t * t;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function quintOut(t) {\n\treturn --t * t * t * t * t + 1;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function sineInOut(t) {\n\treturn -0.5 * (Math.cos(Math.PI * t) - 1);\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function sineIn(t) {\n\tconst v = Math.cos(t * Math.PI * 0.5);\n\tif (Math.abs(v) < 1e-14) return 1;\n\telse return 1 - v;\n}\n\n/**\n * @param {number} t\n * @returns {number}\n */\nexport function sineOut(t) {\n\treturn Math.sin((t * Math.PI) / 2);\n}\n","/** @import { FlipParams, AnimationConfig } from './public.js' */\nimport { cubicOut } from '../easing/index.js';\n\n/**\n * The flip function calculates the start and end position of an element and animates between them, translating the x and y values.\n * `flip` stands for [First, Last, Invert, Play](https://aerotwist.com/blog/flip-your-animations/).\n *\n * @param {Element} node\n * @param {{ from: DOMRect; to: DOMRect }} fromTo\n * @param {FlipParams} params\n * @returns {AnimationConfig}\n */\nexport function flip(node, { from, to }, params = {}) {\n\tvar { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n\n\tvar style = getComputedStyle(node);\n\n\t// find the transform origin, expressed as a pair of values between 0 and 1\n\tvar transform = style.transform === 'none' ? '' : style.transform;\n\tvar [ox, oy] = style.transformOrigin.split(' ').map(parseFloat);\n\tox /= node.clientWidth;\n\toy /= node.clientHeight;\n\n\t// calculate effect of parent transforms and zoom\n\tvar zoom = get_zoom(node); // https://drafts.csswg.org/css-viewport/#effective-zoom\n\tvar sx = node.clientWidth / to.width / zoom;\n\tvar sy = node.clientHeight / to.height / zoom;\n\n\t// find the starting position of the transform origin\n\tvar fx = from.left + from.width * ox;\n\tvar fy = from.top + from.height * oy;\n\n\t// find the ending position of the transform origin\n\tvar tx = to.left + to.width * ox;\n\tvar ty = to.top + to.height * oy;\n\n\t// find the translation at the start of the transform\n\tvar dx = (fx - tx) * sx;\n\tvar dy = (fy - ty) * sy;\n\n\t// find the relative scale at the start of the transform\n\tvar dsx = from.width / to.width;\n\tvar dsy = from.height / to.height;\n\n\treturn {\n\t\tdelay,\n\t\tduration: typeof duration === 'function' ? duration(Math.sqrt(dx * dx + dy * dy)) : duration,\n\t\teasing,\n\t\tcss: (t, u) => {\n\t\t\tvar x = u * dx;\n\t\t\tvar y = u * dy;\n\t\t\tvar sx = t + u * dsx;\n\t\t\tvar sy = t + u * dsy;\n\n\t\t\treturn `transform: ${transform} translate(${x}px, ${y}px) scale(${sx}, ${sy});`;\n\t\t}\n\t};\n}\n\n/**\n * @param {Element} element\n */\nfunction get_zoom(element) {\n\tif ('currentCSSZoom' in element) {\n\t\treturn /** @type {number} */ (element.currentCSSZoom);\n\t}\n\n\t/** @type {Element | null} */\n\tvar current = element;\n\tvar zoom = 1;\n\n\twhile (current !== null) {\n\t\tzoom *= +getComputedStyle(current).zoom;\n\t\tcurrent = /** @type {Element | null} */ (current.parentElement);\n\t}\n\n\treturn zoom;\n}\n","<script lang=\"ts\">\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n  import { flip } from 'svelte/animate';\n  import { appState } from '$lib/state/app-state';\n  import WordDetailModal from '$lib/components/vocabulary/WordDetailModal.svelte';\n  import VocabularyCard from '$lib/components/ui/VocabularyCard.svelte';\n\n  let {\n    items = [],\n    direction = 'DE->BG',\n    onSelectItem = () => {},\n    onToggleSelectItem = () => {},\n    selectedItems = new Set<string>(),\n    showQuickPractice = true // New prop for \"Practice This\" feature\n  }: {\n    items: VocabularyItem[];\n    direction: 'DE->BG' | 'BG->DE';\n    onSelectItem: (item: VocabularyItem) => void;\n    onToggleSelectItem: (itemId: string) => void;\n    selectedItems: Set<string>;\n    showQuickPractice?: boolean;\n  } = $props();\n\n  let selectedItemForDetail = $state<VocabularyItem | null>(null);\n  let showDetailModal = $state(false);\n\n  function openDetailModal(item: VocabularyItem) {\n    selectedItemForDetail = item;\n    showDetailModal = true;\n  }\n\n  function closeDetailModal() {\n    showDetailModal = false;\n    selectedItemForDetail = null;\n  }\n\n  const ui = $derived(appState.languageMode === 'DE_BG'\n    ? {\n        emptyTitle: 'Kein Vokabular gefunden',\n        emptyHint: 'Versuche andere Suchbegriffe oder pr√ºfe die Schreibweise.',\n        found: (n: number) => `${n} ${n === 1 ? 'Treffer' : 'Treffer'}`,\n        showing: 'Deutsch ‚Üí Bulgarisch',\n        showingReverse: 'Bulgarisch ‚Üí Deutsch'\n      }\n    : {\n        emptyTitle: '–ù—è–º–∞ –Ω–∞–º–µ—Ä–µ–Ω–∏ –¥—É–º–∏',\n        emptyHint: '–û–ø–∏—Ç–∞–π—Ç–µ —Å –¥—Ä—É–≥–∏ –¥—É–º–∏ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–µ—Ç–µ –ø—Ä–∞–≤–æ–ø–∏—Å–∞.',\n        found: (n: number) => `${n} ${n === 1 ? '—Ä–µ–∑—É–ª—Ç–∞—Ç' : '—Ä–µ–∑—É–ª—Ç–∞—Ç–∞'}`,\n        showing: '–ù–µ–º—Å–∫–∏ ‚Üí –ë—ä–ª–≥–∞—Ä—Å–∫–∏',\n        showingReverse: '–ë—ä–ª–≥–∞—Ä—Å–∫–∏ ‚Üí –ù–µ–º—Å–∫–∏'\n      });\n\n  // Interaction functions\n  function handlePracticeClick(item: VocabularyItem, event: MouseEvent) {\n    event.stopPropagation(); // Prevent modal from opening\n    onSelectItem(item); // Start practice session\n  }\n\n  function handleQuickPractice(item: VocabularyItem, event: MouseEvent) {\n    event.stopPropagation(); // Prevent modal from opening\n    appState.startPracticeSession(item);\n  }\n</script>\n\n<div class=\"search-list\">\n  {#if items.length === 0}\n    <div class=\"empty-state\">\n      <div class=\"empty-icon\">üîç</div>\n      <h3>{ui.emptyTitle}</h3>\n      <p>{ui.emptyHint}</p>\n    </div>\n  {:else}\n    <div class=\"results-header\">\n      <h3>{ui.found(items.length)}</h3>\n      <div class=\"direction-info\">\n        {direction === 'DE->BG' ? ui.showing : ui.showingReverse}\n      </div>\n    </div>\n    \n    <div class=\"items-grid\">\n      {#each items as item (item.id)}\n        <div animate:flip={{ duration: 300 }}>\n          <VocabularyCard\n            {item}\n            variant=\"list\"\n            direction={direction === 'DE->BG' ? 'DE->BG' : 'BG->DE'}\n            isSelected={selectedItems.has(item.id)}\n            showMetadata={true}\n            showActions={showQuickPractice}\n            showTags={true}\n            onPractice={() => handlePracticeClick(item, new MouseEvent('click'))}\n            onQuickPractice={() => handleQuickPractice(item, new MouseEvent('click'))}\n            onToggleSelect={() => onToggleSelectItem(item.id)}\n            onOpenDetail={() => openDetailModal(item)}\n          />\n        </div>\n      {/each}\n    </div>\n  {/if}\n  \n  <!-- Word Detail Modal -->\n  {#if selectedItemForDetail}\n    <WordDetailModal \n      item={selectedItemForDetail} \n      open={showDetailModal} \n      onClose={closeDetailModal} \n    />\n  {/if}\n</div>\n\n<style>\n  .search-list {\n    display: flex;\n    flex-direction: column;\n    gap: 1.5rem;\n    position: relative;\n  }\n\n  .items-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(420px, 1fr));\n    gap: 1.5rem;\n    width: 100%;\n  }\n\n  .empty-state {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 4rem 2rem;\n    text-align: center;\n    background: #f9fafb;\n    border-radius: 12px;\n    border: 2px dashed #e5e7eb;\n    color: #6b7280;\n  }\n\n  .empty-icon {\n    font-size: 3rem;\n    margin-bottom: 1rem;\n    opacity: 0.5;\n  }\n\n  .empty-state h3 {\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: #374151;\n    margin-bottom: 0.5rem;\n  }\n\n  .results-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding-bottom: 1rem;\n    border-bottom: 1px solid #e5e7eb;\n  }\n\n  .results-header h3 {\n    font-size: 1.1rem;\n    font-weight: 600;\n    color: #374151;\n    margin: 0;\n  }\n\n  .direction-info {\n    font-size: 0.9rem;\n    color: #6b7280;\n    font-weight: 500;\n  }\n\n  @media (max-width: 768px) {\n    .items-grid {\n      grid-template-columns: 1fr;\n      gap: 1rem;\n    }\n\n    .results-header {\n      flex-direction: column;\n      gap: 0.5rem;\n      text-align: center;\n    }\n  }\n</style>","<script lang=\"ts\">\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n  import { appState } from '$lib/state/app-state';\n  import EnrichmentBadge from './EnrichmentBadge.svelte';\n  import DefinitionLink from './DefinitionLink.svelte';\n\n  let {\n    item,\n    open = false,\n    onClose\n  }: {\n    item: VocabularyItem;\n    open: boolean;\n    onClose: () => void;\n  } = $props();\n\n  const isNoun = $derived(item.partOfSpeech === 'noun');\n  const isVerb = $derived(item.partOfSpeech === 'verb');\n  const isAdjective = $derived(item.partOfSpeech === 'adjective');\n\n  // Get article for nouns\n  const article = $derived(item.grammar?.gender \n    ? item.grammar.gender === 'masculine' ? 'der'\n    : item.grammar.gender === 'feminine' ? 'die'\n    : 'das'\n    : undefined\n  );\n\n  // German cases for declension table\n  const cases = ['Nominativ', 'Akkusativ', 'Dativ', 'Genitiv'];\n  \n  // Verb tenses for conjugation table\n  const verbForms = [\n    { key: 'present', label: 'Pr√§sens / –°–µ–≥–∞—à–Ω–æ –≤—Ä–µ–º–µ' },\n    { key: 'past', label: 'Pr√§teritum / –ú–∏–Ω–∞–ª–æ –≤—Ä–µ–º–µ' },\n    { key: 'perfect', label: 'Perfekt / –ü–µ—Ä—Ñ–µ–∫—Ç' },\n    { key: 'future', label: 'Futur / –ë—ä–¥–µ—â–µ –≤—Ä–µ–º–µ' }\n  ];\n\n  // Adjective declension patterns\n  const adjDeclension = [\n    { case: 'Nominativ', m: '-er', f: '-e', n: '-es' },\n    { case: 'Akkusativ', m: '-en', f: '-e', n: '-es' },\n    { case: 'Dativ', m: '-em', f: '-er', n: '-em' },\n    { case: 'Genitiv', m: '-en', f: '-er', n: '-en' }\n  ];\n\n  const ui = $derived(appState.languageMode === 'DE_BG' ? {\n    close: 'Schlie√üen',\n    externalLinks: 'Externe W√∂rterb√ºcher',\n    examples: 'Beispiels√§tze',\n    literalTranslation: 'W√∂rtliche √úbersetzung',\n    declension: 'Deklination',\n    conjugation: 'Konjugation',\n    article: 'Artikel',\n    gender: 'Geschlecht',\n    pluralForm: 'Pluralform',\n    culturalNotes: 'Kulturelle Hinweise',\n    etymology: 'Etymologie',\n    synonyms: 'Synonyme',\n    antonyms: 'Antonyme'\n  } : {\n    close: '–ó–∞—Ç–≤–æ—Ä–∏',\n    externalLinks: '–í—ä–Ω—à–Ω–∏ —Ä–µ—á–Ω–∏—Ü–∏',\n    examples: '–ü—Ä–∏–º–µ—Ä–Ω–∏ –∏–∑—Ä–µ—á–µ–Ω–∏—è',\n    literalTranslation: '–ë—É–∫–≤–∞–ª–µ–Ω –ø—Ä–µ–≤–æ–¥',\n    declension: '–°–∫–ª–æ–Ω–µ–Ω–∏–µ',\n    conjugation: '–°–ø—Ä–µ–∂–µ–Ω–∏–µ',\n    article: '–ß–ª–µ–Ω',\n    gender: '–†–æ–¥',\n    pluralForm: '–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–∞ —Ñ–æ—Ä–º–∞',\n    culturalNotes: '–ö—É–ª—Ç—É—Ä–Ω–∏ –±–µ–ª–µ–∂–∫–∏',\n    etymology: '–ï—Ç–∏–º–æ–ª–æ–≥–∏—è',\n    synonyms: '–°–∏–Ω–æ–Ω–∏–º–∏',\n    antonyms: '–ê–Ω—Ç–æ–Ω–∏–º–∏'\n  });\n</script>\n\n{#if open}\n  <div\n    class=\"modal-overlay\"\n    role=\"button\"\n    aria-label={ui.close}\n    tabindex=\"0\"\n    onclick={onClose}\n    onkeydown={(event) => {\n      if (event.key === 'Escape' || event.key === 'Enter' || event.key === ' ') {\n        event.preventDefault();\n        onClose();\n      }\n    }}\n  >\n    <div\n      class=\"modal-content\"\n      onclick={(event) => event.stopPropagation()}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-labelledby=\"modal-title\"\n      tabindex=\"-1\"\n      onkeydown={(event) => {\n        if (event.key === 'Escape') {\n          event.preventDefault();\n          onClose();\n        }\n      }}\n    >\n      <!-- Header -->\n      <div class=\"modal-header\">\n        <div class=\"header-main\">\n          <h2 id=\"modal-title\" class=\"word-title\">\n            {#if article}<span class=\"article\">{article}</span>{/if}\n            {item.german}\n          </h2>\n          <p class=\"translation\">{item.bulgarian}</p>\n        </div>\n        <button class=\"close-btn\" onclick={onClose} aria-label={ui.close}>\n          <span aria-hidden=\"true\">√ó</span>\n        </button>\n      </div>\n\n      <div class=\"modal-body\">\n        <!-- External Dictionary Links -->\n        {#if item.enrichment?.sourceURL || (item.definitions && item.definitions.length > 0)}\n          <section class=\"section\">\n            <h3 class=\"section-title\">\n              <span class=\"icon\" aria-hidden=\"true\">üìñ</span>\n              {ui.externalLinks}\n            </h3>\n            <div class=\"links-grid\">\n              {#if item.enrichment && item.enrichment.sourceURL}\n                <EnrichmentBadge variant=\"card\" item={item} />\n              {/if}\n              {#if item.definitions && Array.isArray(item.definitions) && item.definitions.length > 0}\n                <DefinitionLink item={item} compact={false} showIcon={true} showLabel={true} />\n              {/if}\n            </div>\n          </section>\n        {/if}\n\n        <!-- Grammar Information -->\n        {#if isNoun && item.grammar}\n          <section class=\"section\">\n            <h3 class=\"section-title\">{ui.article} & {ui.gender}</h3>\n            <div class=\"grammar-info\">\n              <div class=\"info-item\">\n                <span class=\"label\">{ui.article}:</span>\n                <span class=\"value\">{article}</span>\n              </div>\n              {#if item.grammar.pluralForm}\n                <div class=\"info-item\">\n                  <span class=\"label\">{ui.pluralForm}:</span>\n                  <span class=\"value\">{item.grammar.pluralForm}</span>\n                </div>\n              {/if}\n            </div>\n          </section>\n\n          <!-- Declension Table -->\n          <section class=\"section\">\n            <h3 class=\"section-title\">{ui.declension}</h3>\n            <div class=\"table-wrapper\">\n              <table class=\"grammar-table\">\n                <thead>\n                  <tr>\n                    <th>Fall / –ü–∞–¥–µ–∂</th>\n                    <th>Singular</th>\n                    {#if item.grammar.pluralForm}<th>Plural</th>{/if}\n                  </tr>\n                </thead>\n                <tbody>\n                  {#each cases as caseLabel}\n                    <tr>\n                      <td class=\"case-label\">{caseLabel}</td>\n                      <td>{article} {item.german}</td>\n                      {#if item.grammar.pluralForm}<td>die {item.grammar.pluralForm}</td>{/if}\n                    </tr>\n                  {/each}\n                </tbody>\n              </table>\n            </div>\n          </section>\n        {/if}\n\n        {#if isVerb && item.grammar?.conjugation}\n          <section class=\"section\">\n            <h3 class=\"section-title\">{ui.conjugation}</h3>\n            <div class=\"table-wrapper\">\n              <table class=\"grammar-table\">\n                <thead>\n                  <tr>\n                    <th>Zeit / –í—Ä–µ–º–µ</th>\n                    <th>Deutsch</th>\n                    <th>–ë—ä–ª–≥–∞—Ä—Å–∫–∏</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {#each verbForms as form}\n                    <tr>\n                      <td class=\"case-label\">{form.label}</td>\n                      <td>{item.grammar.conjugation[form.key] || '‚Äî'}</td>\n                      <td>{item.bulgarian}</td>\n                    </tr>\n                  {/each}\n                </tbody>\n              </table>\n            </div>\n          </section>\n        {/if}\n\n        {#if isAdjective}\n          <section class=\"section\">\n            <h3 class=\"section-title\">{ui.declension}</h3>\n            <div class=\"table-wrapper\">\n              <table class=\"grammar-table\">\n                <thead>\n                  <tr>\n                    <th>Fall</th>\n                    <th>Maskulin</th>\n                    <th>Feminin</th>\n                    <th>Neutrum</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {#each adjDeclension as row}\n                    <tr>\n                      <td class=\"case-label\">{row.case}</td>\n                      <td>{item.german}{row.m}</td>\n                      <td>{item.german}{row.f}</td>\n                      <td>{item.german}{row.n}</td>\n                    </tr>\n                  {/each}\n                </tbody>\n              </table>\n            </div>\n          </section>\n        {/if}\n\n        <!-- Example Sentences with Literal Translation -->\n        {#if item.examples && item.examples.length > 0}\n          <section class=\"section\">\n            <h3 class=\"section-title\">\n              <span class=\"icon\" aria-hidden=\"true\">üí¨</span>\n              {ui.examples}\n            </h3>\n            <div class=\"examples-list\">\n              {#each item.examples as example}\n                <div class=\"example-card\">\n                  <p class=\"example-german\">{example.german}</p>\n                  <p class=\"example-bulgarian\">{example.bulgarian}</p>\n                  {#if example.context}\n                    <p class=\"example-context\">{example.context}</p>\n                  {/if}\n                  <div class=\"literal-translation\">\n                    <span class=\"literal-label\">{ui.literalTranslation}:</span>\n                    <span class=\"literal-text\">{example.bulgarian}</span>\n                  </div>\n                </div>\n              {/each}\n            </div>\n          </section>\n        {/if}\n\n        <!-- Cultural Notes -->\n        {#if item.culturalNotes && item.culturalNotes.length > 0}\n          <section class=\"section\">\n            <h3 class=\"section-title\">{ui.culturalNotes}</h3>\n            <div class=\"notes-content\">\n              {#each item.culturalNotes as note}\n                <p class=\"note-text\">{note}</p>\n              {/each}\n            </div>\n          </section>\n        {/if}\n\n        <!-- Etymology -->\n        {#if item.etymology}\n          <section class=\"section\">\n            <h3 class=\"section-title\">{ui.etymology}</h3>\n            <p class=\"note-text\">{item.etymology}</p>\n          </section>\n        {/if}\n\n        <!-- Synonyms & Antonyms -->\n        {#if item.synonyms || item.antonyms}\n          <section class=\"section\">\n            <div class=\"related-words\">\n              {#if item.synonyms && item.synonyms.length > 0}\n                <div class=\"word-group\">\n                  <h4 class=\"group-title\">{ui.synonyms}</h4>\n                  <div class=\"word-pills\">\n                    {#each item.synonyms as syn}\n                      <span class=\"word-pill synonym\">{syn}</span>\n                    {/each}\n                  </div>\n                </div>\n              {/if}\n              {#if item.antonyms && item.antonyms.length > 0}\n                <div class=\"word-group\">\n                  <h4 class=\"group-title\">{ui.antonyms}</h4>\n                  <div class=\"word-pills\">\n                    {#each item.antonyms as ant}\n                      <span class=\"word-pill antonym\">{ant}</span>\n                    {/each}\n                  </div>\n                </div>\n              {/if}\n            </div>\n          </section>\n        {/if}\n      </div>\n    </div>\n  </div>\n{/if}\n\n<style>\n  .modal-overlay {\n    position: fixed;\n    inset: 0;\n    background: rgba(0, 0, 0, 0.75);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n    padding: 1rem;\n    overflow-y: auto;\n  }\n\n  .modal-content {\n    background: white;\n    border-radius: 1rem;\n    max-width: 900px;\n    width: 100%;\n    max-height: calc(100vh - 2rem);\n    overflow-y: auto;\n    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n  }\n\n  .modal-header {\n    position: sticky;\n    top: 0;\n    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n    color: white;\n    padding: 1.5rem;\n    border-radius: 1rem 1rem 0 0;\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    z-index: 10;\n  }\n\n  .header-main {\n    flex: 1;\n  }\n\n  .word-title {\n    font-size: 2rem;\n    font-weight: 700;\n    margin: 0 0 0.5rem 0;\n    display: flex;\n    align-items: baseline;\n    gap: 0.5rem;\n  }\n\n  .article {\n    font-size: 1.5rem;\n    opacity: 0.9;\n    font-weight: 600;\n  }\n\n  .translation {\n    font-size: 1.25rem;\n    opacity: 0.95;\n    margin: 0;\n  }\n\n  .close-btn {\n    background: rgba(255, 255, 255, 0.2);\n    border: none;\n    color: white;\n    width: 40px;\n    height: 40px;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    transition: background 0.2s;\n  }\n\n  .close-btn:hover {\n    background: rgba(255, 255, 255, 0.3);\n  }\n\n  .modal-body {\n    padding: 1.5rem;\n  }\n\n  .section {\n    margin-bottom: 2rem;\n  }\n\n  .section-title {\n    font-size: 1.25rem;\n    font-weight: 700;\n    color: #1f2937;\n    margin: 0 0 1rem 0;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .icon {\n    display: inline-flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .links-grid {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.75rem;\n  }\n\n  .grammar-info {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 1rem;\n  }\n\n  .info-item {\n    display: flex;\n    gap: 0.5rem;\n    align-items: baseline;\n  }\n\n  .label {\n    font-weight: 600;\n    color: #6b7280;\n  }\n\n  .value {\n    color: #1f2937;\n    font-size: 1.125rem;\n  }\n\n  .table-wrapper {\n    overflow-x: auto;\n    border-radius: 0.5rem;\n    border: 1px solid #e5e7eb;\n  }\n\n  .grammar-table {\n    width: 100%;\n    border-collapse: collapse;\n  }\n\n  .grammar-table th,\n  .grammar-table td {\n    padding: 0.75rem;\n    text-align: left;\n    border-bottom: 1px solid #e5e7eb;\n  }\n\n  .grammar-table th {\n    background: #f9fafb;\n    font-weight: 600;\n    color: #374151;\n  }\n\n  .grammar-table tr:last-child td {\n    border-bottom: none;\n  }\n\n  .case-label {\n    font-weight: 600;\n    color: #667eea;\n  }\n\n  .examples-list {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n  }\n\n  .example-card {\n    background: #f9fafb;\n    border-radius: 0.5rem;\n    padding: 1rem;\n    border-left: 4px solid #667eea;\n  }\n\n  .example-german {\n    font-size: 1.125rem;\n    color: #1f2937;\n    margin: 0 0 0.5rem 0;\n    font-weight: 500;\n  }\n\n  .example-bulgarian {\n    font-size: 1rem;\n    color: #4b5563;\n    margin: 0 0 0.5rem 0;\n  }\n\n  .example-context {\n    font-size: 0.875rem;\n    color: #6b7280;\n    font-style: italic;\n    margin: 0 0 0.75rem 0;\n  }\n\n  .literal-translation {\n    display: flex;\n    gap: 0.5rem;\n    padding-top: 0.75rem;\n    border-top: 1px solid #e5e7eb;\n  }\n\n  .literal-label {\n    font-weight: 600;\n    color: #6b7280;\n    font-size: 0.875rem;\n  }\n\n  .literal-text {\n    color: #1f2937;\n    font-size: 0.875rem;\n  }\n\n  .notes-content {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n\n  .note-text {\n    color: #374151;\n    line-height: 1.6;\n    margin: 0;\n  }\n\n  .related-words {\n    display: grid;\n    gap: 1.5rem;\n  }\n\n  .word-group {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n\n  .group-title {\n    font-size: 1rem;\n    font-weight: 600;\n    color: #4b5563;\n    margin: 0;\n  }\n\n  .word-pills {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 0.5rem;\n  }\n\n  .word-pill {\n    padding: 0.5rem 1rem;\n    border-radius: 999px;\n    font-size: 0.875rem;\n    font-weight: 500;\n  }\n\n  .synonym {\n    background: #dbeafe;\n    color: #1e40af;\n  }\n\n  .antonym {\n    background: #fee2e2;\n    color: #991b1b;\n  }\n\n  @media (max-width: 640px) {\n    .word-title {\n      font-size: 1.5rem;\n    }\n\n    .translation {\n      font-size: 1rem;\n    }\n\n    .grammar-table th,\n    .grammar-table td {\n      padding: 0.5rem;\n      font-size: 0.875rem;\n    }\n  }\n</style>\n","<script lang=\"ts\">\n  import TandemToggle from './TandemToggle.svelte';\n  import SearchList from './SearchList.svelte';\n  import ActionButton from './ui/ActionButton.svelte';\n  import { appState } from '$lib/state/app-state';\n  import { t } from '$lib/services/localization';\n  import { fade, fly, slide, scale } from 'svelte/transition';\n  import { browser } from '$app/environment';\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n  import { vocabularyDb } from '$lib/data/db.svelte';\n\n  // Track if component is mounted to prevent SSR fetch calls\n  let isMounted = $state(false);\n  let currentItem = $state<VocabularyItem | null>(null);\n  let userAnswer = $state('');\n  let isAnswered = $state(false);\n  let isCorrect = $state(false);\n  let showExamples = $state(false);\n  let searchQuery = $state('');\n  let searchResults = $state<VocabularyItem[]>([]);\n  let isLoading = $state(true);\n  let error = $state<string | null>(null);\n  // Error state\n  let hasError = $state(false);\n  let errorMessage = $state<string | null>(null);\n\n  // Simple error handler\n  function handleError(error: unknown, context: string) {\n    console.error(`[${context}]`, error);\n  }\n\n  // No separate direction state; compute inline when needed\n  let sourceLanguageName = $derived(getSourceLanguageName());\n  let targetLanguageName = $derived(getTargetLanguageName());\n\n  let mode = $state<'practice' | 'search'>('practice');\n  let stats = $state<{\n    correct: number,\n    total: number,\n    streak: number,\n    lastResponseTime: number,\n    averageResponseTime: number\n  }>({\n    correct: 0,\n    total: 0,\n    streak: 0,\n    lastResponseTime: 0,\n    averageResponseTime: 0\n  });\n  let startTime = $state(0);\n  // Enhanced animation functions\n  function feedbackAnimation(node: HTMLElement) {\n    return fly(node, {\n      y: -20,\n      opacity: 1,\n      duration: 400,\n      easing: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\n    });\n  }\n\n  function statAnimation(node: HTMLElement) {\n    return scale(node, {\n      duration: 300,\n      easing: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n      start: 0.8,\n      opacity: 1\n    });\n  }\n\n  function cardSlideAnimation(node: HTMLElement) {\n    return slide(node, {\n      duration: 500,\n      easing: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n      axis: 'y'\n    });\n  }\n\n  function shakeAnimation(node: HTMLElement) {\n    const duration = 500;\n    return {\n      duration,\n      tick: (t: number, u: number) => {\n        const shake = Math.sin(t * 10) * (1 - t) * 2;\n        node.style.transform = `translateX(${shake}px)`;\n        node.style.opacity = `${u}`;\n      }\n    };\n  }\n\n  // Enhanced load with animation\n  /**\n   * Load a new vocabulary item with proper error handling\n   * @throws Error if loading fails\n   */\n  async function loadNewItem() {\n    try {\n      isLoading = true;\n      error = null;\n      hasError = false;\n\n      // Simulate loading delay for better UX\n      await new Promise(resolve => setTimeout(resolve, 300));\n\n      await vocabularyDb.initialize();\n      const items = vocabularyDb.getRandomVocabulary(1);\n      currentItem = items && items[0] ? items[0] : null;\n      resetAnswer();\n    } catch (err) {\n      handleError(err, 'Failed to load vocabulary item');\n      error = t('practice.load_vocabulary_failed');\n      hasError = true;\n      errorMessage = err instanceof Error ? err.message : t('practice.load_vocabulary_failed');\n\n      // Re-throw to allow parent components to handle the error\n      throw err;\n    } finally {\n      isLoading = false;\n    }\n  }\n\n  function resetAnswer() {\n    userAnswer = '';\n    isAnswered = false;\n    isCorrect = false;\n    showExamples = false;\n    startTime = performance.now();\n  }\n\n  /**\n   * Check user answer with proper error handling\n   * @throws Error if answer checking fails\n   */\n  async function checkAnswer() {\n    try {\n      if (!currentItem || !userAnswer.trim()) return;\n\n      isAnswered = true;\n      const correctAnswer = appState.languageMode === 'DE_BG' ? currentItem.bulgarian : currentItem.german;\n      isCorrect = userAnswer.trim().toLowerCase() === correctAnswer.toLowerCase();\n\n      // Calculate response time\n      const responseTime = Math.round(performance.now() - startTime);\n\n      // Update stats\n      stats.total++;\n      if (isCorrect) {\n        stats.correct++;\n        stats.streak++;\n        stats.lastResponseTime = responseTime;\n\n        // Update average response time\n        if (stats.averageResponseTime === 0) {\n          stats.averageResponseTime = responseTime;\n        } else {\n          stats.averageResponseTime = Math.round(\n            (stats.averageResponseTime * (stats.total - 1) + responseTime) / stats.total\n          );\n        }\n      } else {\n        stats.streak = 0;\n      }\n\n      // Update global stats and app state\n      if (currentItem) {\n        await appState.recordPracticeResult(currentItem.id, isCorrect, responseTime);\n      }\n    } catch (err) {\n      handleError(err, 'Failed to check answer');\n      hasError = true;\n      errorMessage = t('errors.record_result_failed');\n      throw err;\n    }\n  }\n\n  /**\n   * Load next item with error handling\n   */\n  async function nextItem() {\n    try {\n      await loadNewItem();\n    } catch (err) {\n      // Error is already handled in loadNewItem\n    }\n  }\n\n  /**\n   * Toggle examples visibility with error handling\n   */\n  function toggleExamples() {\n    try {\n      showExamples = !showExamples;\n    } catch (err) {\n      handleError(err, 'Failed to toggle examples');\n      hasError = true;\n      errorMessage = t('errors.toggle_examples_failed');\n    }\n  }\n\n  // Enhanced practice features\n  /**\n   * Toggle favorite status with error handling\n   */\n  function toggleFavorite() {\n    try {\n      if (currentItem) {\n        appState.toggleFavorite(currentItem.id);\n      }\n    } catch (err) {\n      handleError(err, 'Failed to toggle favorite');\n      hasError = true;\n      errorMessage = t('errors.update_favorites_failed');\n    }\n  }\n\n  /**\n   * Practice a specific item with error handling\n   * @param item The vocabulary item to practice\n   */\n  function practiceThisItem(item: VocabularyItem) {\n    try {\n      currentItem = item;\n      mode = 'practice';\n      resetAnswer();\n    } catch (err) {\n      handleError(err, 'Failed to practice item');\n      hasError = true;\n      errorMessage = t('errors.load_practice_item_failed');\n    }\n  }\n\n  function getDifficultyColor(difficulty?: 'A1' | 'A2' | 'B1' | 'B2' | 'C1' | 'C2'): string {\n    switch (difficulty) {\n      case 'A1': return '#28a745';\n      case 'A2': return '#20c997';\n      case 'B1': return '#ffc107';\n      case 'B2': return '#fd7e14';\n      case 'C1': return '#dc3545';\n      case 'C2': return '#6f42c1';\n      default: return '#6c757d';\n    }\n  }\n\n  function mapNumericDifficultyToCEFR(d: number | undefined): 'A1' | 'A2' | 'B1' | 'B2' | 'C1' | undefined {\n    if (d === undefined || d === null) return undefined;\n    if (d <= 1.5) return 'A1';\n    if (d <= 2.5) return 'A2';\n    if (d <= 3.5) return 'B1';\n    if (d <= 4.5) return 'B2';\n    return 'C1';\n  }\n\n  function getStreakEmoji(streak: number): string {\n    if (streak >= 10) return 'üî•';\n    if (streak >= 5) return '‚≠ê';\n    if (streak >= 3) return '‚ú®';\n    return '';\n  }\n\n  /**\n   * Handle search with error handling\n   * @param query The search query\n   */\n  async function handleSearch(query: string) {\n    try {\n      searchQuery = query;\n      if (query.trim()) {\n        await vocabularyDb.initialize();\n        const results = vocabularyDb.searchVocabulary(query);\n        searchResults = results;\n      } else {\n        searchResults = [];\n      }\n    } catch (err) {\n      handleError(err, 'Failed to search vocabulary');\n      hasError = true;\n      errorMessage = t('errors.search_failed');\n      searchResults = [];\n    }\n  }\n\n  /**\n   * Handle direction change with error handling\n   * @param newLanguageMode The new language mode to set\n   */\n  function handleDirectionChange(newLanguageMode: 'DE_BG' | 'BG_DE') {\n    try {\n      // Update global state with the new language mode directly\n      if (appState.languageMode !== newLanguageMode) {\n        appState.toggleDirection();\n      }\n      resetAnswer();\n    } catch (err) {\n      handleError(err, 'Failed to change direction');\n      hasError = true;\n      errorMessage = t('errors.change_direction_failed');\n    }\n  }\n\n  /**\n   * Handle mode change with error handling\n   * @param newMode The new mode to set\n   */\n  function handleModeChange(newMode: 'practice' | 'search') {\n    try {\n      mode = newMode;\n      if (newMode === 'practice') {\n        searchQuery = '';\n        searchResults = [];\n      }\n    } catch (err) {\n      handleError(err, 'Failed to change mode');\n      hasError = true;\n      errorMessage = t('errors.change_mode_failed');\n    }\n  }\n\n  /**\n   * Handle item selection with error handling\n   * @param item The item to select\n   */\n  function handleSelectItem(item: VocabularyItem) {\n    try {\n      // Set the item first, then change mode to ensure proper rendering\n      currentItem = item;\n      // Use a small timeout to ensure the mode change triggers re-render\n      setTimeout(() => {\n        try {\n          mode = 'practice';\n          resetAnswer();\n        } catch (err) {\n          handleError(err, 'Failed to switch to practice mode');\n          hasError = true;\n          errorMessage = t('errors.switch_mode_failed');\n        }\n      }, 10);\n    } catch (err) {\n      handleError(err, 'Failed to select item');\n      hasError = true;\n      errorMessage = t('errors.select_item_failed');\n    }\n  }\n\n  import { formatGermanTerm } from '$lib/utils/formatGerman';\n  function getQuestionText() {\n    if (!currentItem) return '';\n    return appState.languageMode === 'DE_BG' ? formatGermanTerm(currentItem) : currentItem.bulgarian;\n  }\n\n  function getCorrectAnswer() {\n    if (!currentItem) return '';\n    return appState.languageMode === 'DE_BG' ? currentItem.bulgarian : formatGermanTerm(currentItem);\n  }\n\n  function getSourceLanguageName() {\n    return appState.languageMode === 'DE_BG' ? t('languages.german') : t('languages.bulgarian');\n  }\n\n  function getTargetLanguageName() {\n    return appState.languageMode === 'DE_BG' ? t('languages.bulgarian') : t('languages.german');\n  }\n\n  const categoryLabels = {\n    de: {\n      greetings: 'Begr√º√üungen',\n      numbers: 'Zahlen',\n      family: 'Familie',\n      food: 'Essen',\n      colors: 'Farben',\n      animals: 'Tiere',\n      'body-parts': 'K√∂rperteile',\n      clothing: 'Kleidung',\n      home: 'Zuhause',\n      nature: 'Natur',\n      transport: 'Verkehr',\n      technology: 'Technologie',\n      time: 'Zeit',\n      weather: 'Wetter',\n      professions: 'Berufe',\n      places: 'Orte',\n      grammar: 'Grammatik',\n      culture: 'Kultur',\n      'everyday-phrases': 'Alltagsphrasen'\n    },\n    bg: {\n      greetings: '–ü–æ–∑–¥—Ä–∞–≤–∏',\n      numbers: '–ß–∏—Å–ª–∞',\n      family: '–°–µ–º–µ–π—Å—Ç–≤–æ',\n      food: '–•—Ä–∞–Ω–∞',\n      colors: '–¶–≤–µ—Ç–æ–≤–µ',\n      animals: '–ñ–∏–≤–æ—Ç–Ω–∏',\n      'body-parts': '–ß–∞—Å—Ç–∏ –Ω–∞ —Ç—è–ª–æ—Ç–æ',\n      clothing: '–û–±–ª–µ–∫–ª–æ',\n      home: '–î–æ–º',\n      nature: '–ü—Ä–∏—Ä–æ–¥–∞',\n      transport: '–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç',\n      technology: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏',\n      time: '–í—Ä–µ–º–µ',\n      weather: '–í—Ä–µ–º–µ—Ç–æ',\n      professions: '–ü—Ä–æ—Ñ–µ—Å–∏–∏',\n      places: '–ú–µ—Å—Ç–∞',\n      grammar: '–ì—Ä–∞–º–∞—Ç–∏–∫–∞',\n      culture: '–ö—É–ª—Ç—É—Ä–∞',\n      'everyday-phrases': '–ß–µ—Å—Ç–æ —Å—Ä–µ—â–∞–Ω–∏ –∏–∑—Ä–∞–∑–∏'\n    }\n  } as const;\n\n  function getCategoryLabel(category?: string) {\n    if (!category) return '';\n    const labels = appState.languageMode === 'DE_BG' ? categoryLabels.de : categoryLabels.bg;\n    return labels[category as keyof typeof labels] ?? category;\n  }\n\n  /**\n   * Convert language mode to direction string for SearchList component\n   * @param languageMode The language mode to convert\n   * @returns Direction string in format 'DE->BG' or 'BG->DE'\n   */\n  function convertLanguageModeToDirection(languageMode: 'DE_BG' | 'BG_DE'): 'DE->BG' | 'BG->DE' {\n    return languageMode === 'DE_BG' ? 'DE->BG' : 'BG->DE';\n  }\n\n  // Removed getAnswerOptions as it was unused and causing errors\n\n  // Load initial item only when component is mounted (client-side)\n  // Initialize with error handling\n  $effect(() => {\n    try {\n      if (browser && !isMounted) {\n        isMounted = true;\n        loadNewItem();\n      }\n    } catch (err) {\n      handleError(err, 'Failed to initialize TandemPractice component');\n      hasError = true;\n      errorMessage = t('errors.init_practice_failed');\n    }\n  });\n</script>\n\n<div class=\"tandem-practice\" class:ci-mode={typeof process !== 'undefined' && process.env['PLAYWRIGHT_TEST_MODE'] === 'ci'}>\n  {#if hasError}\n    <div class=\"error-message\">\n      <div class=\"error-icon\">‚ö†Ô∏è</div>\n      <h3>{t('errors.practice_load_error')}</h3>\n      <p>{errorMessage || t('errors.unknown_error')}</p>\n      <div class=\"error-actions\">\n        <ActionButton\n          variant=\"primary\"\n          size=\"md\"\n          onclick={() => window.location.reload()}\n          label={t('common.reload_page')}\n        >\n          {t('common.reload_page')}\n        </ActionButton>\n        <ActionButton\n          variant=\"secondary\"\n          size=\"md\"\n          onclick={() => {\n            try {\n              hasError = false;\n              errorMessage = null;\n              loadNewItem();\n            } catch (err) {\n              handleError(err, 'Failed to retry loading');\n            }\n          }}\n          label={t('common.try_again')}\n        >\n          {t('common.try_again')}\n        </ActionButton>\n      </div>\n    </div>\n  {:else}\n  <div class=\"header\">\n    <h2 class=\"app-title\">\n      <span class=\"title-icon\">üîÑ</span>\n      {t('practice.tandem_learning')}\n    </h2>\n    <TandemToggle\n      mode={mode}\n      onDirectionChange={handleDirectionChange}\n      onModeChange={handleModeChange}\n    />\n  </div>\n\n  <div class=\"stats-bar\" in:cardSlideAnimation>\n    <div class=\"stat\" in:statAnimation>\n      <span class=\"stat-label\">{t('practice.correct')}:</span>\n      <span class=\"stat-value\">{stats.correct}/{stats.total}</span>\n    </div>\n    <div class=\"stat\" in:statAnimation>\n      <span class=\"stat-label\">{t('practice.streak')}:</span>\n      <span class=\"stat-value\">\n        {stats.streak} {getStreakEmoji(stats.streak)}\n      </span>\n    </div>\n    <div class=\"stat\" in:statAnimation>\n      <span class=\"stat-label\">{t('practice.accuracy')}:</span>\n      <span class=\"stat-value\">{stats.total > 0 ? Math.round((stats.correct / stats.total) * 100) : 0}%</span>\n    </div>\n    {#if stats.averageResponseTime > 0}\n      <div class=\"stat\" in:statAnimation>\n        <span class=\"stat-label\">{t('practice.avg_time')}:</span>\n        <span class=\"stat-value\">{stats.averageResponseTime}{t('common.milliseconds')}</span>\n      </div>\n    {/if}\n  </div>\n\n  {#if mode === 'practice'}\n    {#if isLoading}\n      <div class=\"loading\" role=\"status\" aria-live=\"polite\" aria-label={t('practice.loading_vocabulary')} in:cardSlideAnimation>\n        <div class=\"spinner\" aria-hidden=\"true\"></div>\n        <p class=\"loading-text\">{t('practice.loading_vocabulary')}</p>\n        <div class=\"progress-container\">\n          <div class=\"progress-bar\" style=\"width: {Math.min(100, stats.total * 10)}%\"></div>\n        </div>\n      </div>\n    {:else if error}\n      <div class=\"error\" role=\"alert\" aria-live=\"assertive\" in:shakeAnimation>\n        <div class=\"error-icon\">‚ö†Ô∏è</div>\n        <h3 class=\"error-title\">{t('practice.loading_failed')}</h3>\n        <p class=\"error-message\">{error}</p>\n        <div class=\"error-actions\">\n          <ActionButton\n            variant=\"primary\"\n            size=\"md\"\n            onclick={() => {\n              try {\n                loadNewItem();\n              } catch (err) {\n                handleError(err, 'Failed to retry loading');\n              }\n            }}\n            label={t('practice.retry_loading')}\n          >\n            {t('common.retry')}\n          </ActionButton>\n          <ActionButton\n            variant=\"secondary\"\n            size=\"md\"\n            onclick={() => {\n              try {\n                mode = 'search';\n              } catch (err) {\n                handleError(err, 'Failed to switch to search mode');\n              }\n            }}\n            label={t('practice.switch_to_search')}\n          >\n            {t('practice.search_vocabulary')}\n          </ActionButton>\n        </div>\n      </div>\n    {:else if currentItem}\n      <div class=\"practice-card\" in:cardSlideAnimation>\n        <div class=\"question-section\">\n          <div class=\"direction-indicator\" in:fade>\n            {appState.languageMode === 'DE_BG' ? `üá©üá™ ${t('languages.german')} ‚Üí üáßüá¨ ${t('languages.bulgarian')}` : `üáßüá¨ ${t('languages.bulgarian')} ‚Üí üá©üá™ ${t('languages.german')}`}\n          </div>\n          <h3 class=\"question-text\" in:scale>{getQuestionText()}</h3>\n          <div class=\"item-meta\">\n            <span class=\"category\">{getCategoryLabel(currentItem.categories?.[0])}</span>\n            {#if mapNumericDifficultyToCEFR(currentItem.difficulty)}\n              <span class=\"difficulty\" style=\"color: {getDifficultyColor(mapNumericDifficultyToCEFR(currentItem.difficulty))}\">\n                {mapNumericDifficultyToCEFR(currentItem.difficulty)}\n              </span>\n            {/if}\n            <button\n              class=\"favorite-btn\"\n              onclick={toggleFavorite}\n              class:favorited={appState.isFavorite(currentItem.id)}\n              aria-label=\"Toggle favorite\"\n            >\n              {appState.isFavorite(currentItem.id) ? '‚ù§Ô∏è' : 'ü§ç'}\n            </button>\n          </div>\n        </div>\n\n        <div class=\"answer-section\">\n          {#if !isAnswered}\n            <div class=\"input-group\" in:fade>\n              <input\n                type=\"text\"\n                bind:value={userAnswer}\n                placeholder={t('practice.type_answer_placeholder')}\n                onkeydown={(e) => {\n                  if (e.key === 'Enter' && !isAnswered) {\n                    checkAnswer();\n                  }\n                }}\n                class=\"answer-input\"\n              />\n              <ActionButton\n                variant=\"primary\"\n                size=\"md\"\n                onclick={checkAnswer}\n                disabled={!userAnswer.trim()}\n                label={t('practice.check_answer')}\n              >\n                {t('practice.check_answer')}\n              </ActionButton>\n            </div>\n          {:else}\n            <div\n              class=\"feedback-section\"\n              class:correct={isCorrect}\n              class:incorrect={!isCorrect}\n              in:feedbackAnimation\n              aria-live=\"polite\"\n            >\n              <div class=\"feedback-icon\">\n                {isCorrect ? '‚úÖ' : '‚ùå'}\n              </div>\n              <div class=\"feedback-text\">\n                <p class=\"feedback-message\">\n                  {isCorrect ? t('practice.correct_answer') : `${t('practice.incorrect_answer')} ${getCorrectAnswer()}`}\n                  {#if isCorrect && stats.lastResponseTime}\n                    <span class=\"response-time\"> ({t('practice.response_time')}: {stats.lastResponseTime}{t('common.milliseconds')})</span>\n                  {/if}\n                </p>\n                {#if !isCorrect}\n                  <p class=\"hint-text\">{t('practice.your_answer')}: \"{userAnswer}\"</p>\n                {/if}\n              </div>\n            </div>\n\n            <div class=\"action-buttons\" in:fade>\n              <ActionButton\n                variant=\"secondary\"\n                size=\"md\"\n                onclick={nextItem}\n                label={t('practice.next_word')}\n              >\n                {t('practice.next_word')}\n              </ActionButton>\n              <ActionButton\n                variant=\"text\"\n                size=\"md\"\n                onclick={toggleExamples}\n                label={showExamples ? t('common.hide') : t('common.show')}\n              >\n                {showExamples ? t('common.hide') : t('common.show')} {t('practice.examples')}\n              </ActionButton>\n              <button\n                class=\"btn-favorite\"\n                onclick={toggleFavorite}\n                class:favorited={appState.isFavorite(currentItem.id)}\n              >\n                {appState.isFavorite(currentItem.id) ? '‚ù§Ô∏è ' + t('practice.favorited') : 'ü§ç ' + t('practice.favorite')}\n              </button>\n            </div>\n          {/if}\n        </div>\n\n        {#if showExamples && currentItem.examples && currentItem.examples.length > 0 && currentItem.examples[0]}\n          <div class=\"examples-section\" in:slide>\n            <h4>{t('practice.example')}:</h4>\n            <div class=\"example\">\n              <p class=\"example-sentence\">{currentItem.examples[0].german}</p>\n              <p class=\"example-translation\">{currentItem.examples[0].bulgarian}</p>\n            </div>\n          </div>\n        {/if}\n\n        <!-- Practice recommendations -->\n        {#if appState.practiceRecommendations.length > 0}\n          <div class=\"recommendations-section\" in:fade>\n            <h4>{t('practice.recommended_for_practice')}:</h4>\n            <div class=\"recommendation-list\">\n              {#each appState.practiceRecommendations.slice(0, 3) as item}\n                <div\n                  class=\"recommendation-item\"\n                  onclick={() => practiceThisItem(item)}\n                  role=\"button\"\n                  tabindex=\"0\"\n                  onkeydown={(e) => {\n                    if (e.key === 'Enter' || e.key === ' ') {\n                      e.preventDefault();\n                      practiceThisItem(item);\n                    }\n                  }}\n                  aria-label={`${t('practice.practice_word')}: ${appState.languageMode === 'DE_BG' ? item.german : item.bulgarian}. ${t('practice.category')}: ${getCategoryLabel(item.categories?.[0])}`}\n                >\n                  <span class=\"rec-text\">\n                    {appState.languageMode === 'DE_BG' ? formatGermanTerm(item) : item.bulgarian}\n                  </span>\n                  <span class=\"rec-meta\">{getCategoryLabel(item.categories?.[0])}</span>\n                </div>\n              {/each}\n            </div>\n          </div>\n        {/if}\n      </div>\n    {/if}\n  {:else}\n    <div class=\"search-section\">\n      <div class=\"search-header\">\n        <h3>{t('practice.search_vocabulary')}</h3>\n        <div class=\"search-direction\">\n          {appState.languageMode === 'DE_BG' ? `üá©üá™ ${t('languages.german')} ‚Üí üáßüá¨ ${t('languages.bulgarian')}` : `üáßüá¨ ${t('languages.bulgarian')} ‚Üí üá©üá™ ${t('languages.german')}`}\n        </div>\n      </div>\n\n      <div class=\"search-input-group\">\n        <input\n          type=\"text\"\n          bind:value={searchQuery}\n          placeholder={t('search.search_placeholder')}\n          oninput={(e: Event) => handleSearch((e.currentTarget as HTMLInputElement).value)}\n          class=\"search-input\"\n        />\n        <div class=\"search-direction\">\n          {sourceLanguageName} ‚Üí {targetLanguageName}\n        </div>\n      </div>\n\n      <SearchList\n        items={searchResults}\n        direction={convertLanguageModeToDirection(appState.languageMode)}\n        onSelectItem={handleSelectItem}\n        onToggleSelectItem={() => {}}\n        selectedItems={new Set()}\n      />\n    </div>\n  {/if}\n{/if}\n\n</div>\n\n<style>\n  .tandem-practice {\n    max-width: 800px;\n    margin: 0 auto;\n    padding: 1rem;\n    position: relative;\n  }\n\n  /* Stat display */\n  .stat-value {\n    transition: color 0.2s ease;\n  }\n\n  /* Response time styling */\n  .response-time {\n    font-size: 0.8rem;\n    color: #6c757d;\n    margin-left: 0.5rem;\n  }\n\n  /* Tooltips */\n  .stat {\n    position: relative;\n  }\n\n  .header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 2rem;\n  }\n\n  .header h2 {\n    margin: 0;\n    color: #2c3e50;\n    font-size: 1.8rem;\n  }\n\n  .stats-bar {\n    display: flex;\n    gap: 2rem;\n    margin-bottom: 2rem;\n    padding: 1rem;\n    background: #f8f9fa;\n    border-radius: 8px;\n  }\n\n  .stat {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .stat-label {\n    font-size: 0.9rem;\n    color: #6c757d;\n    margin-bottom: 0.25rem;\n  }\n\n  .stat-value {\n    font-size: 1.2rem;\n    font-weight: 600;\n    color: #2c3e50;\n  }\n\n  .loading {\n    text-align: center;\n    padding: 3rem;\n  }\n\n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid #f3f3f3;\n    border-top: 4px solid #007bff;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin: 0 auto 1rem;\n  }\n\n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n\n  .error {\n    text-align: center;\n    padding: 2rem;\n    color: #dc3545;\n    background: #fef2f2;\n    border-radius: 12px;\n    border: 1px solid #fecaca;\n  }\n\n  .error-message {\n    padding: 1.5rem;\n    background: #fef2f2;\n    border-radius: 12px;\n    color: #ef4444;\n    margin: 2rem 0;\n    text-align: center;\n    border: 1px solid #fecaca;\n  }\n\n  .error-message .error-icon {\n    font-size: 3rem;\n    margin-bottom: 1rem;\n  }\n\n  .error-message h3 {\n    margin: 0 0 1rem 0;\n    font-size: 1.5rem;\n    color: #dc2626;\n  }\n\n  .error-message p {\n    margin: 0 0 1.5rem 0;\n    color: #b91c1c;\n  }\n\n  .error-message .error-actions {\n    display: flex;\n    justify-content: center;\n    gap: 1rem;\n    margin-top: 1rem;\n  }\n\n  .practice-card {\n    background: white;\n    border-radius: 12px;\n    padding: 2rem;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  }\n\n  .question-section {\n    text-align: center;\n    margin-bottom: 2rem;\n  }\n\n  .direction-indicator {\n    font-size: 1.2rem;\n    margin-bottom: 1rem;\n    opacity: 0.8;\n  }\n\n  .question-text {\n    font-size: 2.5rem;\n    font-weight: 700;\n    color: #2c3e50;\n    margin-bottom: 1rem;\n    line-height: 1.2;\n  }\n\n  .item-meta {\n    display: flex;\n    justify-content: center;\n    gap: 1rem;\n    font-size: 0.9rem;\n    color: #6c757d;\n  }\n\n  .category, .difficulty {\n    background: #e9ecef;\n    padding: 0.25rem 0.5rem;\n    border-radius: 4px;\n  }\n\n  .answer-section {\n    margin-bottom: 2rem;\n  }\n\n  .input-group {\n    display: flex;\n    gap: 1rem;\n    max-width: 500px;\n    margin: 0 auto;\n  }\n\n  .answer-input {\n    flex: 1;\n    padding: 1rem;\n    border: 2px solid #dee2e6;\n    border-radius: 8px;\n    font-size: 1.1rem;\n  }\n\n  .answer-input:focus {\n    outline: none;\n    border-color: #007bff;\n  }\n\n  .feedback-section {\n    display: flex;\n    align-items: flex-start;\n    gap: 1rem;\n    padding: 1.5rem;\n    border-radius: 8px;\n    margin-bottom: 1rem;\n  }\n\n  .feedback-section.correct {\n    background: #d4edda;\n    border: 1px solid #c3e6cb;\n  }\n\n  .feedback-section.incorrect {\n    background: #f8d7da;\n    border: 1px solid #f5c6cb;\n  }\n\n  .feedback-icon {\n    font-size: 2rem;\n  }\n\n  .feedback-text {\n    flex: 1;\n  }\n\n  .feedback-message {\n    font-weight: 600;\n    margin-bottom: 0.5rem;\n  }\n\n  .action-buttons {\n    display: flex;\n    justify-content: center;\n    gap: 1rem;\n  }\n\n  .examples-section {\n    margin-top: 2rem;\n    padding-top: 2rem;\n    border-top: 1px solid #dee2e6;\n  }\n\n  .examples-section h4 {\n    margin-bottom: 1rem;\n    color: #2c3e50;\n  }\n\n  .example {\n    margin-bottom: 1rem;\n    padding: 1rem;\n    background: #f8f9fa;\n    border-radius: 6px;\n  }\n\n  .example-sentence {\n    font-weight: 500;\n    margin-bottom: 0.5rem;\n  }\n\n  .search-section {\n    max-width: 800px;\n  }\n\n  .search-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 1.5rem;\n  }\n\n  .search-header h3 {\n    margin: 0;\n    color: #2c3e50;\n  }\n\n  .search-direction {\n    font-size: 0.9rem;\n    color: #6c757d;\n  }\n\n  .search-input-group {\n    margin-bottom: 2rem;\n  }\n\n  .search-input {\n    width: 100%;\n    padding: 1rem;\n    border: 2px solid #dee2e6;\n    border-radius: 8px;\n    font-size: 1.1rem;\n    margin-bottom: 0.5rem;\n  }\n\n  .search-input:focus {\n    outline: none;\n    border-color: #007bff;\n  }\n\n  @media (max-width: 768px) {\n    .tandem-practice {\n      padding: 0.5rem;\n    }\n\n    .header {\n      flex-direction: column;\n      gap: 1rem;\n      text-align: center;\n    }\n\n    .stats-bar {\n      flex-direction: column;\n      gap: 1rem;\n    }\n\n    .stat {\n      flex-direction: row;\n      justify-content: space-between;\n    }\n\n    .question-text {\n      font-size: 2rem;\n    }\n\n    .input-group {\n      flex-direction: column;\n    }\n\n    .action-buttons {\n      flex-direction: column;\n    }\n\n    .search-header {\n      flex-direction: column;\n      gap: 0.5rem;\n      text-align: center;\n    }\n  }\n\n  /* Recommendations section */\n  .recommendations-section {\n    margin-top: 2rem;\n    padding-top: 2rem;\n    border-top: 1px solid #dee2e6;\n  }\n\n  .recommendations-section h4 {\n    margin-bottom: 1rem;\n    color: #2c3e50;\n    font-size: 1.1rem;\n    font-weight: 600;\n  }\n\n  .recommendation-list {\n    display: flex;\n    gap: 1rem;\n    flex-wrap: wrap;\n  }\n\n  .recommendation-item {\n    flex: 1;\n    min-width: 200px;\n    padding: 1rem;\n    background: #f8f9fa;\n    border: 1px solid #dee2e6;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    text-align: center;\n  }\n\n  .recommendation-item:hover {\n    background: #e9ecef;\n    transform: translateY(-2px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n  }\n\n  .recommendation-item:focus {\n    outline: 2px solid #007bff;\n    outline-offset: 2px;\n  }\n\n  .rec-text {\n    display: block;\n    font-weight: 600;\n    color: #2c3e50;\n    margin-bottom: 0.5rem;\n  }\n\n  .rec-meta {\n    display: block;\n    font-size: 0.8rem;\n    color: #6c757d;\n  }\n\n  /* Enhanced mobile responsiveness */\n  @media (max-width: 768px) {\n    .app-title {\n      font-size: 1.5rem;\n    }\n\n    .stats-bar {\n      flex-direction: column;\n      gap: 1rem;\n      padding: 1rem;\n    }\n\n    .stat {\n      flex-direction: row;\n      justify-content: space-between;\n      align-items: center;\n    }\n\n    .stat-value {\n      font-size: 1.1rem;\n    }\n\n    .question-text {\n      font-size: 2.2rem;\n    }\n\n    .practice-card {\n      padding: 1.5rem;\n    }\n\n    .input-group {\n      flex-direction: column;\n      gap: 0.75rem;\n    }\n\n    .answer-input {\n      padding: 1rem;\n      font-size: 1rem;\n    }\n\n    .action-buttons {\n      flex-direction: column;\n      gap: 0.75rem;\n    }\n\n    .btn-favorite {\n      width: 100%;\n      padding: 1rem;\n    }\n\n    .search-header {\n      flex-direction: column;\n      gap: 0.5rem;\n      text-align: center;\n    }\n\n    .recommendation-list {\n      flex-direction: column;\n    }\n\n    .recommendation-item {\n      min-width: auto;\n    }\n\n    .item-meta {\n      flex-direction: column;\n      gap: 0.5rem;\n      align-items: center;\n    }\n  }\n\n  @media (max-width: 480px) {\n    .tandem-practice {\n      padding: 0.25rem;\n    }\n\n    .question-text {\n      font-size: 1.8rem;\n    }\n\n    .stats-bar {\n      padding: 0.75rem;\n    }\n\n    .practice-card {\n      padding: 1rem;\n    }\n  }\n\n  /* CI mode - disable animations for stable E2E testing */\n  .tandem-practice.ci-mode * {\n    animation: none !important;\n    transition: none !important;\n  }\n\n  .tandem-practice.ci-mode .stat-value:hover {\n    transform: none !important;\n  }\n</style>","<script lang=\"ts\">\n  import { appState } from '$lib/state/app-state';\n\n  let { mode = 'practice', onDirectionChange, onModeChange } = $props<{\n    direction?: never; // Removed legacy direction prop\n    mode?: 'practice' | 'search';\n    onDirectionChange?: (direction: 'DE_BG' | 'BG_DE') => void;\n    onModeChange?: (mode: 'practice' | 'search') => void;\n  }>();\n\n  const ui = $derived(appState.languageMode === 'DE_BG'\n    ? {\n        directionLabel: 'Deutsch ‚Üí Bulgarisch',\n        practice: '√úben',\n        search: 'Suchen'\n      }\n    : {\n        directionLabel: '–ë—ä–ª–≥–∞—Ä—Å–∫–∏ ‚Üí –ù–µ–º—Å–∫–∏',\n        practice: '–£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ',\n        search: '–¢—ä—Ä—Å–µ–Ω–µ'\n      });\n\n  // Toggle functions with animations\n  function toggleDirection() {\n    // Update global state\n    appState.toggleDirection();\n\n    // Call the callback with the new language mode\n    if (onDirectionChange) onDirectionChange(appState.languageMode);\n  }\n\n  function toggleMode() {\n    const newMode = mode === 'practice' ? 'search' : 'practice';\n    if (onModeChange) onModeChange(newMode);\n  }\n  // Accessibility functions\n  function getDirectionAriaLabel() {\n    return appState.languageMode === 'DE_BG'\n      ? 'Aktuelle Richtung: Deutsch zu Bulgarisch. Klicken, um zu Bulgarisch zu Deutsch zu wechseln.'\n      : '–¢–µ–∫—É—â–∞ –ø–æ—Å–æ–∫–∞: –ë—ä–ª–≥–∞—Ä—Å–∫–∏ –∫—ä–º –ù–µ–º—Å–∫–∏. –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ, –∑–∞ –¥–∞ —Å–º–µ–Ω–∏—Ç–µ –Ω–∞ –ù–µ–º—Å–∫–∏ –∫—ä–º –ë—ä–ª–≥–∞—Ä—Å–∫–∏.';\n  }\n\n  function getModeAriaLabel(currentMode: 'practice' | 'search') {\n    if (currentMode === 'practice') {\n      return appState.languageMode === 'DE_BG'\n        ? '√úbungsmodus. Klicken, um zum Suchmodus zu wechseln.'\n        : '–†–µ–∂–∏–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ. –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ, –∑–∞ –¥–∞ —Å–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ç—ä—Ä—Å–µ–Ω–µ.';\n    }\n    return appState.languageMode === 'DE_BG'\n      ? 'Suchmodus. Klicken, um zum √úbungsmodus zu wechseln.'\n      : '–†–µ–∂–∏–º —Ç—ä—Ä—Å–µ–Ω–µ. –ù–∞—Ç–∏—Å–Ω–µ—Ç–µ, –∑–∞ –¥–∞ —Å–º–µ–Ω–∏—Ç–µ –Ω–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ.';\n  }\n</script>\n\n<div class=\"tandem-toggle\" class:ci-mode={typeof process !== 'undefined' && process.env['PLAYWRIGHT_TEST_MODE'] === 'ci'}>\n  <div class=\"toggle-group\">\n    <div class=\"direction-toggle\">\n      <button\n        class=\"toggle-btn\"\n        onclick={toggleDirection}\n        aria-label={getDirectionAriaLabel()}\n        aria-live=\"polite\"\n      >\n        <div class=\"direction-display\">\n          <span class=\"flag\">{appState.languageMode === 'DE_BG' ? 'üá©üá™' : 'üáßüá¨'}</span>\n          <span class=\"arrow\">‚ÜîÔ∏è</span>\n          <span class=\"flag\">{appState.languageMode === 'DE_BG' ? 'üáßüá¨' : 'üá©üá™'}</span>\n        </div>\n        <span class=\"direction-text\">\n          {ui.directionLabel}\n        </span>\n      </button>\n    </div>\n    \n    <div class=\"mode-toggle\">\n      <button\n        class=\"mode-btn\"\n        class:active={mode === 'practice'}\n        onclick={toggleMode}\n        aria-label={getModeAriaLabel('practice')}\n        aria-live=\"polite\"\n      >\n        <span class=\"mode-icon\">üìù</span>\n        <span class=\"mode-text\">{ui.practice}</span>\n      </button>\n      \n      <button\n        class=\"mode-btn\"\n        class:active={mode === 'search'}\n        onclick={toggleMode}\n        aria-label={getModeAriaLabel('search')}\n        aria-live=\"polite\"\n      >\n        <span class=\"mode-icon\">üîç</span>\n        <span class=\"mode-text\">{ui.search}</span>\n      </button>\n    </div>\n  </div>\n</div>\n\n<style>\n  .tandem-toggle {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    align-items: flex-end;\n    position: relative;\n  }\n\n  /* Accessibility focus styles */\n  .toggle-btn:focus, .mode-btn:focus {\n    outline: 2px solid #007bff;\n    outline-offset: 2px;\n  }\n  \n  .toggle-group {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n  \n  .direction-toggle {\n    display: flex;\n    justify-content: flex-end;\n  }\n  \n  .toggle-btn {\n    display: flex;\n    align-items: center;\n    gap: 0.75rem;\n    padding: 0.75rem 1rem;\n    background: white;\n    border: 2px solid #dee2e6;\n    border-radius: 8px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    font-size: 0.9rem;\n  }\n  \n  .toggle-btn:hover {\n    border-color: #007bff;\n    box-shadow: 0 2px 8px rgba(0, 123, 255, 0.15);\n    transform: translateY(-1px);\n  }\n  \n  .toggle-btn:active {\n    transform: translateY(0);\n  }\n  \n  .direction-display {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n  \n  .flag {\n    font-size: 1.2rem;\n  }\n  \n  .arrow {\n    font-size: 1rem;\n    opacity: 0.7;\n  }\n  \n  .direction-text {\n    font-weight: 500;\n    color: #495057;\n  }\n  \n  .mode-toggle {\n    display: flex;\n    background: #f8f9fa;\n    border-radius: 6px;\n    padding: 0.25rem;\n    gap: 0.25rem;\n  }\n  \n  .mode-btn {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.5rem 0.75rem;\n    background: transparent;\n    border: none;\n    border-radius: 4px;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    font-size: 0.85rem;\n    color: #6c757d;\n  }\n  \n  .mode-btn:hover {\n    background: rgba(0, 123, 255, 0.1);\n    color: #007bff;\n  }\n  \n  .mode-btn.active {\n    background: white;\n    color: #007bff;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  }\n  \n  .mode-icon {\n    font-size: 1rem;\n  }\n  \n  .mode-text {\n    font-weight: 500;\n  }\n  \n  @media (max-width: 768px) {\n    .tandem-toggle {\n      align-items: center;\n    }\n    \n    .toggle-group {\n      align-items: center;\n    }\n    \n    .direction-toggle {\n      justify-content: center;\n    }\n    \n    .toggle-btn {\n      font-size: 0.8rem;\n      padding: 0.6rem 0.8rem;\n    }\n    \n    .direction-text {\n      display: none;\n    }\n    \n    .mode-btn {\n      font-size: 0.75rem;\n      padding: 0.4rem 0.6rem;\n    }\n    \n    .mode-text {\n      display: none;\n    }\n    \n  }\n\n  /* CI mode - disable animations for stable E2E testing */\n  .tandem-toggle.ci-mode * {\n    animation: none !important;\n    transition: none !important;\n  }\n\n  .tandem-toggle.ci-mode .direction-toggle,\n  .tandem-toggle.ci-mode .mode-toggle {\n    animation: none !important;\n  }\n\n  .tandem-toggle.ci-mode .toggle-btn:hover,\n  .tandem-toggle.ci-mode .mode-btn:hover {\n    transform: none !important;\n    box-shadow: none !important;\n  }\n</style>","<script lang=\"ts\">\n  import TandemPractice from '$lib/components/TandemPractice.svelte';\n  import { appState } from '$lib/state/app-state';\n\n  const ui = $derived(appState.languageMode === 'DE_BG'\n    ? { title: '√úben' }\n    : { title: '–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è' });\n</script>\n\n<h1>{ui.title}</h1>\n\n<TandemPractice />"],"names":["cubicOut","t","f","flip","node","from","to","params","delay","duration","d","Math","sqrt","easing","style","getComputedStyle","transform","ox","oy","transformOrigin","split","map","parseFloat","clientWidth","clientHeight","zoom","element","current","parentElement","get_zoom","sx","width","sy","height","fx","left","fy","top","tx","ty","dx","dy","dsx","dsy","css","u","items","$.prop","$$props","direction","onSelectItem","onToggleSelectItem","selectedItems","Set","showQuickPractice","selectedItemForDetail","$.state","showDetailModal","closeDetailModal","$.set","ui","$.derived","appState","languageMode","emptyTitle","emptyHint","found","n","showing","showingReverse","div","root","div_1","root_1","h3","p","$.set_text","text","$.get","text_1","div_2","$.first_child","fragment","h3_1","div_3","div_4","item","id","$$anchor","div_5","root_3","$0","$1","has","VocabularyCard","node_1","onPractice","event","stopPropagation","handlePracticeClick","MouseEvent","onQuickPractice","startPracticeSession","handleQuickPractice","onOpenDetail","openDetailModal","length","consequent","$$render","alternate","open","isNoun","partOfSpeech","isVerb","isAdjective","article","grammar","gender","cases","verbForms","key","label","adjDeclension","case","m","close","externalLinks","examples","literalTranslation","declension","conjugation","pluralForm","culturalNotes","etymology","synonyms","antonyms","__click","$$args","__keydown","preventDefault","$.child","h2","span","root_2","button","section","EnrichmentBadge","enrichment","sourceURL","consequent_1","DefinitionLink","definitions","Array","isArray","consequent_2","$.template_effect","text_3","consequent_3","section_1","fragment_3","div_6","div_7","span_1","span_2","div_8","root_7","span_3","span_4","text_7","text_8","consequent_4","section_2","h3_2","div_9","table","thead","tr","th","root_8","consequent_5","tbody","$.index","caseLabel","tr_1","root_9","td","td_1","td_2","root_10","text_12","consequent_6","text_11","german","text_4","text_5","text_9","consequent_7","section_3","root_11","h3_3","div_10","table_1","tbody_1","form","tr_2","root_12","td_3","td_4","td_5","text_14","text_15","bulgarian","text_13","consequent_8","section_4","root_13","h3_4","div_11","table_2","tbody_2","row","tr_3","root_14","td_6","td_7","td_8","td_9","text_18","text_17","consequent_9","section_5","root_15","h3_5","div_12","example","div_13","root_16","p_1","p_2","p_3","root_17","text_25","context","consequent_10","div_14","$.sibling","node_12","span_5","span_6","text_23","text_24","text_26","text_27","text_22","consequent_11","section_6","root_18","h3_6","div_15","note","p_4","root_19","text_28","consequent_12","section_7","root_20","h3_7","p_5","text_30","consequent_13","section_8","root_21","div_16","div_17","root_22","h4","div_18","syn","span_7","root_23","text_32","consequent_14","div_19","root_24","h4_1","div_20","ant","span_8","root_25","text_34","consequent_15","consequent_16","$.reset","$.append","consequent_17","WordDetailModal","isMounted","currentItem","userAnswer","isAnswered","isCorrect","showExamples","searchQuery","searchResults","$.proxy","isLoading","error","hasError","errorMessage","handleError","console","sourceLanguageName","targetLanguageName","mode","stats","correct","total","streak","lastResponseTime","averageResponseTime","startTime","feedbackAnimation","fly","y","opacity","statAnimation","scale","start","cardSlideAnimation","slide","axis","shakeAnimation","tick","shake","sin","async","loadNewItem","Promise","resolve","setTimeout","vocabularyDb","initialize","getRandomVocabulary","resetAnswer","err","Error","message","performance","now","checkAnswer","trim","correctAnswer","toLowerCase","responseTime","round","recordPracticeResult","nextItem","toggleExamples","toggleFavorite","practiceThisItem","mapNumericDifficultyToCEFR","handleDirectionChange","newLanguageMode","toggleDirection","handleModeChange","newMode","handleSelectItem","getQuestionText","formatGermanTerm","categoryLabels","de","greetings","numbers","family","food","colors","animals","clothing","home","nature","transport","technology","time","weather","professions","places","culture","bg","getCategoryLabel","category","$.user_effect","process","define_process_env_default","ActionButton","node_2","window","location","reload","text_2","node_3","onclick","fragment_2","directionLabel","practice","search","toggleMode","getModeAriaLabel","currentMode","onDirectionChange","button_1","button_2","$.set_attribute","classes","active","classes_1","$2","TandemToggle","root_5","min","node_9","text_16","node_10","span_9","difficulty","getDifficultyColor","input","$.remove_input_defaults","e","node_14","$$value","fade","fragment_9","div_21","div_22","span_10","div_23","node_17","node_18","classes_2","$.set_class","favorited","isFavorite","$.transition","div_24","div_25","p_6","text_33","div_26","div_27","practiceRecommendations","slice","div_28","span_11","span_12","categories","$3","alternate_1","alternate_2","div_29","div_30","div_31","div_32","input_1","__input","query","results","searchVocabulary","handleSearch","currentTarget","value","div_33","SearchList","node_21","text_39","alternate_3","text_6","getStreakEmoji","alternate_4","title","h1","TandemPractice"],"mappings":"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","x_google_ignoreList":[0,1]}