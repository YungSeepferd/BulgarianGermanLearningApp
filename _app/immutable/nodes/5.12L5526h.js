import{f as e,a as s,s as t,c as a}from"../chunks/Df5ltUoG.js";import{o as r}from"../chunks/BVLhrf_7.js";import{W as n,_ as i,X as o,Z as c,$ as l,a1 as d,a0 as v,v as m,a4 as h,a3 as u,Y as p,a5 as g,a2 as f,a6 as b}from"../chunks/BkkwGZv8.js";import{i as k}from"../chunks/BCvKA9Gv.js";import{e as w}from"../chunks/CAxr9ube.js";import{h as y}from"../chunks/CNC06Wtx.js";import{g as A}from"../chunks/D78Z3jYi.js";import{b as j}from"../chunks/vbiTRqIA.js";import{v as L,a as B}from"../chunks/BW70-eHg.js";import{V as z}from"../chunks/wyQbE4wc.js";import{A as T}from"../chunks/C6GF6BQM.js";import{P as W}from"../chunks/CZiHFWyv.js";import{g as P,a as S}from"../chunks/DbbWWgvA.js";var $=e('<div class="loading svelte-8s3559"><p> </p></div>'),M=e('<div class="card-wrapper svelte-8s3559"><!></div>'),V=e('<section class="recent-section svelte-8s3559"><h2 class="svelte-8s3559"> </h2> <div class="word-grid svelte-8s3559"></div></section>'),R=e('<div class="card-wrapper svelte-8s3559"><!></div>'),E=e('<section class="recommended-section svelte-8s3559"><h2 class="svelte-8s3559"> </h2> <div class="word-grid svelte-8s3559"></div></section>'),q=e('<section class="no-recommended svelte-8s3559"><p> </p></section>'),C=e('<div class="loading svelte-8s3559"><p> </p></div>'),D=e('<div class="loading error svelte-8s3559"> </div>'),F=e('<section class="quick-actions svelte-8s3559"><!> <!></section> <!> <!> <section class="paths-section svelte-8s3559"><h2 class="svelte-8s3559"> </h2> <!></section>',1),O=e('<div class="learn-hub svelte-8s3559"><header class="learn-header svelte-8s3559"><h1 class="svelte-8s3559"> </h1> <p class="subtitle svelte-8s3559"> </p></header> <!></div>');function Z(e,Z){n(Z,!0);let x=i(!0),K=i(o([])),_=i(o([])),G=i(o([])),I=i(o(new Map)),Q=i(!0),X=i(null);const Y=u(()=>"DE_BG"===B.languageMode?{title:"Lernen",subtitle:"WÃ¤hle WÃ¶rter zum Lernen oder starte eine zufÃ¤llige Ãœbungssitzung",recentTitle:"Zuletzt angesehen",recommendedTitle:"Empfohlen fÃ¼r dich",pathsTitle:"Lernpfade",quickPractice:"ðŸŽ² Schnell Ã¼ben",browseVocab:"ðŸ“š Vokabular durchsuchen",noRecent:"Keine kÃ¼rzlich angesehenen WÃ¶rter",noRecommended:"Alle WÃ¶rter sind gemeistert! ðŸŽ‰",essentialA1:"Essenzielle A1 WÃ¶rter",essentialA2:"Essenzielle A2 WÃ¶rter",intermediateB1:"Zwischenstufe B1",advancedB2:"Fortgeschritten B2",words:"WÃ¶rter",complete:"Fertig",inProgress:"In Bearbeitung"}:{title:"Ð£Ñ‡ÐµÐ½Ðµ",subtitle:"Ð˜Ð·Ð±ÐµÑ€ÐµÑ‚Ðµ Ð´ÑƒÐ¼Ð¸ Ð·Ð° ÑƒÑ‡ÐµÐ½Ðµ Ð¸Ð»Ð¸ Ð·Ð°Ð¿Ð¾Ñ‡Ð½ÐµÑ‚Ðµ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ð° Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°",recentTitle:"ÐžÑ‚ÑÐºÐ¾Ñ€Ð¾ Ñ€Ð°Ð·Ð³Ð»ÐµÐ¶Ð´Ð°Ð½Ð¾",recommendedTitle:"ÐŸÑ€ÐµÐ¿Ð¾Ñ€ÑŠÑ‡Ð°Ð½Ð¾ Ð·Ð° Ñ‚ÐµÐ±",pathsTitle:"ÐŸÑŠÑ‚ÐµÐºÐ¸ Ð·Ð° ÑƒÑ‡ÐµÐ½Ðµ",quickPractice:"ðŸŽ² Ð‘ÑŠÑ€Ð·Ð° Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°",browseVocab:"ðŸ“š ÐŸÑ€ÐµÐ³Ð»ÐµÐ´ Ð½Ð° Ñ€ÐµÑ‡Ð½Ð¸ÐºÐ°",noRecent:"ÐÑÐ¼Ð°Ñ‚Ðµ Ð¾Ñ‚ÑÐºÐ¾Ñ€Ð¾ Ñ€Ð°Ð·Ð³Ð»ÐµÐ¶Ð´Ð°Ð½Ð¸ Ð´ÑƒÐ¼Ð¸",noRecommended:"Ð’ÑÐ¸Ñ‡ÐºÐ¸ Ð´ÑƒÐ¼Ð¸ ÑÐ° ÑƒÑÐ²Ð¾ÐµÐ½Ð¸! ðŸŽ‰",essentialA1:"ÐžÑÐ½Ð¾Ð²Ð½Ð¸ Ð´ÑƒÐ¼Ð¸ A1",essentialA2:"ÐžÑÐ½Ð¾Ð²Ð½Ð¸ Ð´ÑƒÐ¼Ð¸ A2",intermediateB1:"ÐœÐµÐ¶Ð´Ð¸Ð½Ð½Ð° ÑÑ‚ÐµÐ¿ÐµÐ½ B1",advancedB2:"ÐÐ°Ð¿Ñ€ÐµÐ´Ð½Ð° ÑÑ‚ÐµÐ¿ÐµÐ½ B2",words:"Ð´ÑƒÐ¼Ð¸",complete:"Ð—Ð°Ð²ÑŠÑ€ÑˆÐµÐ½Ð¾",inProgress:"Ð’ Ñ…Ð¾Ð´"});function H(e){A(`${j}/learn/${e.id}`)}function J(){const e=L.getVocabulary();if(!e||0===e.length)return;const s=e[Math.floor(Math.random()*e.length)];s&&A(`${j}/vocabulary/${s.id}`)}function N(){A(`${j}/vocabulary`)}function U(e){A(`${j}/learn/paths/${e}`)}r(async()=>{try{v(x,!0),await L.initialize();const s=L.getVocabulary(),t=B.practiceStats?.keys()?Array.from(B.practiceStats.keys()).slice(0,6):[];if(v(K,t.map(e=>s.find(s=>s.id===e)).filter(Boolean),!0),0===m(K).length){const e=B.recentSearches?.slice(0,3)||[];v(K,e.map(e=>s.find(s=>s.german?.toLowerCase().includes(e.toLowerCase())||s.bulgarian?.toLowerCase().includes(e.toLowerCase()))).filter(Boolean),!0)}const a=new Set(Array.from(B.practiceStats?.entries()||[]).filter(([,e])=>e&&e.correct>=3).map(([e])=>e));v(_,s.filter(e=>("A1"===e.cefrLevel||"A2"===e.cefrLevel)&&!a.has(e.id)).sort(()=>Math.random()-.5).slice(0,6),!0);try{const e=await P(),s=new Map;for(const t of e){const e=await S(t.id);s.set(t.id,e)}v(G,e,!0),v(I,s,!0)}catch(e){v(X,e.message??"Failed to load learning paths",!0)}finally{v(Q,!1)}}catch(s){console.error("Error in Learn page onMount:",s)}finally{v(x,!1)}});var ee=O();y("8s3559",e=>{d(()=>{h.title=m(Y).title??""})});var se=p(ee),te=p(se),ae=p(te,!0);g(te);var re=f(te,2),ne=p(re,!0);g(re),g(se);var ie=f(se,2),oe=e=>{var a=$(),r=p(a),n=p(r,!0);g(r),g(a),c(()=>t(n,"Lernen"===m(Y).title?"WÃ¶rter werden geladen...":"Ð”ÑƒÐ¼Ð¸Ñ‚Ðµ ÑÐµ Ð·Ð°Ñ€ÐµÐ¶Ð´Ð°Ñ‚...")),s(e,a)},ce=e=>{var r=F(),n=b(r),i=p(n);T(i,{get label(){return m(Y).quickPractice},icon:"ðŸŽ²",onclick:J,variant:"primary"});var o=f(i,2);T(o,{get label(){return m(Y).browseVocab},icon:"ðŸ“š",onclick:N,variant:"secondary"}),g(n);var l=f(n,2),d=e=>{var a=V(),r=p(a),n=p(r,!0);g(r);var i=f(r,2);w(i,21,()=>m(K),e=>e.id,(e,t)=>{var a=M(),r=p(a);z(r,{get item(){return m(t)},variant:"grid",onOpenDetail:()=>H(m(t))}),g(a),s(e,a)}),g(i),g(a),c(()=>t(n,m(Y).recentTitle)),s(e,a)};k(l,e=>{m(K).length>0&&e(d)});var v=f(l,2),h=e=>{var a=E(),r=p(a),n=p(r,!0);g(r);var i=f(r,2);w(i,21,()=>m(_),e=>e.id,(e,t)=>{var a=R(),r=p(a);z(r,{get item(){return m(t)},variant:"grid",onOpenDetail:()=>H(m(t))}),g(a),s(e,a)}),g(i),g(a),c(()=>t(n,m(Y).recommendedTitle)),s(e,a)},u=e=>{var a=q(),r=p(a),n=p(r,!0);g(r),g(a),c(()=>t(n,m(Y).noRecommended)),s(e,a)};k(v,e=>{m(_).length>0?e(h):e(u,!1)});var y=f(v,2),A=p(y),j=p(A,!0);g(A);var L=f(A,2),B=e=>{var a=C(),r=p(a),n=p(r,!0);g(r),g(a),c(()=>t(n,"Lernen"===m(Y).title?"Lernpfade werden geladenâ€¦":"ÐŸÑŠÑ‚ÐµÐºÐ¸Ñ‚Ðµ ÑÐµ Ð·Ð°Ñ€ÐµÐ¶Ð´Ð°Ñ‚â€¦")),s(e,a)},P=e=>{var r=a(),n=b(r),i=e=>{var a=D(),r=p(a,!0);g(a),c(()=>t(r,m(X))),s(e,a)},o=e=>{W(e,{get paths(){return m(G)},get pathProgress(){return m(I)},onPathSelect:U})};k(n,e=>{m(X)?e(i):e(o,!1)},!0),s(e,r)};k(L,e=>{m(Q)?e(B):e(P,!1)}),g(y),c(()=>t(j,m(Y).pathsTitle)),s(e,r)};k(ie,e=>{m(x)?e(oe):e(ce,!1)}),g(ee),c(()=>{t(ae,m(Y).title),t(ne,m(Y).subtitle)}),s(e,ee),l()}export{Z as component};
//# sourceMappingURL=5.12L5526h.js.map
