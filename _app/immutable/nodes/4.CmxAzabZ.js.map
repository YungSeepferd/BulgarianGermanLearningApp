{"version":3,"file":"4.CmxAzabZ.js","sources":["../../../../../../src/lib/components/Flashcard.svelte","../../../../../../src/routes/learn/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n  import { appState } from '$lib/state/app-state';\n\n  let { vocabularyItem } = $props<{ vocabularyItem: VocabularyItem }>();\n\n  // State for card flip\n  let flipped = $state(false);\n\n  const ui = $derived(appState.languageMode === 'DE_BG'\n    ? {\n        flipHint: 'Zum Umdrehen tippen',\n        showFront: 'Vorderseite anzeigen',\n        showBack: 'R√ºckseite anzeigen',\n        breakdown: 'Wortaufbau',\n        composition: 'Zusammensetzung',\n        context: 'Kontext',\n        examples: 'Beispiele',\n        cultural: 'Kulturelle oder sprachliche Notiz',\n        mnemonic: 'Merksatz',\n        usage: 'Nuance / Verwendung'\n      }\n    : {\n        flipHint: '–ù–∞—Ç–∏—Å–Ω–∏, –∑–∞ –¥–∞ –æ–±—ä—Ä–Ω–µ—à',\n        showFront: '–ü–æ–∫–∞–∂–∏ –ª–∏—Ü–µ—Ç–æ',\n        showBack: '–ü–æ–∫–∞–∂–∏ –≥—ä—Ä–±–∞',\n        breakdown: '–°—Ç—Ä–æ–µ–∂ –Ω–∞ –¥—É–º–∞—Ç–∞',\n        composition: '–°—ä—Å—Ç–∞–≤',\n        context: '–ö–æ–Ω—Ç–µ–∫—Å—Ç',\n        examples: '–ü—Ä–∏–º–µ—Ä–∏',\n        cultural: '–ö—É–ª—Ç—É—Ä–Ω–∞ –∏–ª–∏ –µ–∑–∏–∫–æ–≤–∞ –±–µ–ª–µ–∂–∫–∞',\n        mnemonic: '–ó–∞–ø–æ–º–Ω—è—â–∞ —Ñ—Ä–∞–∑–∞',\n        usage: '–ù—é–∞–Ω—Å / –£–ø–æ—Ç—Ä–µ–±–∞'\n      });\n\n  const isBulgarianFront = $derived(appState.languageMode === 'DE_BG');\n\n\n\n  import { formatGermanTerm as formatGermanUtil } from '$lib/utils/formatGerman';\n  function formatGermanTerm(item: VocabularyItem): string {\n    return formatGermanUtil(item);\n  }\n\n  const formattedGerman = $derived(formatGermanTerm(vocabularyItem));\n\n  const frontTerm = $derived(isBulgarianFront ? vocabularyItem.bulgarian : formattedGerman);\n  const backTerm = $derived(isBulgarianFront ? formattedGerman : vocabularyItem.bulgarian);\n\n  function normalizeBreakdown(item: VocabularyItem) {\n    const fromLiteral = item.literalBreakdown?.map((piece) => ({\n      part: piece.segment,\n      meaning: piece.literal,\n      note: piece.note || piece.grammarTag\n    })) ?? [];\n\n    const fromMetadata = item.metadata?.components?.map((piece) => ({\n      part: piece.part,\n      meaning: piece.meaning,\n      note: piece.note\n    })) ?? [];\n\n    return [...fromLiteral, ...fromMetadata];\n  }\n\n  const breakdown = $derived(normalizeBreakdown(vocabularyItem));\n  const examples = $derived(\n    vocabularyItem.metadata?.examples\n      ?? vocabularyItem.examples?.map((ex: any) => ({\n        german: ex.sentence || ex.translation || '',\n        bulgarian: ex.translation || ex.sentence || '',\n        context: ex.context\n      }))\n      ?? []\n  );\n\n  const culturalNote = $derived(vocabularyItem.metadata?.culturalNote || vocabularyItem.metadata?.notes);\n  const mnemonic = $derived(vocabularyItem.metadata?.mnemonic || vocabularyItem.mnemonics);\n  const nuance = $derived(vocabularyItem.contextualNuance || vocabularyItem.metadata?.notes);\n  const emoji = $derived(vocabularyItem.media?.emoji || vocabularyItem.emoji || 'üìù');\n  const compositionSummary = $derived(\n    breakdown.length > 1\n      ? `${breakdown.map((b) => b.part).join(' + ')} ‚Üí ${frontTerm}`\n      : null\n  );\n\n  // Toggle flip state\n  function toggleFlip() {\n    flipped = !flipped;\n  }\n</script>\n\n<div class=\"flashcard-container\">\n  <button\n    class=\"flashcard {flipped ? 'flipped' : ''}\"\n    onclick={toggleFlip}\n    aria-label={flipped ? ui.showFront : ui.showBack}\n    onkeydown={(e) => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        e.preventDefault();\n        toggleFlip();\n      }\n    }}\n  >\n    <!-- Front of the card -->\n    <div class=\"flashcard-front\">\n      <div class=\"front-content\">\n        <div class=\"emoji-container\">\n          <span class=\"emoji\">{emoji}</span>\n        </div>\n        <p class=\"part-of-speech\">{vocabularyItem.partOfSpeech}</p>\n        <h2 class=\"front-term\">{frontTerm}</h2>\n        {#if vocabularyItem.pronunciation?.bulgarian && isBulgarianFront}\n          <p class=\"pronunciation\">{vocabularyItem.pronunciation.bulgarian}</p>\n        {:else if vocabularyItem.pronunciation?.german && !isBulgarianFront}\n          <p class=\"pronunciation\">{vocabularyItem.pronunciation.german}</p>\n        {/if}\n        <div class=\"flip-hint\">{ui.flipHint}</div>\n      </div>\n    </div>\n\n    <!-- Back of the card -->\n    <div class=\"flashcard-back\">\n      <div class=\"back-content\">\n        <div class=\"translation-block\">\n          <p class=\"translation-label\">{isBulgarianFront ? 'Deutsch' : '–ë—ä–ª–≥–∞—Ä—Å–∫–∏'}</p>\n          <h2 class=\"translation-text\">{backTerm}</h2>\n        </div>\n\n        {#if nuance}\n          <div class=\"nuance-box\">\n            <span class=\"icon\">üí°</span>\n            <div>\n              <p class=\"section-title\">{ui.usage}</p>\n              <p class=\"section-body\">{nuance}</p>\n            </div>\n          </div>\n        {/if}\n\n        {#if breakdown.length > 0}\n          <div class=\"phrase-breakdown\">\n            <h3 class=\"breakdown-title\">{ui.breakdown}</h3>\n            <div class=\"breakdown-container\">\n              {#each breakdown as item, index}\n                <div class=\"breakdown-item\">\n                  <div class=\"breakdown-part\">\n                    <span>{item.part}</span>\n                    {#if index < breakdown.length - 1}\n                      <span class=\"connector\">+</span>\n                    {/if}\n                  </div>\n                  <div class=\"breakdown-meaning\">{item.meaning}</div>\n                  {#if item.note}\n                    <div class=\"breakdown-note\">{item.note}</div>\n                  {/if}\n                </div>\n              {/each}\n            </div>\n          </div>\n        {/if}\n\n        {#if compositionSummary}\n          <div class=\"composition-summary\">\n            <p class=\"section-title\">{ui.composition}</p>\n            <p class=\"section-body\">{compositionSummary}</p>\n          </div>\n        {/if}\n\n        {#if examples.length > 0}\n          <div class=\"examples\">\n            <p class=\"section-title\">{ui.examples}</p>\n            <ul>\n              {#each examples as example}\n                <li>\n                  <div class=\"example-line\">{example.german}</div>\n                  <div class=\"example-translation\">{example.bulgarian}</div>\n                  {#if example.context}\n                    <div class=\"example-context\">{example.context}</div>\n                  {/if}\n                </li>\n              {/each}\n            </ul>\n          </div>\n        {/if}\n\n        {#if culturalNote}\n          <div class=\"note-block\">\n            <p class=\"section-title\">{ui.cultural}</p>\n            <p class=\"section-body\">{culturalNote}</p>\n          </div>\n        {/if}\n\n        {#if mnemonic}\n          <div class=\"note-block\">\n            <p class=\"section-title\">{ui.mnemonic}</p>\n            <p class=\"section-body\">{mnemonic}</p>\n          </div>\n        {/if}\n\n          {#if vocabularyItem.metadata?.declension}\n            <div class=\"declension-block\">\n              <p class=\"section-title\">{appState.languageMode === 'DE_BG' ? 'Deklination' : '–°–∫–ª–æ–Ω–µ–Ω–∏–µ'}</p>\n              <table class=\"declension-table\">\n                <tbody>\n                  {#each Object.entries(vocabularyItem.metadata.declension) as [caseName, forms]}\n                    <tr>\n                      <th class=\"declension-case\">{caseName}</th>\n                      <td class=\"declension-form\">{(forms as any).singular ?? ''}</td>\n                      <td class=\"declension-form\">{(forms as any).plural ?? ''}</td>\n                    </tr>\n                  {/each}\n                </tbody>\n              </table>\n            </div>\n          {/if}\n\n          {#if vocabularyItem.metadata?.links && vocabularyItem.metadata.links.length > 0}\n            <div class=\"external-links\">\n              <p class=\"section-title\">{appState.languageMode === 'DE_BG' ? 'W√∂rterbuch' : '–†–µ—á–Ω–∏—Ü–∏'}</p>\n              <div class=\"links-list\">\n                {#each vocabularyItem.metadata.links as link}\n                  <a href={link.url} target=\"_blank\" rel=\"noopener noreferrer\" class=\"ext-link\">{link.label || 'Link'}</a>\n                {/each}\n              </div>\n            </div>\n          {/if}\n      </div>\n    </div>\n  </button>\n</div>\n\n<style>\n  .flashcard-container {\n    perspective: 1000px;\n    width: 100%;\n    max-width: 420px;\n    height: 520px;\n    margin: 0 auto;\n    pointer-events: auto;\n  }\n\n  .flashcard {\n    width: 100%;\n    height: 100%;\n    position: relative;\n    transform-style: preserve-3d;\n    transition: transform 0.6s;\n    cursor: pointer;\n    border-radius: 16px;\n    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);\n    background: transparent;\n    border: none;\n  }\n\n  .declension-block { margin-top: 0.75rem; }\n  .declension-table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }\n  .declension-case { text-align: left; padding: 0.25rem 0.5rem; color: #555; }\n  .declension-form { padding: 0.25rem 0.5rem; }\n  .external-links { margin-top: 0.75rem; }\n  .links-list { display: flex; gap: 0.5rem; flex-wrap: wrap; }\n  .ext-link { color: #0a58ca; text-decoration: underline; }\n\n  .flashcard.flipped {\n    transform: rotateY(180deg);\n  }\n\n  .flashcard-front,\n  .flashcard-back {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    backface-visibility: hidden;\n    border-radius: 16px;\n    padding: 24px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background: white;\n    border: 1px solid #e2e8f0;\n  }\n\n  .flashcard-back {\n    transform: rotateY(180deg);\n    overflow-y: auto;\n  }\n\n  .front-content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 0.5rem;\n    width: 100%;\n    height: 100%;\n  }\n\n  .emoji-container {\n    font-size: 4rem;\n    margin-bottom: 1rem;\n  }\n\n  .part-of-speech {\n    font-size: 0.9rem;\n    color: #64748b;\n    margin: 0;\n    text-transform: capitalize;\n  }\n\n  .front-term {\n    font-size: 2.6rem;\n    font-weight: 800;\n    text-align: center;\n    color: #0f172a;\n    margin: 0.5rem 0;\n  }\n\n  .pronunciation {\n    font-family: monospace;\n    color: #475569;\n    margin: 0;\n  }\n\n  .flip-hint {\n    font-size: 0.95rem;\n    color: #94a3b8;\n    margin-top: auto;\n  }\n\n  .back-content {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    width: 100%;\n    color: #0f172a;\n  }\n\n  .translation-block {\n    text-align: center;\n  }\n\n  .translation-label {\n    margin: 0;\n    font-size: 0.9rem;\n    color: #94a3b8;\n    text-transform: uppercase;\n    letter-spacing: 0.08em;\n  }\n\n  .translation-text {\n    margin: 0.35rem 0 0 0;\n    font-size: 1.8rem;\n    font-weight: 800;\n  }\n\n  .nuance-box,\n  .note-block,\n  .composition-summary,\n  .examples,\n  .phrase-breakdown {\n    background: #f8fafc;\n    border: 1px solid #e2e8f0;\n    border-radius: 12px;\n    padding: 1rem;\n  }\n\n  .nuance-box {\n    display: flex;\n    gap: 0.75rem;\n  }\n\n  .icon {\n    font-size: 1.25rem;\n  }\n\n  .section-title {\n    margin: 0;\n    font-size: 0.95rem;\n    font-weight: 700;\n    color: #0f172a;\n  }\n\n  .section-body {\n    margin: 0.35rem 0 0 0;\n    font-size: 0.95rem;\n    color: #334155;\n    line-height: 1.45;\n  }\n\n  .phrase-breakdown {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n\n  .breakdown-title {\n    margin: 0;\n    font-size: 1rem;\n    font-weight: 700;\n    color: #0f172a;\n    text-align: center;\n  }\n\n  .breakdown-container {\n    display: flex;\n    flex-direction: column;\n    gap: 0.75rem;\n  }\n\n  .breakdown-item {\n    display: grid;\n    grid-template-columns: 1fr;\n    gap: 0.25rem;\n    text-align: center;\n  }\n\n  .breakdown-part {\n    font-size: 1.1rem;\n    font-weight: 600;\n    display: flex;\n    justify-content: center;\n    gap: 0.35rem;\n    color: #0f172a;\n  }\n\n  .breakdown-meaning {\n    font-size: 0.95rem;\n    color: #475569;\n  }\n\n  .breakdown-note {\n    font-size: 0.85rem;\n    color: #94a3b8;\n  }\n\n  .connector {\n    color: #cbd5e1;\n  }\n\n  .composition-summary {\n    font-size: 0.95rem;\n    color: #334155;\n  }\n\n  .examples ul {\n    margin: 0.5rem 0 0 0;\n    padding-left: 1.1rem;\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  .examples li {\n    list-style: disc;\n    color: #334155;\n  }\n\n  .example-line {\n    font-weight: 600;\n  }\n\n  .example-translation {\n    font-size: 0.95rem;\n    color: #475569;\n  }\n\n  .example-context {\n    font-size: 0.85rem;\n    color: #94a3b8;\n  }\n\n  @media (max-width: 640px) {\n    .front-term {\n      font-size: 2.2rem;\n    }\n\n    .translation-text {\n      font-size: 1.4rem;\n    }\n\n    .flashcard-container {\n      height: 480px;\n    }\n  }\n</style>","<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import { vocabularyDb } from '$lib/data/db.svelte';\n  import { appState } from '$lib/state/app-state';\n  import Flashcard from '$lib/components/Flashcard.svelte';\n  import { Debug } from '$lib/utils';\n  import type { VocabularyItem } from '$lib/types/vocabulary';\n\n  // State for the learning session\n  let currentCardIndex = $state(0);\n  let sessionActive = $state(false);\n  let sessionComplete = $state(false);\n  let sessionCards = $state<VocabularyItem[]>([]);\n  let isAnimating = $state(false);\n  let animationType = $state<'easy' | 'hard' | null>(null);\n  let loadError = $state<string | null>(null);\n\n  function capitalizeNoun(term: string): string {\n    if (!term) return term;\n    return term.charAt(0).toUpperCase() + term.slice(1);\n  }\n\n  function chooseArticle(gender?: string, fallback?: string): string | null {\n    if (fallback) return fallback;\n    if (!gender) return null;\n    const map: Record<string, string> = { masculine: 'der', feminine: 'die', neuter: 'das' };\n    return map[gender] || null;\n  }\n\n  function formatGermanTerm(item: VocabularyItem): string {\n    const raw = (item.german || '').trim();\n    if (!raw) return raw;\n    const hasArticlePrefix = /^(der|die|das|ein|eine|einen|einem|einer|eines)\\s/i.test(raw);\n    if (hasArticlePrefix) {\n      const [articlePart, ...rest] = raw.split(/\\s+/);\n      const nounPart = rest.join(' ');\n      const normalizedNoun = item.partOfSpeech === 'noun' ? capitalizeNoun(nounPart) : nounPart;\n      return [articlePart, normalizedNoun].filter(Boolean).join(' ').trim();\n    }\n    const base = item.partOfSpeech === 'noun' ? capitalizeNoun(raw) : raw;\n    const article = chooseArticle(item.metadata?.gender, item.metadata?.article) || (item.partOfSpeech === 'noun' ? 'der' : null);\n    return article ? `${article} ${base}` : base;\n  }\n\n  const ui = $derived(appState.languageMode === 'DE_BG'\n    ? {\n        heading: 'Lernkarten',\n        hard: 'üî¥ Schwer',\n        easy: 'üü¢ Leicht',\n        completedTitle: 'üéâ Gro√üartige Arbeit!',\n        completedBody: 'Du hast diese Lerneinheit beendet.',\n        startNew: 'Neue Einheit starten',\n        loading: 'Vokabular wird geladen...',\n        retry: 'Erneut versuchen',\n        mastered: 'Keine W√∂rter zu √ºben. Alles gemeistert!'\n      }\n    : {\n        heading: '–ö–∞—Ä—Ç–∏ –∑–∞ —É—á–µ–Ω–µ',\n        hard: 'üî¥ –¢—Ä—É–¥–Ω–æ',\n        easy: 'üü¢ –õ–µ—Å–Ω–æ',\n        completedTitle: 'üéâ –°—Ç—Ä–∞—Ö–æ—Ç–Ω–∞ —Ä–∞–±–æ—Ç–∞!',\n        completedBody: '–ó–∞–≤—ä—Ä—à–∏ —Ç–∞–∑–∏ —Å–µ—Å–∏—è –∑–∞ —É—á–µ–Ω–µ.',\n        startNew: '–ó–∞–ø–æ—á–Ω–∏ –Ω–æ–≤–∞ —Å–µ—Å–∏—è',\n        loading: '–ó–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ —Ä–µ—á–Ω–∏–∫–∞...',\n        retry: '–û–ø–∏—Ç–∞–π –æ—Ç–Ω–æ–≤–æ',\n        mastered: '–ù—è–º–∞ –¥—É–º–∏ –∑–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ. –í—Å–∏—á–∫–æ –µ —É—Å–≤–æ–µ–Ω–æ!'\n      });\n\n  // Load vocabulary data and filter for unmastered words\n  async function startSession() {\n    try {\n      loadError = null;\n      Debug.log('LearnPage', 'Starting learning session');\n\n      // Initialize vocabulary database if not already loaded\n      await vocabularyDb.initialize();\n\n      // Get all vocabulary items\n      const allVocabulary = vocabularyDb.getVocabulary().map((item) => ({\n        ...item,\n        german: formatGermanTerm(item)\n      }));\n\n      if (allVocabulary.length === 0) {\n        loadError = 'No vocabulary loaded. Please check the data files and try again.';\n        sessionActive = false;\n        sessionComplete = false;\n        sessionCards = [];\n        return;\n      }\n\n      // Shuffle vocabulary for the session\n      Debug.log('LearnPage', 'Vocabulary loaded', {\n        totalWords: allVocabulary.length\n      });\n\n      // Use all vocabulary shuffled\n      sessionCards = [...allVocabulary].sort(() => 0.5 - Math.random());\n      Debug.log('LearnPage', 'Session cards prepared', {\n        cardCount: sessionCards.length\n      });\n\n      // Reset session state\n      currentCardIndex = 0;\n      sessionActive = true;\n      sessionComplete = false;\n      isAnimating = false;\n      animationType = null;\n\n      Debug.log('LearnPage', 'Session started', {\n        cardCount: sessionCards.length,\n        firstCard: sessionCards[0]?.id\n      });\n\n    } catch (error) {\n      Debug.error('LearnPage', 'Failed to start session', error as Error);\n      loadError = 'Failed to start session. Please retry.';\n      sessionActive = false;\n      sessionCards = [];\n    }\n  }\n\n  // Handle card completion (Easy button)\n  function handleEasy() {\n    if (!sessionActive || isAnimating) return;\n\n    isAnimating = true;\n    animationType = 'easy';\n\n    // Mark word as completed\n    const currentCard = sessionCards[currentCardIndex];\n    if (currentCard) {\n      const xpValue = currentCard.xp_value || 10;\n\n      Debug.log('LearnPage', 'Word marked as easy', {\n        wordId: currentCard.id,\n        xpAdded: xpValue\n      });\n    }\n\n    // Move to next card after animation\n    setTimeout(() => {\n      moveToNextCard();\n      isAnimating = false;\n      animationType = null;\n    }, 600);\n  }\n\n  // Handle card repetition (Hard button)\n  function handleHard() {\n    if (!sessionActive || isAnimating) return;\n\n    isAnimating = true;\n    animationType = 'hard';\n\n    // Just move to next card without marking as completed\n    Debug.log('LearnPage', 'Word marked as hard', {\n      wordId: sessionCards[currentCardIndex]?.id\n    });\n\n    setTimeout(() => {\n      moveToNextCard();\n      isAnimating = false;\n      animationType = null;\n    }, 600);\n  }\n\n  // Move to the next card in the session\n  function moveToNextCard() {\n    if (currentCardIndex < sessionCards.length - 1) {\n      currentCardIndex++;\n    } else {\n      // Session complete\n      sessionActive = false;\n      sessionComplete = true;\n      Debug.log('LearnPage', 'Session completed');\n    }\n  }\n\n  // Reset the session\n  function resetSession() {\n    sessionActive = false;\n    sessionComplete = false;\n    sessionCards = [];\n    currentCardIndex = 0;\n    isAnimating = false;\n    animationType = null;\n  }\n\n  // Calculate progress percentage\n  function getProgressPercentage(): number {\n    if (sessionCards.length === 0) return 0;\n    return Math.round(((currentCardIndex + 1) / sessionCards.length) * 100);\n  }\n\n  // Get current card and transform to match Flashcard component expectations\n  function getCurrentCard(): any {\n    const card = sessionCards[currentCardIndex];\n    if (!card) return null;\n\n    return {\n      ...card,\n      media: card.media ?? { emoji: card.emoji },\n      literalBreakdown: card.literalBreakdown ?? card.metadata?.components?.map((c) => ({\n        segment: c.part,\n        literal: c.meaning,\n        grammarTag: c.note\n      })) ?? []\n    };\n  }\n\n  // Format the progress text\n  function getProgressText(): string {\n    if (sessionCards.length === 0) return '0/0';\n    return `${currentCardIndex + 1}/${sessionCards.length}`;\n  }\n\n  // Initialize session on component mount\n  onMount(() => {\n    startSession();\n  });\n</script>\n\n<div class=\"learn-page\">\n  <!-- Progress bar at the top -->\n  <div class=\"progress-container\">\n    <div class=\"progress-bar\" style={`width: ${getProgressPercentage()}%`}></div>\n    <div class=\"progress-text\">{getProgressText()}</div>\n  </div>\n\n  <!-- Main content area -->\n  <div class=\"content-container\">\n    {#if sessionActive && getCurrentCard()}\n      <!-- Flashcard display -->\n      <div class=\"flashcard-wrapper {animationType}\">\n        <Flashcard vocabularyItem={getCurrentCard()!} />\n      </div>\n\n      <!-- Interaction buttons -->\n      <div class=\"button-container\">\n        <button\n          class=\"hard-button\"\n          onclick={handleHard}\n          disabled={isAnimating}\n        >\n          {ui.hard}\n        </button>\n        <button\n          class=\"easy-button\"\n          onclick={handleEasy}\n          disabled={isAnimating}\n        >\n          {ui.easy}\n        </button>\n      </div>\n    {:else if sessionComplete}\n      <!-- Session completion message -->\n      <div class=\"completion-message\">\n        <h2>{ui.completedTitle}</h2>\n        <p>{ui.completedBody}</p>\n        <button onclick={startSession} class=\"restart-button\">\n          {ui.startNew}\n        </button>\n      </div>\n    {:else}\n      <!-- Loading or initial state -->\n      <div class=\"loading-message\">\n        {#if loadError}\n          <p>{loadError}</p>\n          <button onclick={startSession} class=\"restart-button\">\n            {ui.retry}\n          </button>\n        {:else if sessionCards.length === 0}\n          <p>{ui.loading}</p>\n        {:else}\n          <p>{ui.mastered}</p>\n          <button onclick={startSession} class=\"restart-button\">\n            {ui.startNew}\n          </button>\n        {/if}\n      </div>\n    {/if}\n  </div>\n</div>\n\n<style>\n  .learn-page {\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    max-width: 1000px;\n    margin: 0 auto;\n    padding: 1rem;\n    box-sizing: border-box;\n  }\n\n  .progress-container {\n    width: 100%;\n    height: 24px;\n    background-color: #e5e7eb;\n    border-radius: 12px;\n    margin-bottom: 1.5rem;\n    position: relative;\n    overflow: hidden;\n  }\n\n  .progress-bar {\n    height: 100%;\n    background: linear-gradient(90deg, #3b82f6, #8b5cf6);\n    border-radius: 12px;\n    transition: width 0.3s ease;\n  }\n\n  .progress-text {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    color: white;\n    font-weight: bold;\n    font-size: 0.875rem;\n    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n  }\n\n  .content-container {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    align-items: center;\n    position: relative;\n    gap: 1rem;\n  }\n\n  .flashcard-wrapper {\n    width: 100%;\n    max-width: 400px;\n    margin-bottom: 1.25rem;\n    transition: transform 0.6s ease;\n    position: relative;\n    z-index: 1; /* Lower z-index than buttons */\n  }\n\n  /* Animation for card completion */\n  .flashcard-wrapper.easy {\n    animation: scaleUp 0.6s ease;\n  }\n\n  .flashcard-wrapper.hard {\n    animation: shake 0.6s ease;\n  }\n\n  @keyframes scaleUp {\n    0% { transform: scale(1); }\n    50% { transform: scale(1.1); }\n    100% { transform: scale(1); }\n  }\n\n  @keyframes shake {\n    0%, 100% { transform: translateX(0); }\n    20%, 60% { transform: translateX(-5px); }\n    40%, 80% { transform: translateX(5px); }\n  }\n\n  .button-container {\n    display: flex;\n    gap: 1.5rem;\n    margin-top: 1rem;\n    position: relative;\n    z-index: 10; /* Higher z-index to ensure buttons are on top */\n  }\n\n  .hard-button, .easy-button {\n    padding: 1rem 2rem;\n    font-size: 1.25rem;\n    border-radius: 50px;\n    border: none;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    font-weight: bold;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  }\n\n  .hard-button {\n    background-color: #ef4444;\n    color: white;\n  }\n\n  .hard-button:hover:not(:disabled) {\n    background-color: #dc2626;\n    transform: translateY(-2px);\n    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);\n  }\n\n  .easy-button {\n    background-color: #10b981;\n    color: white;\n  }\n\n  .easy-button:hover:not(:disabled) {\n    background-color: #059669;\n    transform: translateY(-2px);\n    box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);\n  }\n\n  .hard-button:disabled, .easy-button:disabled {\n    opacity: 0.7;\n    cursor: not-allowed;\n    transform: none;\n  }\n\n  .completion-message {\n    text-align: center;\n    padding: 2rem;\n    background-color: white;\n    border-radius: 12px;\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n    max-width: 500px;\n  }\n\n  .completion-message h2 {\n    color: #10b981;\n    margin-bottom: 1rem;\n  }\n\n  .loading-message {\n    text-align: center;\n    padding: 2rem;\n  }\n\n  .restart-button {\n    background-color: #3b82f6;\n    color: white;\n    border: none;\n    padding: 0.75rem 1.5rem;\n    border-radius: 8px;\n    font-size: 1rem;\n    cursor: pointer;\n    margin-top: 1rem;\n    transition: background-color 0.2s ease;\n  }\n\n  .restart-button:hover {\n    background-color: #2563eb;\n  }\n\n  /* Responsive design */\n  @media (max-width: 768px) {\n    .learn-page {\n      padding: 0.5rem;\n    }\n\n    .button-container {\n      flex-direction: column;\n      gap: 1rem;\n    }\n\n    .hard-button, .easy-button {\n      width: 100%;\n      max-width: 300px;\n      justify-content: center;\n    }\n  }\n\n  @media (max-width: 480px) {\n    .progress-container {\n      height: 20px;\n    }\n\n    .progress-text {\n      font-size: 0.75rem;\n    }\n\n    .hard-button, .easy-button {\n      padding: 0.75rem 1.5rem;\n      font-size: 1rem;\n    }\n  }\n</style>"],"names":["flipped","$.state","ui","$.derived","appState","languageMode","flipHint","showFront","showBack","breakdown","composition","context","examples","cultural","mnemonic","usage","isBulgarianFront","formattedGerman","formatGermanTerm","item","$$props","vocabularyItem","formatGermanUtil","frontTerm","bulgarian","backTerm","normalizeBreakdown","literalBreakdown","map","piece","part","segment","meaning","literal","note","grammarTag","metadata","components","ex","german","sentence","translation","culturalNote","notes","mnemonics","nuance","contextualNuance","emoji","media","compositionSummary","$.get","length","b","join","toggleFlip","$.set","div","root","button","$.child","__click","__keydown","e","key","preventDefault","div_1","div_2","div_3","span","p","h2","p_1","root_1","$.template_effect","$.set_text","text_3","pronunciation","p_2","root_3","text_4","$$render","consequent_1","consequent","alternate","div_4","$.sibling","node","div_5","div_6","div_7","p_3","h2_1","div_8","root_4","div_9","p_4","p_5","text_8","consequent_2","div_10","root_5","h3","div_11","$.index","$$anchor","index","div_12","root_6","div_13","span_1","span_2","root_7","consequent_3","div_14","div_15","root_8","text_13","consequent_4","text_11","text_12","text_10","consequent_5","div_16","root_9","p_6","p_7","text_14","consequent_6","div_17","root_10","p_8","ul","example","li","root_11","div_18","div_19","div_20","root_12","text_19","consequent_7","text_17","text_18","text_16","consequent_8","div_21","root_13","p_9","p_10","text_20","consequent_9","div_22","root_14","p_11","p_12","text_22","consequent_10","div_23","root_15","p_13","table","tbody","$.each","Object","entries","declension","$$item","forms","$$array","tr","root_16","th","td","td_1","singular","plural","text_24","consequent_11","div_24","root_17","p_14","div_25","links","link","a","root_18","url","label","text_28","consequent_12","$.reset","$.set_class","partOfSpeech","text_5","currentCardIndex","sessionActive","sessionComplete","sessionCards","$.proxy","isAnimating","animationType","loadError","capitalizeNoun","term","charAt","toUpperCase","slice","raw","trim","test","articlePart","rest","split","nounPart","filter","Boolean","base","article","gender","fallback","masculine","feminine","neuter","heading","hard","easy","completedTitle","completedBody","startNew","loading","retry","mastered","async","startSession","Debug","log","vocabularyDb","initialize","allVocabulary","getVocabulary","totalWords","sort","Math","random","cardCount","firstCard","id","error","handleEasy","currentCard","xpValue","xp_value","wordId","xpAdded","setTimeout","moveToNextCard","handleHard","getCurrentCard","card","c","onMount","$.first_child","fragment","Flashcard","node_1","text_1","button_1","text_2","disabled","button_2","fragment_2","button_3","text_7","fragment_4","button_4","text_9","alternate_1","alternate_2","alternate_3","$0","round"],"mappings":"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"}