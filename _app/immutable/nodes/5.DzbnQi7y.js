import{f as e,a as s,b as a,c as t}from"../chunks/CP5eoV68.js";import{o as r}from"../chunks/Cx5GHCVW.js";import{a5 as n,a9 as i,a6 as c,a8 as o,aa as l,ac as d,ad as v,a7 as m,ab as h,L as u,af as p,ae as g,ag as f,ah as b}from"../chunks/wBlqi3UJ.js";import{i as k}from"../chunks/DXLtWB7C.js";import{e as w}from"../chunks/CGLmHr_6.js";import{h as y}from"../chunks/BqRWVxgY.js";import{g as A}from"../chunks/B9Ghghkk.js";import{b as L}from"../chunks/ARfPpxDE.js";import{v as j,a as B}from"../chunks/vPaY5TSe.js";import{V as z}from"../chunks/BbBWmG_G.js";import{A as P}from"../chunks/CHmdkdWe.js";import{P as T}from"../chunks/Bbedt7Lx.js";import{g as S,a as W}from"../chunks/Py7cPYB-.js";var M=e('<div class="loading svelte-8s3559"><p> </p></div>'),V=e('<div class="card-wrapper svelte-8s3559"><!></div>'),$=e('<section class="recent-section svelte-8s3559"><h2 class="svelte-8s3559"> </h2> <div class="word-grid svelte-8s3559"></div></section>'),R=e('<div class="card-wrapper svelte-8s3559"><!></div>'),q=e('<section class="recommended-section svelte-8s3559"><h2 class="svelte-8s3559"> </h2> <div class="word-grid svelte-8s3559"></div></section>'),E=e('<section class="no-recommended svelte-8s3559"><p> </p></section>'),C=e('<div class="loading svelte-8s3559"><p> </p></div>'),D=e('<div class="loading error svelte-8s3559"> </div>'),F=e('<section class="quick-actions svelte-8s3559"><!> <!></section> <!> <!> <section class="paths-section svelte-8s3559"><h2 class="svelte-8s3559"> </h2> <!></section>',1),K=e('<div class="learn-hub svelte-8s3559"><header class="learn-header svelte-8s3559"><h1 class="svelte-8s3559"> </h1> <p class="subtitle svelte-8s3559"> </p></header> <!></div>');function O(e,O){n(O,!0);let Z=i(!0),x=i(c([])),G=i(c([])),I=i(c([])),Q=i(c(new Map)),_=i(!0),H=i(null);const J=g(()=>"DE_BG"===B.languageMode?{title:"Lernen",subtitle:"WÃ¤hle WÃ¶rter zum Lernen oder starte eine zufÃ¤llige Ãœbungssitzung",recentTitle:"Zuletzt angesehen",recommendedTitle:"Empfohlen fÃ¼r dich",pathsTitle:"Lernpfade",quickPractice:"ðŸŽ² Schnell Ã¼ben",browseVocab:"ðŸ“š Vokabular durchsuchen",noRecent:"Keine kÃ¼rzlich angesehenen WÃ¶rter",noRecommended:"Alle WÃ¶rter sind gemeistert! ðŸŽ‰",essentialA1:"Essenzielle A1 WÃ¶rter",essentialA2:"Essenzielle A2 WÃ¶rter",intermediateB1:"Zwischenstufe B1",advancedB2:"Fortgeschritten B2",words:"WÃ¶rter",complete:"Fertig",inProgress:"In Bearbeitung"}:{title:"Ð£Ñ‡ÐµÐ½Ðµ",subtitle:"Ð˜Ð·Ð±ÐµÑ€ÐµÑ‚Ðµ Ð´ÑƒÐ¼Ð¸ Ð·Ð° ÑƒÑ‡ÐµÐ½Ðµ Ð¸Ð»Ð¸ Ð·Ð°Ð¿Ð¾Ñ‡Ð½ÐµÑ‚Ðµ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ð° Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°",recentTitle:"ÐžÑ‚ÑÐºÐ¾Ñ€Ð¾ Ñ€Ð°Ð·Ð³Ð»ÐµÐ¶Ð´Ð°Ð½Ð¾",recommendedTitle:"ÐŸÑ€ÐµÐ¿Ð¾Ñ€ÑŠÑ‡Ð°Ð½Ð¾ Ð·Ð° Ñ‚ÐµÐ±",pathsTitle:"ÐŸÑŠÑ‚ÐµÐºÐ¸ Ð·Ð° ÑƒÑ‡ÐµÐ½Ðµ",quickPractice:"ðŸŽ² Ð‘ÑŠÑ€Ð·Ð° Ð¿Ñ€Ð°ÐºÑ‚Ð¸ÐºÐ°",browseVocab:"ðŸ“š ÐŸÑ€ÐµÐ³Ð»ÐµÐ´ Ð½Ð° Ñ€ÐµÑ‡Ð½Ð¸ÐºÐ°",noRecent:"ÐÑÐ¼Ð°Ñ‚Ðµ Ð¾Ñ‚ÑÐºÐ¾Ñ€Ð¾ Ñ€Ð°Ð·Ð³Ð»ÐµÐ¶Ð´Ð°Ð½Ð¸ Ð´ÑƒÐ¼Ð¸",noRecommended:"Ð’ÑÐ¸Ñ‡ÐºÐ¸ Ð´ÑƒÐ¼Ð¸ ÑÐ° ÑƒÑÐ²Ð¾ÐµÐ½Ð¸! ðŸŽ‰",essentialA1:"ÐžÑÐ½Ð¾Ð²Ð½Ð¸ Ð´ÑƒÐ¼Ð¸ A1",essentialA2:"ÐžÑÐ½Ð¾Ð²Ð½Ð¸ Ð´ÑƒÐ¼Ð¸ A2",intermediateB1:"ÐœÐµÐ¶Ð´Ð¸Ð½Ð½Ð° ÑÑ‚ÐµÐ¿ÐµÐ½ B1",advancedB2:"ÐÐ°Ð¿Ñ€ÐµÐ´Ð½Ð° ÑÑ‚ÐµÐ¿ÐµÐ½ B2",words:"Ð´ÑƒÐ¼Ð¸",complete:"Ð—Ð°Ð²ÑŠÑ€ÑˆÐµÐ½Ð¾",inProgress:"Ð’ Ñ…Ð¾Ð´"});function N(e){A(`${L}/learn/${e.id}`)}function U(){const e=j.getVocabulary();if(!e||0===e.length)return;const s=e[Math.floor(Math.random()*e.length)];s&&A(`${L}/vocabulary/${s.id}`)}function X(){A(`${L}/vocabulary`)}function Y(e){A(`${L}/learn/paths/${e}`)}r(async()=>{try{h(Z,!0),await j.initialize();const s=j.getVocabulary(),a=B.practiceStats?.keys()?Array.from(B.practiceStats.keys()).slice(0,6):[];if(h(x,a.map(e=>s.find(s=>s.id===e)).filter(Boolean),!0),0===u(x).length){const e=B.recentSearches?.slice(0,3)||[];h(x,e.map(e=>s.find(s=>s.german?.toLowerCase().includes(e.toLowerCase())||s.bulgarian?.toLowerCase().includes(e.toLowerCase()))).filter(Boolean),!0)}const t=new Set(Array.from(B.practiceStats?.entries()||[]).filter(([,e])=>e&&e.correct>=3).map(([e])=>e));h(G,s.filter(e=>("A1"===e.cefrLevel||"A2"===e.cefrLevel)&&!t.has(e.id)).sort(()=>Math.random()-.5).slice(0,6),!0);try{const e=await S(),s=new Map;for(const a of e){const e=await W(a.id);s.set(a.id,e)}h(I,e,!0),h(Q,s,!0)}catch(e){h(H,e.message??"Failed to load learning paths",!0)}finally{h(_,!1)}}catch(s){console.error("Error in Learn page onMount:",s)}finally{h(Z,!1)}});var ee=K();y("8s3559",e=>{d(()=>{p.title=u(J).title??""})});var se=m(ee),ae=m(se),te=m(ae,!0);f(ae);var re=v(ae,2),ne=m(re,!0);f(re),f(se);var ie=v(se,2),ce=e=>{var t=M(),r=m(t),n=m(r,!0);f(r),f(t),o(()=>a(n,"Lernen"===u(J).title?"WÃ¶rter werden geladen...":"Ð”ÑƒÐ¼Ð¸Ñ‚Ðµ ÑÐµ Ð·Ð°Ñ€ÐµÐ¶Ð´Ð°Ñ‚...")),s(e,t)},oe=e=>{var r=F(),n=b(r),i=m(n);P(i,{get label(){return u(J).quickPractice},icon:"ðŸŽ²",onclick:U,variant:"primary"});var c=v(i,2);P(c,{get label(){return u(J).browseVocab},icon:"ðŸ“š",onclick:X,variant:"secondary"}),f(n);var l=v(n,2),d=e=>{var t=$(),r=m(t),n=m(r,!0);f(r);var i=v(r,2);w(i,21,()=>u(x),e=>e.id,(e,a)=>{var t=V(),r=m(t);z(r,{get item(){return u(a)},variant:"grid",onOpenDetail:()=>N(u(a))}),f(t),s(e,t)}),f(i),f(t),o(()=>a(n,u(J).recentTitle)),s(e,t)};k(l,e=>{u(x).length>0&&e(d)});var h=v(l,2),p=e=>{var t=q(),r=m(t),n=m(r,!0);f(r);var i=v(r,2);w(i,21,()=>u(G),e=>e.id,(e,a)=>{var t=R(),r=m(t);z(r,{get item(){return u(a)},variant:"grid",onOpenDetail:()=>N(u(a))}),f(t),s(e,t)}),f(i),f(t),o(()=>a(n,u(J).recommendedTitle)),s(e,t)},g=e=>{var t=E(),r=m(t),n=m(r,!0);f(r),f(t),o(()=>a(n,u(J).noRecommended)),s(e,t)};k(h,e=>{u(G).length>0?e(p):e(g,!1)});var y=v(h,2),A=m(y),L=m(A,!0);f(A);var j=v(A,2),B=e=>{var t=C(),r=m(t),n=m(r,!0);f(r),f(t),o(()=>a(n,"Lernen"===u(J).title?"Lernpfade werden geladenâ€¦":"ÐŸÑŠÑ‚ÐµÐºÐ¸Ñ‚Ðµ ÑÐµ Ð·Ð°Ñ€ÐµÐ¶Ð´Ð°Ñ‚â€¦")),s(e,t)},S=e=>{var r=t(),n=b(r),i=e=>{var t=D(),r=m(t,!0);f(t),o(()=>a(r,u(H))),s(e,t)},c=e=>{T(e,{get paths(){return u(I)},get pathProgress(){return u(Q)},onPathSelect:Y})};k(n,e=>{u(H)?e(i):e(c,!1)},!0),s(e,r)};k(j,e=>{u(_)?e(B):e(S,!1)}),f(y),o(()=>a(L,u(J).pathsTitle)),s(e,r)};k(ie,e=>{u(Z)?e(ce):e(oe,!1)}),f(ee),o(()=>{a(te,u(J).title),a(ne,u(J).subtitle)}),s(e,ee),l()}export{O as component};
//# sourceMappingURL=5.DzbnQi7y.js.map
