{"version":3,"file":"2.CM1lxv7E.js","sources":["../../../../../../src/routes/+page.svelte","../../../../../../src/lib/state/app.svelte.ts","../../../../../../src/lib/components/SimpleProgressCounter.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import SimpleProgressCounter from '$lib/components/SimpleProgressCounter.svelte';\n  import { onMount } from 'svelte';\n  import { initializeApp } from '$lib/state/app.svelte';\n  import { t, onTranslationsChange, offTranslationsChange } from '$lib/services/localization';\n\n  // Reactive translation for dashboard title\n  let dashboardTitle = $state('');\n\n  // Update translations reactively\n  function updateTranslations() {\n    dashboardTitle = t('dashboard.title') || 'Dashboard';\n  }\n\n  // Set up reactive translation updates\n  onMount(() => {\n    updateTranslations(); // Initial update\n    onTranslationsChange(updateTranslations);\n\n    return () => {\n      offTranslationsChange(updateTranslations);\n    };\n  });\n\n  // Initialize application\n  onMount(async () => {\n    try {\n      // Initialize app state\n      await initializeApp();\n    } catch (error) {\n      console.error('Failed to initialize application:', error);\n    }\n  });\n</script>\n\n<svelte:head>\n  <title>{dashboardTitle || 'Bulgarian-German Learning App'}</title>\n</svelte:head>\n\n<div class=\"dashboard-container\">\n  <h1>{dashboardTitle}</h1>\n  <SimpleProgressCounter />\n</div>\n\n<style>\n  .dashboard-container {\n    max-width: 1400px; /* Increased from 1200px for better space usage */\n    margin: 0 auto;\n    padding: 2rem;\n    min-height: 100vh;\n    background-color: #f5f5f5;\n  }\n\n  @media (max-width: 768px) {\n    .dashboard-container {\n      padding: 1rem;\n    }\n  }\n</style>","/**\n * App State Module - Backward Compatible State Facade for Svelte 5 Runes\n *\n * This module provides backward compatibility for components that expect the\n * traditional app state interface while using the new Svelte 5 runes-based\n * state management system.\n *\n * The architecture has evolved to separate concerns:\n * - app-ui.svelte.ts: UI state management using Svelte 5 runes\n * - app-data.svelte.ts: Data state management using Svelte 5 runes\n * - app-state.ts: Legacy facade combining both states\n * - app.svelte.ts: Svelte 5 runes-based backward compatible facade\n */\n\nimport { appUIState, appDataState } from './app-state.js';\nimport type { VocabularyItem } from '$lib/types/vocabulary';\n\n// Export the singleton instances for backward compatibility\nexport const appUI = appUIState;\nexport const appData = appDataState;\n\n// Export the combined state interface using Svelte 5 runes\nclass AppStateFacade {\n    // UI State accessors with proper typing\n    get languageMode() { return appUIState.languageMode; }\n    get searchQuery() { return appUIState.searchQuery; }\n    get currentItem() { return appUIState.currentItem; }\n    get showAnswer() { return appUIState.showAnswer; }\n    get practiceMode() { return appUIState.practiceMode; }\n    get isLoading() { return appUIState.isLoading; }\n    get error() { return appUIState.error; }\n    get filteredItems() { return appUIState.filteredItems; }\n    get displayDirection() { return appUIState.displayDirection; }\n    get practiceRecommendations() { return appUIState.practiceRecommendations; }\n\n    // Data State accessors with proper typing\n    get practiceStats() { return appDataState.practiceStats; }\n    get recentSearches() { return appDataState.recentSearches; }\n    get favorites() { return appDataState.favorites; }\n\n    // Method accessors with proper typing\n    toggleLanguageMode() { return appUIState.toggleLanguageMode(); }\n    toggleDirection() { return appUIState.toggleDirection(); }\n    setSearchQuery(query: string) { return appUIState.setSearchQuery(query); }\n    setCurrentItem(item: VocabularyItem | null) { return appUIState.setCurrentItem(item); }\n    togglePracticeMode() { return appUIState.togglePracticeMode(); }\n    startPracticeSession(item: VocabularyItem) { return appUIState.startPracticeSession(item); }\n    toggleShowAnswer() { return appUIState.toggleShowAnswer(); }\n    setError(error: string | null) { return appUIState.setError(error); }\n\n    /**\n     * Record a practice result with proper typing\n     * @param itemId The ID of the vocabulary item\n     * @param correct Whether the answer was correct\n     * @param responseTime Response time in milliseconds (optional)\n     */\n    async recordPracticeResult(itemId: string, correct: boolean, responseTime?: number): Promise<void> {\n        return appDataState.recordPracticeResult(itemId, correct, responseTime);\n    }\n\n    /**\n     * Toggle favorite status for a vocabulary item\n     * @param itemId The ID of the vocabulary item\n     */\n    toggleFavorite(itemId: string) { return appDataState.toggleFavorite(itemId); }\n\n    /**\n     * Check if an item is favorited\n     * @param itemId The ID of the vocabulary item\n     * @returns boolean indicating if the item is favorited\n     */\n    isFavorite(itemId: string): boolean { return appDataState.isFavorite(itemId); }\n\n    /**\n     * Clear all user data\n     */\n    async clearAllData(): Promise<void> { return appDataState.clearAllData(); }\n\n    /**\n     * Export user data as JSON\n     * @returns JSON string of user data\n     */\n    exportData(): string { return appDataState.exportData(); }\n\n    /**\n     * Import user data from JSON\n     * @param jsonData JSON string of user data\n     */\n    importData(jsonData: string): void { return appDataState.importData(jsonData); }\n}\n\n// Export the singleton instance for backward compatibility\nexport const appState = new AppStateFacade();\n\n// Export function to get all vocabulary items for convenience\nexport function getAllVocabularyItems() {\n    return appDataState.allItems;\n}\n\n// Import the learning session setter\nimport { setLearningSession } from './session.svelte';\nimport { diContainer } from '$lib/services/di-container';\n\n// Export initialization function\nexport async function initializeApp() {\n    try {\n        // Initialize DI container first\n        await diContainer.initialize();\n\n        // Set the learning session from DI container\n        const session = diContainer.getService('learningSession');\n        setLearningSession(session);\n\n        // Initialize both state modules\n        await appDataState.init();\n        await appUIState.init();\n    } catch (error) {\n        console.error('Failed to initialize app state:', error);\n        throw error;\n    }\n}\n\n// Re-export types for convenience\nexport type { LanguageMode } from './app-ui.svelte';\nexport type { VocabularyItem };","<script lang=\"ts\">\n  import { appState } from '$lib/state/app-state';\n  import { t, onTranslationsChange, offTranslationsChange } from '$lib/services/localization';\n  import { onMount } from 'svelte';\n\n  // Reactive translations\n  let totalVocabLabel = $state('');\n  let favoritedLabel = $state('');\n  let recentSearchesLabel = $state('');\n\n  let stats = $derived.by(() => {\n    try {\n      const vocabularyItems = appState.getAllVocabularyItems?.() ?? [];\n      const favorites = appState.favorites ?? [];\n      const recentSearches = appState.recentSearches ?? [];\n\n      return {\n        totalItems: vocabularyItems.length,\n        favorites: favorites.length,\n        recentSearches: recentSearches.length\n      };\n    } catch (error) {\n      return { totalItems: 0, favorites: 0, recentSearches: 0 };\n    }\n  });\n\n  // Update translations reactively\n  function updateTranslations() {\n    totalVocabLabel = t('dashboard.total_vocabulary') || 'Total Vocabulary';\n    favoritedLabel = t('dashboard.favorited') || 'Favorited';\n    recentSearchesLabel = t('dashboard.recent_searches') || 'Recent Searches';\n  }\n\n  // Set up reactive translation updates\n  onMount(() => {\n    updateTranslations(); // Initial update\n    onTranslationsChange(updateTranslations);\n\n    return () => {\n      offTranslationsChange(updateTranslations);\n    };\n  });\n</script>\n\n<div class=\"stats-container\">\n  <div class=\"stat-card\">\n    <div class=\"stat-icon\">üìö</div>\n    <div class=\"stat-label\">{totalVocabLabel}</div>\n    <div class=\"stat-value\">{stats.totalItems}</div>\n  </div>\n\n  <div class=\"stat-card\">\n    <div class=\"stat-icon\">‚ù§Ô∏è</div>\n    <div class=\"stat-label\">{favoritedLabel}</div>\n    <div class=\"stat-value\">{stats.favorites}</div>\n  </div>\n\n  <div class=\"stat-card\">\n    <div class=\"stat-icon\">üîç</div>\n    <div class=\"stat-label\">{recentSearchesLabel}</div>\n    <div class=\"stat-value\">{stats.recentSearches}</div>\n  </div>\n</div>\n\n<style>\n  .stats-container {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr); /* Force 3 columns on desktop */\n    gap: 1.5rem;\n    padding: 2rem;\n    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);\n    border-radius: 0.75rem;\n    margin: 2rem 0;\n  }\n  \n  @media (max-width: 768px) {\n    .stats-container {\n      grid-template-columns: 1fr; /* Stack on mobile/tablet */\n    }\n  }\n\n  .stat-card {\n    text-align: center;\n    padding: 1.5rem;\n    background: white;\n    border-radius: 0.5rem;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n    transition: transform 0.2s, box-shadow 0.2s;\n  }\n\n  .stat-card:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  }\n\n  .stat-icon {\n    font-size: 2rem;\n    margin-bottom: 0.5rem;\n  }\n\n  .stat-label {\n    font-size: 0.875rem;\n    color: #6b7280;\n    margin-bottom: 0.5rem;\n    font-weight: 500;\n  }\n\n  .stat-value {\n    font-size: 1.875rem;\n    font-weight: 700;\n    color: #1f2937;\n  }\n\n  @media (max-width: 640px) {\n    .stats-container {\n      grid-template-columns: 1fr;\n      gap: 1rem;\n      padding: 1rem;\n    }\n\n    .stat-card {\n      padding: 1rem;\n    }\n\n    .stat-icon {\n      font-size: 1.5rem;\n    }\n\n    .stat-value {\n      font-size: 1.5rem;\n    }\n  }\n</style>"],"names":["dashboardTitle","$.state","updateTranslations","$.set","t","onMount","onTranslationsChange","offTranslationsChange","async","diContainer","initialize","session","getService","setLearningSession","appDataState","init","appUIState","error","console","initializeApp","div","root","$.head","$$anchor","title","$.get","h1","totalVocabLabel","favoritedLabel","recentSearchesLabel","stats","$.derived","vocabularyItems","appState","getAllVocabularyItems","favorites","recentSearches","totalItems","length","div_1","div_2","div_3","div_4","div_5","div_6","div_7","div_8","div_9","$.set_text","text_1","text_3","text_5","SimpleProgressCounter"],"mappings":"0mCAOMA,EAAiBC,EAAO,IAGnB,SAAAC,IACPC,EAAAH,EAAiBI,EAAE,oBAAsB,aAAW,EACtD,CAGAC,EAAO,KACLH,IACAI,EAAqBJ,GAER,KACXK,EAAsBL,MAK1BG,EAAOG,UACD,UC8EcA,2BAGRC,EAAYC,aAGZ,MAAAC,EAAUF,EAAYG,WAAW,mBACvCC,EAAmBF,SAGbG,EAAaC,aACbC,EAAWD,MACrB,OAASE,SACLC,QAAQD,MAAM,kCAAmCA,GAC3CA,CACV,CACJ,CD5FYE,EACR,OAASF,GACPC,QAAQD,MAAM,oCAAqCA,EACrD,QAQHG,EAAGC,IAJHC,EAAW,UAAAC,aACTC,OAAKC,EAAEzB,IAAkB,kCAA+B,OAIxD,IAAA0B,IADFN,OACEM,GAAE,KAAFA,6BElCGC,EAAkB1B,EAAO,IACzB2B,EAAiB3B,EAAO,IACxB4B,EAAsB5B,EAAO,IAE7B6B,EAAKC,EAAA,KACH,UACIC,EAAkBC,EAASC,2BAAqB,GAChDC,EAAYF,EAASE,WAAS,GAC9BC,EAAiBH,EAASG,gBAAc,UAG5CC,WAAYL,EAAgBM,OAC5BH,UAAWA,EAAUG,OACrBF,eAAgBA,EAAeE,OAEnC,OAASrB,UACEoB,WAAY,EAAGF,UAAW,EAAGC,eAAgB,EACxD,IAIO,SAAAlC,IACPC,EAAAwB,EAAkBvB,EAAE,+BAAiC,oBAAkB,GACvED,EAAAyB,EAAiBxB,EAAE,wBAA0B,aAAW,GACxDD,EAAA0B,EAAsBzB,EAAE,8BAAgC,mBAAiB,EAC3E,CAGAC,EAAO,KACLH,IACAI,EAAqBJ,GAER,KACXK,EAAsBL,UAK3BkB,EAAGC,IACDkB,IADFnB,GAGIoB,MAFFD,GAAG,OAEDC,GAAG,KAAHA,GACA,IAAAC,IADAD,EAAG,OACHC,GAAG,KAAHA,KAHFF,GAMA,IAAAG,IANAH,EAAG,GAQDI,MAFFD,GAAG,OAEDC,GAAG,KAAHA,GACA,IAAAC,IADAD,EAAG,OACHC,GAAG,KAAHA,KAHFF,GAMA,IAAAG,IANAH,EAAG,GAQDI,MAFFD,GAAG,OAEDC,GAAG,KAAHA,GACA,IAAAC,IADAD,EAAG,OACHC,GAAG,KAAHA,KAHFF,KAbFzB,gBAG4BO,IACAqB,EAAAC,EAAAxB,EAAAK,GAAMO,kBAKNT,IACAoB,EAAAE,EAAAzB,EAAAK,GAAMK,iBAKNN,IACAmB,EAAAG,EAAA1B,EAAAK,GAAMM,sBAhBlChB,MAFD,CFDGgC,GADA1B,EAAE,GACmB,MAFvBN,eACMpB,SADNoB,MAND"}