import{d as s,f as e,b as a,a as t,j as l,c as n}from"../chunks/CP5eoV68.js";import{o as v}from"../chunks/Cx5GHCVW.js";import{a5 as i,a7 as r,ad as d,ag as o,ao as c,a8 as p,L as m,ae as h,aa as g,ah as u,a9 as b,a6 as f,ab as k}from"../chunks/wBlqi3UJ.js";import{i as z}from"../chunks/DXLtWB7C.js";import{g as y}from"../chunks/B9Ghghkk.js";import{b as $}from"../chunks/ARfPpxDE.js";import{e as w}from"../chunks/CGLmHr_6.js";import{c as x,s as C,b as L}from"../chunks/rXKuYn7R.js";import{p as M}from"../chunks/ChF5yV5R.js";import{g as j,b as I,a as S,m as _}from"../chunks/Py7cPYB-.js";const A=Object.freeze(Object.defineProperty({__proto__:null,load:async({params:s})=>({pathId:s.path})},Symbol.toStringTag,{value:"Module"}));var B=e('<div class="empty-list svelte-nvp3d3"><svg class="empty-icon svelte-nvp3d3" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> <p>No lessons in this path</p></div>'),P=e('<span class="checkmark svelte-nvp3d3">‚úì</span>'),H=e('<span class="number"> </span>'),O=e('<p class="lesson-description svelte-nvp3d3"> </p>'),X=e('<span class="meta-tag svelte-nvp3d3"> </span>'),D=e('<span class="meta-tag svelte-nvp3d3"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" width="14" height="14"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> </span>'),E=e('<span class="meta-tag svelte-nvp3d3"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" width="14" height="14"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg> </span>'),N=l('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="svelte-nvp3d3"><polyline points="20 6 9 17 4 12"></polyline></svg> Done',1),R=l('<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" class="svelte-nvp3d3"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg> ',1),T=e('<div class="lesson-divider svelte-nvp3d3"></div>'),U=e('<div><div class="lesson-number svelte-nvp3d3"><!></div> <div class="lesson-content svelte-nvp3d3"><div class="lesson-header svelte-nvp3d3"><h4 class="lesson-title svelte-nvp3d3"> </h4> <!></div> <div class="lesson-meta svelte-nvp3d3"><!> <!> <!></div></div> <button class="lesson-btn svelte-nvp3d3"><!></button></div> <!>',1),F=e('<div class="lessons-container svelte-nvp3d3"></div> <div class="list-footer svelte-nvp3d3"><div class="progress-bar svelte-nvp3d3"><div class="progress-fill svelte-nvp3d3"></div></div> <span class="progress-text svelte-nvp3d3"> </span></div>',1),J=e('<div class="lesson-list svelte-nvp3d3"><div class="list-header svelte-nvp3d3"><h3 class="list-title svelte-nvp3d3">Lessons</h3> <div class="completion-badge svelte-nvp3d3"><span class="badge-text svelte-nvp3d3"> </span> <span class="badge-label svelte-nvp3d3">lessons completed</span></div></div> <!></div>');function V(s,e){i(e,!0);let l=M(e,"lessons",19,()=>[]),n=M(e,"lessonProgress",19,()=>new Map);const v=h(()=>l().map(s=>{const a=n().get(s.id),t=a?.completed??!1,l=s.id===e.currentLessonId;return{...s,isCompleted:t,isCurrent:l,progress:a}})),b=h(()=>{const s=l().length,e=m(v).filter(s=>s.isCompleted).length;return{total:s,completed:e,percentage:s>0?Math.round(e/s*100):0}});var f=J(),k=r(f),y=d(r(k),2),$=r(y),j=r($);o($),c(2),o(y),o(k);var I=d(k,2),S=s=>{var e=B();t(s,e)},_=s=>{var l=F(),n=u(l);w(n,23,()=>m(v),s=>s.id,(s,l,n)=>{var i=U(),h=u(i);let g;var b=r(h),f=r(b),k=s=>{var e=P();t(s,e)},y=s=>{var e=H(),l=r(e,!0);o(e),p(()=>a(l,m(n)+1)),t(s,e)};z(f,s=>{m(l).isCompleted?s(k):s(y,!1)}),o(b);var $=d(b,2),w=r($),L=r(w),M=r(L,!0);o(L);var j=d(L,2),I=s=>{var e=O(),n=r(e,!0);o(e),p(()=>a(n,m(l).subtitle)),t(s,e)};z(j,s=>{m(l).subtitle&&s(I)}),o(w);var S=d(w,2),_=r(S),A=s=>{var e=X(),n=r(e,!0);o(e),p(()=>{C(e,"data-difficulty",m(l).difficulty),a(n,m(l).difficulty)}),t(s,e)};z(_,s=>{m(l).difficulty&&s(A)});var B=d(_,2),F=s=>{var e=D(),n=d(r(e));o(e),p(()=>a(n,` ${m(l).duration??""} min`)),t(s,e)};z(B,s=>{m(l).duration&&s(F)});var J=d(B,2),V=s=>{var e=E(),n=d(r(e));o(e),p(()=>a(n,` ${m(l).vocabularyIds.length??""} words`)),t(s,e)};z(J,s=>{m(l).vocabularyIds?.length&&s(V)}),o(S),o($);var q=d($,2);q.__click=()=>{return s=m(l).id,void e.onLessonSelect?.(s);var s};var G=r(q),K=s=>{var e=N();c(),t(s,e)},Q=s=>{var e=R(),n=d(u(e),1,!0);p(()=>a(n,m(l).isCurrent?"Continue":"Start")),t(s,e)};z(G,s=>{m(l).isCompleted?s(K):s(Q,!1)}),o(q),o(h);var W=d(h,2),Y=s=>{var e=T();t(s,e)};z(W,s=>{m(n)<m(v).length-1&&s(Y)}),p(()=>{g=x(h,1,"lesson-item svelte-nvp3d3",null,g,{completed:m(l).isCompleted,current:m(l).isCurrent}),a(M,m(l).title),C(q,"aria-label",`${m(l).isCompleted?"Review":"Start"} ${m(l).title}`)}),t(s,i)}),o(n);var i=d(n,2),h=r(i),g=r(h);o(h);var f=d(h,2),k=r(f);o(f),o(i),p(()=>{L(g,`width: ${m(b).percentage??""}%`),a(k,`${m(b).percentage??""}% complete`)}),t(s,l)};z(I,s=>{0===l().length?s(S):s(_,!1)}),o(f),p(()=>a(j,`${m(b).completed??""}/${m(b).total??""}`)),t(s,f),g()}s(["click"]);var q=l('<circle cx="12" cy="12" r="10"></circle>'),G=l('<path d="M9 16.2L4.8 12m-1.4 1.4L9 19 21 7"></path>'),K=l('<path d="M13 10V3L4 14h7v7l9-11h-7z"></path>'),Q=l('<path d="M7 14c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3z"></path>'),W=l('<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z"></path>'),Y=e('<div class="metric-item svelte-1mg1hnz"><div class="metric-icon svelte-1mg1hnz">‚è±Ô∏è</div> <div class="metric-info svelte-1mg1hnz"><span class="metric-label svelte-1mg1hnz">Time spent</span> <span class="metric-value svelte-1mg1hnz"> </span></div></div>'),Z=e('<div class="metric-item svelte-1mg1hnz"><div class="metric-icon svelte-1mg1hnz">‚≠ê</div> <div class="metric-info svelte-1mg1hnz"><span class="metric-label svelte-1mg1hnz">XP earned</span> <span class="metric-value svelte-1mg1hnz"> </span></div></div>'),ss=e('<div class="progress-details svelte-1mg1hnz"><div class="detail-row svelte-1mg1hnz"><span class="detail-label">Progress breakdown:</span></div> <div class="detail-bars svelte-1mg1hnz"><div class="detail-bar svelte-1mg1hnz"><div class="bar-fill svelte-1mg1hnz"></div> <span class="bar-label svelte-1mg1hnz"> </span></div> <div class="detail-bar svelte-1mg1hnz"><div class="bar-fill svelte-1mg1hnz"></div> <span class="bar-label svelte-1mg1hnz"> </span></div></div></div>'),es=e('<div class="progress-indicator svelte-1mg1hnz"><div class="progress-main svelte-1mg1hnz"><div class="progress-bar-container svelte-1mg1hnz"><div class="progress-bar svelte-1mg1hnz"><div class="progress-fill svelte-1mg1hnz"></div></div> <div class="progress-labels svelte-1mg1hnz"><span class="progress-count svelte-1mg1hnz"> </span> <span class="progress-percentage svelte-1mg1hnz"> </span></div></div> <div class="progress-status svelte-1mg1hnz"><svg class="status-icon svelte-1mg1hnz" viewBox="0 0 24 24" fill="currentColor"><!></svg> <span class="status-text svelte-1mg1hnz"> </span></div></div> <div class="progress-metrics svelte-1mg1hnz"><div class="metric-item svelte-1mg1hnz"><div class="metric-icon svelte-1mg1hnz">üìö</div> <div class="metric-info svelte-1mg1hnz"><span class="metric-label svelte-1mg1hnz">Remaining</span> <span class="metric-value svelte-1mg1hnz"> </span></div></div> <!> <!></div> <!></div>');var as=e('<div class="state svelte-1nusdek">Loading path‚Ä¶</div>'),ts=e('<div class="state error svelte-1nusdek"> </div>'),ls=e('<div class="state svelte-1nusdek">Path not found.</div>'),ns=e('<p class="subtitle svelte-1nusdek"> </p>'),vs=e('<p class="description svelte-1nusdek"> </p>'),is=e('<div class="actions svelte-1nusdek"><button class="action-btn svelte-1nusdek">Mark next lesson complete</button> <p class="hint svelte-1nusdek">Updates progress and persists to IndexedDB.</p></div>'),rs=e('<section class="panel svelte-1nusdek"><!></section>'),ds=e('<div class="header svelte-1nusdek"><div><p class="eyebrow svelte-1nusdek">Learning Path</p> <h1 class="svelte-1nusdek"> </h1> <!> <!></div> <!></div> <!> <section class="panel svelte-1nusdek"><!></section>',1),os=e('<div class="page svelte-1nusdek"><div class="toolbar svelte-1nusdek"><button class="link svelte-1nusdek">‚Üê Back to all paths</button></div> <!></div>');function cs(s,e){i(e,!0);let l=b(!0),w=b(null),x=b(null),A=b(f([])),B=b(null);v(async()=>{try{const s=await j();k(x,s.find(s=>s.id===e.data.pathId)??null,!0),k(A,await I(e.data.pathId),!0),k(B,await S(e.data.pathId),!0)}catch(s){k(w,s.message??"Failed to load path",!0)}finally{k(l,!1)}});const P=s=>{y(`${$}/learn/paths/${e.data.pathId}/${s}`)};async function H(){if(!m(x)||0===m(A).length)return;const s=m(A).find(s=>!m(B)?.completedLessons.includes(s.id))??m(A)[m(A).length-1];if(!s)return;const a=await _(e.data.pathId,s.id);k(B,a,!0)}var O=os(),X=r(O);r(X).__click=()=>y(`${$}/learn/paths`),o(X);var D=d(X,2),E=s=>{var e=as();t(s,e)},N=s=>{var e=n(),l=u(e),v=s=>{var e=ts(),l=r(e,!0);o(e),p(()=>a(l,m(w))),t(s,e)},i=s=>{var e=n(),l=u(e),v=s=>{var e=ls();t(s,e)},i=s=>{var e=ds(),l=u(e),v=r(l),i=d(r(v),2),g=r(i,!0);o(i);var b=d(i,2),f=s=>{var e=ns(),l=r(e,!0);o(e),p(()=>a(l,m(x).subtitle)),t(s,e)};z(b,s=>{m(x).subtitle&&s(f)});var k=d(b,2),y=s=>{var e=vs(),l=r(e,!0);o(e),p(()=>a(l,m(x).description)),t(s,e)};z(k,s=>{m(x).description&&s(y)}),o(v);var $=d(v,2),w=s=>{var e=is();r(e).__click=H,c(2),o(e),t(s,e)};z($,s=>{m(B)&&s(w)}),o(l);var j=d(l,2),I=s=>{var e=rs(),l=r(e);{let s=h(()=>m(x).lessons?.length??m(A).length),e=h(()=>m(B).totalXP??0),v=h(()=>m(B).timeSpent??m(B).completedLessons.length*(m(x).lessons?.[0]?.duration??15));!function(s,e){let l=M(e,"completed",3,0),v=M(e,"total",3,1),i=M(e,"timeSpent",3,0),c=M(e,"xpEarned",3,0);const g=h(()=>v()>0?Math.round(l()/v()*100):0),b=h(()=>v()-l()),f=h(()=>0===m(g)?"Not started":100===m(g)?"Completed!":m(g)>=75?"Almost done":m(g)>=50?"Halfway there":"Just started"),k=h(()=>0===m(g)?"gray":100===m(g)||m(g)>=75?"success":m(g)>=50?"info":"warning"),y=h(()=>Math.floor(i()/60)),$=h(()=>i()%60),w=h(()=>m(y)>0?`${m(y)}h ${m($)}m`:`${m($)}m`);var x=es(),j=r(x),I=r(j),S=r(I),_=r(S);o(S);var A=d(S,2),B=r(A),P=r(B);o(B);var H=d(B,2),O=r(H);o(H),o(A),o(I);var X=d(I,2),D=r(X),E=r(D),N=s=>{var e=q();t(s,e)},R=s=>{var e=n(),a=u(e),l=s=>{var e=G();t(s,e)},v=s=>{var e=n(),a=u(e),l=s=>{var e=K();t(s,e)},v=s=>{var e=n(),a=u(e),l=s=>{var e=Q();t(s,e)},v=s=>{var e=W();t(s,e)};z(a,s=>{m(g)>=50?s(l):s(v,!1)},!0),t(s,e)};z(a,s=>{m(g)>=75?s(l):s(v,!1)},!0),t(s,e)};z(a,s=>{100===m(g)?s(l):s(v,!1)},!0),t(s,e)};z(E,s=>{0===m(g)?s(N):s(R,!1)}),o(D);var T=d(D,2),U=r(T,!0);o(T),o(X),o(j);var F=d(j,2),J=r(F),V=d(r(J),2),as=d(r(V),2),ts=r(as);o(as),o(V),o(J);var ls=d(J,2),ns=s=>{var e=Y(),l=d(r(e),2),n=d(r(l),2),v=r(n,!0);o(n),o(l),o(e),p(()=>a(v,m(w))),t(s,e)};z(ls,s=>{i()>0&&s(ns)});var vs=d(ls,2),is=s=>{var e=Z(),l=d(r(e),2),n=d(r(l),2),v=r(n);o(n),o(l),o(e),p(()=>a(v,`+${c()??""} XP`)),t(s,e)};z(vs,s=>{c()>0&&s(is)}),o(F);var rs=d(F,2),ds=s=>{var e=ss(),n=d(r(e),2),i=r(n),c=r(i),h=d(c,2),g=r(h);o(h),o(i);var u=d(i,2),f=r(u),k=d(f,2),z=r(k);o(k),o(u),o(n),o(e),p(()=>{L(c,`background: #10b981; width: ${l()/v()*100}%`),a(g,`${l()??""} completed`),L(f,`background: #d1d5db; width: ${m(b)/v()*100}%`),a(z,`${m(b)??""} remaining`)}),t(s,e)};z(rs,s=>{m(g)>0&&s(ds)}),o(x),p(()=>{L(_,`width: ${m(g)??""}%`),a(P,`${l()??""}/${v()??""}`),a(O,`${m(g)??""}%`),C(X,"data-status",m(k)),a(U,m(f)),a(ts,`${m(b)??""} lesson${1!==m(b)?"s":""}`)}),t(s,x)}(l,{get completed(){return m(B).completedLessons.length},get total(){return m(s)},get xpEarned(){return m(e)},get timeSpent(){return m(v)}})}o(e),t(s,e)};z(j,s=>{m(B)&&s(I)});var S=d(j,2),_=r(S);{let s=h(()=>m(B)?.currentLesson);V(_,{get lessons(){return m(A)},get currentLessonId(){return m(s)},onLessonSelect:P})}o(S),p(()=>a(g,m(x).title)),t(s,e)};z(l,s=>{m(x)?s(i,!1):s(v)},!0),t(s,e)};z(l,s=>{m(w)?s(v):s(i,!1)},!0),t(s,e)};z(D,s=>{m(l)?s(E):s(N,!1)}),o(O),t(s,O),g()}s(["click"]);export{cs as component,A as universal};
//# sourceMappingURL=9.BRsrrazK.js.map
