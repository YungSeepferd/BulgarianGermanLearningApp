{"version":3,"file":"15.C9EfzsLi.js","sources":["../../../../../../src/routes/test-navigation/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n  import { onMount } from 'svelte';\n  import PathBrowser from '$lib/components/learning/PathBrowser.svelte';\n  import LessonList from '$lib/components/learning/LessonList.svelte';\n  import ProgressIndicator from '$lib/components/learning/ProgressIndicator.svelte';\n  import type { LearningPath, LearningPathProgress } from '$lib/types/learning-path';\n  import type { Lesson } from '$lib/types/lesson';\n  import {\n    getLearningPaths,\n    getLearningPathProgress,\n    getLessonsForPath,\n    markLessonComplete\n  } from '$lib/services/learning-paths';\n\n  let loading = $state(true);\n  let error = $state<string | null>(null);\n  let paths = $state<LearningPath[]>([]);\n  let selectedPathId = $state<string | null>(null);\n  let selectedPath = $derived(paths.find(p => p.id === selectedPathId) ?? null);\n  let pathProgress = $state<Map<string, LearningPathProgress>>(new Map());\n  let progress = $state<LearningPathProgress | null>(null);\n  let lessons = $state<Lesson[]>([]);\n\n  onMount(async () => {\n    try {\n      loading = true;\n      const loadedPaths = await getLearningPaths();\n      paths = loadedPaths;\n\n      if (!selectedPathId && loadedPaths.length > 0) {\n        selectedPathId = loadedPaths[0]?.id ?? null;\n      }\n\n      if (selectedPathId) {\n        const progressEntry = await getLearningPathProgress(selectedPathId);\n        pathProgress.set(selectedPathId, progressEntry);\n        pathProgress = new Map(pathProgress);\n        progress = progressEntry;\n        lessons = await getLessonsForPath(selectedPathId);\n      }\n    } catch (e) {\n      error = (e as Error).message ?? 'Failed to load navigation data';\n    } finally {\n      loading = false;\n    }\n  });\n\n  async function handleSelect(pathId: string) {\n    selectedPathId = pathId;\n    try {\n      loading = true;\n      const progressEntry = await getLearningPathProgress(pathId);\n      pathProgress.set(pathId, progressEntry);\n      pathProgress = new Map(pathProgress);\n      progress = progressEntry;\n      lessons = await getLessonsForPath(pathId);\n    } finally {\n      loading = false;\n    }\n  }\n\n  async function completeNextLesson() {\n    if (!selectedPath || lessons.length === 0) return;\n\n    const nextLesson = lessons.find((lesson) => !progress?.completedLessons.includes(lesson.id)) ?? lessons[lessons.length - 1];\n    if (!nextLesson) return;\n    const updated = await markLessonComplete(selectedPath.id, nextLesson.id);\n\n    pathProgress.set(selectedPath.id, updated);\n    pathProgress = new Map(pathProgress);\n    progress = updated;\n  }\n</script>\n\n<div class=\"test-page\">\n  <header class=\"page-header\">\n    <h1>Learning Path Navigation - Day 4-5 Components</h1>\n    <p class=\"page-subtitle\">Testing PathBrowser, LessonList, and ProgressIndicator components</p>\n  </header>\n  \n  {#if loading}\n    <div class=\"loading\">Loading navigation…</div>\n  {:else if error}\n    <div class=\"error\">{error}</div>\n  {:else}\n    <div class=\"test-container\">\n      <div class=\"column-left\">\n        <section class=\"test-section\">\n          <h2 class=\"section-title\">Available Learning Paths</h2>\n          <p class=\"section-description\">Browse and select from available learning paths</p>\n          <PathBrowser paths={paths} pathProgress={pathProgress} onPathSelect={handleSelect} />\n        </section>\n      </div>\n      \n      <div class=\"column-right\">\n        {#if selectedPath}\n          <section class=\"test-section\">\n            <h2 class=\"section-title\">Path Progress</h2>\n            {#if progress}\n              <div class=\"actions\">\n                <button class=\"action-btn\" on:click={completeNextLesson}>Mark next lesson complete</button>\n                <p class=\"hint\">Use this to simulate completion and refresh the progress ring.</p>\n              </div>\n              <ProgressIndicator\n                completed={progress.completedLessons.length}\n                total={selectedPath.lessons?.length ?? 0}\n                xpEarned={(progress as any).totalXP ?? 0}\n                timeSpent={progress.timeSpent ?? (progress.completedLessons.length * (lessons.reduce((sum, l) => sum + (l.duration ?? 15), 0) / lessons.length || 15))}\n              />\n            {/if}\n          </section>\n          \n          <section class=\"test-section\">\n            <h2 class=\"section-title\">Lessons</h2>\n            {#if lessons.length > 0}\n              <LessonList lessons={lessons} onLessonSelect={() => { /* nav hook */ }} />\n            {:else}\n              <div class=\"empty-list\">\n                <p>No lessons for this path.</p>\n              </div>\n            {/if}\n          </section>\n        {:else}\n          <div class=\"placeholder\">\n            <svg class=\"placeholder-icon\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\">\n              <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"></path>\n              <circle cx=\"12\" cy=\"7\" r=\"4\"></circle>\n            </svg>\n            <p>Select a learning path to view progress and lessons</p>\n          </div>\n        {/if}\n      </div>\n    </div>\n  {/if}\n  \n  <section class=\"test-section full-width\">\n    <h2 class=\"section-title\">Component Testing Notes</h2>\n    <div class=\"testing-notes\">\n      <div class=\"note-item\">\n        <h4>PathBrowser Component</h4>\n        <ul>\n          <li>✅ Displays learning paths in responsive grid</li>\n          <li>✅ Filter by difficulty level</li>\n          <li>✅ Shows completion statistics</li>\n          <li>✅ Selection state management</li>\n        </ul>\n      </div>\n      \n      <div class=\"note-item\">\n        <h4>ProgressIndicator Component</h4>\n        <ul>\n          <li>✅ Animated progress bar</li>\n          <li>✅ Status indicators (Not started, In progress, Almost done, Completed)</li>\n          <li>✅ Metrics display (remaining, time spent, XP earned)</li>\n          <li>✅ Progress breakdown visualization</li>\n        </ul>\n      </div>\n      \n      <div class=\"note-item\">\n        <h4>PathCard Component (nested in PathBrowser)</h4>\n        <ul>\n          <li>✅ Individual path cards with metadata</li>\n          <li>✅ Circular progress ring visualization</li>\n          <li>✅ Difficulty badges with color coding</li>\n          <li>✅ Quick action buttons</li>\n          <li>✅ Responsive hover states</li>\n        </ul>\n      </div>\n      \n      <div class=\"note-item\">\n        <h4>LessonList Component (ready for integration)</h4>\n        <ul>\n          <li>✅ Lists lessons in learning path</li>\n          <li>✅ Shows completion status with visual indicators</li>\n          <li>✅ Displays lesson metadata (difficulty, time, vocabulary count)</li>\n          <li>✅ Navigation and progress tracking</li>\n        </ul>\n      </div>\n    </div>\n  </section>\n</div>\n\n<style>\n  .test-page {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n    padding: 2rem;\n    background: var(--color-background, #f9fafb);\n    min-height: 100vh;\n  }\n  \n  .page-header {\n    text-align: center;\n    padding-bottom: 1rem;\n    border-bottom: 2px solid var(--color-border, #e5e7eb);\n  }\n  \n  .page-header h1 {\n    margin: 0 0 0.5rem 0;\n    font-size: 2rem;\n    color: var(--color-text-primary, #111827);\n  }\n  \n  .page-subtitle {\n    margin: 0;\n    font-size: 1rem;\n    color: var(--color-text-secondary, #6b7280);\n  }\n  \n  .test-container {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 2rem;\n  }\n  \n  .column-left,\n  .column-right {\n    display: flex;\n    flex-direction: column;\n    gap: 2rem;\n  }\n  \n  .test-section {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    background: var(--color-surface, #ffffff);\n    padding: 1.5rem;\n    border-radius: 0.75rem;\n    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  }\n  \n  .test-section.full-width {\n    grid-column: 1 / -1;\n  }\n  \n  .section-title {\n    margin: 0;\n    font-size: 1.25rem;\n    font-weight: 600;\n    color: var(--color-text-primary, #111827);\n  }\n  \n  .section-description {\n    margin: 0;\n    font-size: 0.875rem;\n    color: var(--color-text-secondary, #6b7280);\n  }\n  \n  .placeholder {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 1rem;\n    padding: 3rem 1rem;\n    text-align: center;\n    color: var(--color-text-secondary, #6b7280);\n    background: var(--color-background, #f9fafb);\n    border-radius: 0.75rem;\n    border: 2px dashed var(--color-border, #d1d5db);\n  }\n  \n  .placeholder-icon {\n    width: 3rem;\n    height: 3rem;\n    opacity: 0.5;\n  }\n  \n  .path-details {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n  }\n  \n  .detail-row {\n    display: flex;\n    justify-content: space-between;\n    gap: 1rem;\n    padding: 0.75rem;\n    background: var(--color-background, #f9fafb);\n    border-radius: 0.5rem;\n  }\n  \n  .detail-label {\n    font-weight: 600;\n    color: var(--color-text-secondary, #6b7280);\n    min-width: 100px;\n  }\n  \n  .detail-value {\n    color: var(--color-text-primary, #111827);\n    text-align: right;\n    flex: 1;\n  }\n  \n  .detail-value.difficulty {\n    display: inline-block;\n    padding: 0.25rem 0.75rem;\n    background: var(--color-primary-light, #dbeafe);\n    color: var(--color-primary-dark, #075985);\n    border-radius: 9999px;\n    font-size: 0.875rem;\n    font-weight: 600;\n  }\n  \n  .testing-notes {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n    gap: 1.5rem;\n  }\n  \n  .note-item {\n    padding: 1rem;\n    background: var(--color-background, #f9fafb);\n    border-left: 3px solid var(--color-primary, #3b82f6);\n    border-radius: 0.5rem;\n  }\n  \n  .note-item h4 {\n    margin: 0 0 0.75rem 0;\n    font-size: 0.95rem;\n    font-weight: 600;\n    color: var(--color-text-primary, #111827);\n  }\n  \n  .note-item ul {\n    margin: 0;\n    padding-left: 1.5rem;\n    list-style: none;\n  }\n  \n  .note-item li {\n    margin: 0.5rem 0;\n    font-size: 0.875rem;\n    color: var(--color-text-secondary, #6b7280);\n  }\n  \n  .note-item li:before {\n    content: '✓ ';\n    color: var(--color-success, #10b981);\n    font-weight: 600;\n    margin-right: 0.5rem;\n  }\n\n  .actions {\n    display: flex;\n    gap: 0.75rem;\n    align-items: center;\n    flex-wrap: wrap;\n  }\n\n  .action-btn {\n    padding: 0.6rem 1rem;\n    border-radius: 0.5rem;\n    border: 1px solid var(--color-primary, #3b82f6);\n    background: var(--color-primary, #3b82f6);\n    color: #fff;\n    cursor: pointer;\n    font-weight: 600;\n    transition: transform 0.15s ease, box-shadow 0.15s ease;\n  }\n\n  .action-btn:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 6px 18px rgba(59, 130, 246, 0.25);\n  }\n\n  .action-btn:focus-visible {\n    outline: 3px solid rgba(59, 130, 246, 0.35);\n    outline-offset: 2px;\n  }\n\n  .hint {\n    margin: 0;\n    color: var(--color-text-secondary, #6b7280);\n    font-size: 0.875rem;\n  }\n  \n  @media (max-width: 1024px) {\n    .test-container {\n      grid-template-columns: 1fr;\n    }\n  }\n  \n  @media (max-width: 640px) {\n    .test-page {\n      padding: 1rem;\n      gap: 1rem;\n    }\n    \n    .page-header h1 {\n      font-size: 1.5rem;\n    }\n    \n    .test-section {\n      padding: 1rem;\n    }\n    \n    .testing-notes {\n      grid-template-columns: 1fr;\n    }\n  }\n</style>\n"],"names":["loading","$.state","error","paths","$.proxy","selectedPathId","selectedPath","$.derived","$.get","find","p","id","pathProgress","Map","progress","lessons","handleSelect","pathId","$.set","progressEntry","getLearningPathProgress","set","getLessonsForPath","async","completeNextLesson","length","nextLesson","lesson","completedLessons","includes","updated","markLessonComplete","onMount","loadedPaths","getLearningPaths","e","message","div","root","div_1","root_1","div_2","root_3","div_3","root_4","div_4","section","PathBrowser","node_2","div_5","section_1","$.first_child","fragment_1","div_6","fragment_2","button","$0","totalXP","$2","timeSpent","reduce","sum","l","duration","ProgressIndicator","node_5","$.event","$$render","consequent_2","section_2","LessonList","$$anchor","div_7","root_8","consequent_3","alternate","div_8","root_9","consequent_4","alternate_1","consequent_1","alternate_2","consequent","alternate_3"],"mappings":"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"}