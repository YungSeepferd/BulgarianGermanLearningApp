import{d as s,f as a,a as t,c as e,s as l}from"../chunks/Df5ltUoG.js";import{o as r}from"../chunks/BVLhrf_7.js";import{W as c,Y as o,$ as i,a0 as n,_ as v,a5 as d,a2 as u,v as f,a6 as p,Z as h}from"../chunks/BkkwGZv8.js";import{i as k}from"../chunks/BCvKA9Gv.js";import{e as m,i as b}from"../chunks/CAxr9ube.js";import{g}from"../chunks/DbxaTNLn.js";import{b as q}from"../chunks/Ba-8J6NE.js";import{b as j,a as y,m as I}from"../chunks/DbbWWgvA.js";const _=Object.freeze(Object.defineProperty({__proto__:null,load:async({params:s})=>({pathId:s.path,lessonId:s.lesson})},Symbol.toStringTag,{value:"Module"}));var $=a('<div class="state svelte-15qk9cf">Loading lesson…</div>'),L=a('<div class="state error svelte-15qk9cf"> </div>'),w=a('<div class="state svelte-15qk9cf">Lesson not found.</div>'),O=a('<p class="subtitle svelte-15qk9cf"> </p>'),T=a('<p class="hint svelte-15qk9cf"> </p>'),D=a('<li><strong class="svelte-15qk9cf">Level:</strong> </li>'),P=a('<li><strong class="svelte-15qk9cf">Vocabulary IDs:</strong> </li>'),x=a("<li> </li>"),z=a("<h4>Objectives</h4> <ul></ul>",1),M=a("<li> </li>"),S=a("<h4>Grammar Topics</h4> <ul></ul>",1),A=a('<header class="header svelte-15qk9cf"><div><p class="eyebrow svelte-15qk9cf">Lesson</p> <h1 class="svelte-15qk9cf"> </h1> <!></div> <div class="actions svelte-15qk9cf"><button class="action-btn svelte-15qk9cf">Mark lesson complete</button> <!></div></header> <section class="panel svelte-15qk9cf"><h3>Details</h3> <ul class="meta svelte-15qk9cf"><li><strong class="svelte-15qk9cf">Path:</strong> </li> <li><strong class="svelte-15qk9cf">Duration:</strong> </li> <!> <!></ul> <!> <!></section>',1),B=a('<div class="page svelte-15qk9cf"><div class="toolbar svelte-15qk9cf"><button class="link svelte-15qk9cf">← Back to path</button></div> <!></div>');function F(s,a){c(a,!0);let _=v(!0),F=v(null),G=v(null),V=v(null);r(async()=>{try{const s=await j(a.data.pathId);n(G,s.find(s=>s.id===a.data.lessonId)??null,!0),n(V,await y(a.data.pathId),!0)}catch(s){n(F,s.message??"Failed to load lesson",!0)}finally{n(_,!1)}});async function W(){if(!f(G))return;const s=await I(a.data.pathId,f(G).id);n(V,s,!0)}var Y=B(),Z=o(Y);o(Z).__click=()=>g(`${q}/learn/paths/${a.data.pathId}`),d(Z);var C=u(Z,2),E=s=>{var a=$();t(s,a)},H=s=>{var r=e(),c=p(r),i=s=>{var a=L(),e=o(a,!0);d(a),h(()=>l(e,f(F))),t(s,a)},n=s=>{var r=e(),c=p(r),i=s=>{var a=w();t(s,a)},n=s=>{var e=A(),r=p(e),c=o(r),i=u(o(c),2),n=o(i,!0);d(i);var v=u(i,2),g=s=>{var a=O(),e=o(a,!0);d(a),h(()=>l(e,f(G).subtitle)),t(s,a)};k(v,s=>{f(G).subtitle&&s(g)}),d(c);var q=u(c,2),j=o(q);j.__click=W;var y=u(j,2),I=s=>{var a=T(),e=o(a);d(a),h(()=>l(e,`Progress is persisted; current lesson: ${f(V).currentLesson??""}`)),t(s,a)};k(y,s=>{f(V)&&s(I)}),d(q),d(r);var _=u(r,2),$=u(o(_),2),L=o($),w=u(o(L));d(L);var B=u(L,2),F=u(o(B));d(B);var Y=u(B,2),Z=s=>{var a=D(),e=u(o(a));d(a),h(()=>l(e,` ${f(G).difficulty??""}`)),t(s,a)};k(Y,s=>{f(G).difficulty&&s(Z)});var C=u(Y,2),E=s=>{var a=P(),e=u(o(a));d(a),h(s=>l(e,` ${s??""}`),[()=>f(G).vocabularyIds.join(", ")]),t(s,a)};k(C,s=>{f(G).vocabularyIds?.length&&s(E)}),d($);var H=u($,2),J=s=>{var a=z(),e=u(p(a),2);m(e,21,()=>f(G).objectives,b,(s,a)=>{var e=x(),r=o(e,!0);d(e),h(()=>l(r,f(a))),t(s,e)}),d(e),t(s,a)};k(H,s=>{f(G).objectives?.length&&s(J)});var K=u(H,2),N=s=>{var a=S(),e=u(p(a),2);m(e,21,()=>f(G).grammarTopics,b,(s,a)=>{var e=M(),r=o(e,!0);d(e),h(()=>l(r,f(a))),t(s,e)}),d(e),t(s,a)};k(K,s=>{f(G).grammarTopics?.length&&s(N)}),d(_),h(()=>{l(n,f(G).title),l(w,` ${a.data.pathId??""}`),l(F,` ${f(G).duration??15??""} min`)}),t(s,e)};k(c,s=>{f(G)?s(n,!1):s(i)},!0),t(s,r)};k(c,s=>{f(F)?s(i):s(n,!1)},!0),t(s,r)};k(C,s=>{f(_)?s(E):s(H,!1)}),d(Y),t(s,Y),i()}s(["click"]);export{F as component,_ as universal};
//# sourceMappingURL=10.CX6_02Qr.js.map
