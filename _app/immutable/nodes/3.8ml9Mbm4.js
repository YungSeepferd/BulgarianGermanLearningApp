import{d as e,c as s,a as t,f as i,s as n}from"../chunks/gx1VKbRt.js";import{c as r,o as a}from"../chunks/DB-S5UIA.js";import{W as c,a6 as l,v as o,a3 as d,$ as u,Y as v,a5 as p,a2 as b,_ as x,Z as y,a0 as m,ad as f}from"../chunks/3_z0oAFI.js";import{i as k}from"../chunks/Bssz8Qx1.js";import{s as g}from"../chunks/C8Ux0OK8.js";import{F as h,M as q,O as _,T as I}from"../chunks/Noj4Nr_w.js";import{e as $}from"../chunks/BTsVLaoH.js";import{b as w}from"../chunks/BJnTXE_w.js";var C=i('<span class="icon svelte-16qnimb">âœ“</span>'),A=i('<span class="icon svelte-16qnimb">âœ—</span>'),G=i('<button><span class="option-text svelte-16qnimb"> </span> <!> <!></button>'),S=i('<div class="action-buttons svelte-16qnimb"><button class="btn btn-primary svelte-16qnimb">Check Answer</button> <button class="btn btn-secondary svelte-16qnimb">Skip</button></div>'),j=i('<span class="feedback-icon svelte-16qnimb">âœ“</span> <span>Correct!</span>',1),Q=i('<span class="feedback-icon svelte-16qnimb">âœ—</span> <span>Incorrect. The correct answer is: <strong class="svelte-16qnimb"> </strong></span>',1),F=i('<div class="explanation svelte-16qnimb"><strong class="svelte-16qnimb">Explanation:</strong> <p class="svelte-16qnimb"> </p></div>'),P=i('<div><!></div> <!> <div class="action-buttons svelte-16qnimb"><button class="btn btn-primary svelte-16qnimb">Next</button> <button class="btn btn-secondary svelte-16qnimb">Skip</button></div>',1),T=i('<div class="multiple-choice svelte-16qnimb"><div class="question svelte-16qnimb"><h3 class="svelte-16qnimb"> </h3></div> <div class="options svelte-16qnimb"></div> <!></div>');function O(e,i){c(i,!0);const a=r();let g=x(null),h=x(!1),q=x(!1);const _=d(()=>i.exercise.questions[i.exercise.currentQuestionIndex]);function I(){if(!o(g)||!o(_))return;const e=o(_).options.find(e=>e.isCorrect);m(q,o(g)===(e?.id||null)),m(h,!0),i.exercise.feedback.push({questionId:o(_).id,isCorrect:o(q),userAnswer:o(g),correctAnswerId:e?.id||""}),i.exercise.userAnswers.push(o(g))}function O(){m(g,null),m(h,!1),a("next")}function W(){i.exercise.userAnswers.push(""),a("skip")}var E=s(),V=l(E),M=e=>{var s=T(),i=v(s),r=v(i),a=v(r,!0);p(r),p(i);var c=b(i,2);$(c,21,()=>o(_).options,e=>e.id,(e,s)=>{var i=G();i.__click=()=>{return e=o(s).id,void(o(h)||m(g,e,!0));var e};var r=v(i),a=v(r,!0);p(r);var c=b(r,2),l=e=>{var s=C();t(e,s)};k(c,e=>{o(h)&&o(s).isCorrect&&e(l)});var d=b(c,2),u=e=>{var s=A();t(e,s)};k(d,e=>{o(h)&&o(g)===o(s).id&&!o(q)&&e(u)}),p(i),y(()=>{w(i,1,`option ${o(g)===o(s).id?"selected":""} ${o(h)&&o(s).isCorrect?"correct":""} ${o(h)&&o(g)===o(s).id&&!o(q)?"incorrect":""}`,"svelte-16qnimb"),i.disabled=o(h),n(a,o(s).text)}),t(e,i)}),p(c);var d=b(c,2),u=e=>{var s=S(),i=v(s);i.__click=I,b(i,2).__click=W,p(s),y(()=>i.disabled=!o(g)),t(e,s)},x=e=>{var s=P(),i=l(s),r=v(i),a=e=>{var s=j();f(2),t(e,s)},c=e=>{var s=Q(),i=b(l(s),2),r=b(v(i)),a=v(r,!0);p(r),p(i),y(e=>n(a,e),[()=>(o(_)?.options.find(e=>e.isCorrect))?.text]),t(e,s)};k(r,e=>{o(q)?e(a):e(c,!1)}),p(i);var d=b(i,2),u=e=>{var s=F(),i=b(v(s),2),r=v(i,!0);p(i),p(s),y(()=>n(r,o(_).explanation)),t(e,s)};k(d,e=>{o(_).explanation&&e(u)});var x=b(d,2),m=v(x);m.__click=O,b(m,2).__click=W,p(x),y(()=>w(i,1,"feedback "+(o(q)?"correct":"incorrect"),"svelte-16qnimb")),t(e,s)};k(d,e=>{o(h)?e(x,!1):e(u)}),p(s),y(()=>n(a,o(_).question)),t(e,s)};k(V,e=>{o(_)&&e(M)}),t(e,E),u()}e(["click"]);var W=i('<span class="question-counter svelte-yca42x"> </span>'),E=i('<div class="progress-fill svelte-yca42x"></div>'),V=i('<button type="button" class="btn btn-primary svelte-yca42x"> </button>'),M=i('<div class="exercise-container svelte-yca42x"><div class="exercise-header svelte-yca42x"><div class="progress-info svelte-yca42x"><!></div> <div class="progress-bar svelte-yca42x"><!></div></div> <div class="exercise-content svelte-yca42x"><!></div> <div class="exercise-footer svelte-yca42x"><button type="button" class="btn btn-secondary svelte-yca42x">Skip</button> <!></div></div>');function N(e,i){c(i,!0);let r=d(()=>{if("fill-in-blank"===i.exercise.type||"multiple-choice"===i.exercise.type||"typing"===i.exercise.type){return{current:i.exercise.currentQuestionIndex+1,total:i.exercise.questions.length}}return{current:0,total:0}});function a(){if("fill-in-blank"===i.exercise.type||"multiple-choice"===i.exercise.type||"typing"===i.exercise.type){const e=i.exercise;e.currentQuestionIndex<e.questions.length-1?e.currentQuestionIndex++:i.onComplete&&i.onComplete({exerciseId:i.exercise.id,exerciseType:i.exercise.type,feedback:i.exercise.feedback||[],isComplete:!0})}}function x(){i.onSkip&&i.onSkip()}var m=M(),f=v(m),$=v(f),w=v($),C=e=>{var s=W(),i=v(s);p(s),y(()=>n(i,`Question ${o(r).current??""} of ${o(r).total??""}`)),t(e,s)};k(w,e=>{o(r).total>0&&e(C)}),p($);var A=b($,2),G=v(A),S=e=>{var s=E();y(()=>g(s,`width: ${o(r).current/o(r).total*100}%`)),t(e,s)};k(G,e=>{o(r).total>0&&e(S)}),p(A),p(f);var j=b(f,2),Q=v(j),F=e=>{h(e,{get exercise(){return i.exercise},$$events:{next:a,skip:x}})},P=e=>{var n=s(),r=l(n),c=e=>{O(e,{get exercise(){return i.exercise},$$events:{next:a,skip:x}})},o=e=>{var n=s(),r=l(n),c=e=>{q(e,{get exercise(){return i.exercise},$$events:{skip:x}})},o=e=>{var n=s(),r=l(n),c=e=>{_(e,{get exercise(){return i.exercise},$$events:{skip:x}})},o=e=>{var n=s(),r=l(n),c=e=>{I(e,{get exercise(){return i.exercise},$$events:{next:a,skip:x}})};k(r,e=>{"typing"===i.exercise.type&&e(c)},!0),t(e,n)};k(r,e=>{"ordering"===i.exercise.type?e(c):e(o,!1)},!0),t(e,n)};k(r,e=>{"matching"===i.exercise.type?e(c):e(o,!1)},!0),t(e,n)};k(r,e=>{"multiple-choice"===i.exercise.type?e(c):e(o,!1)},!0),t(e,n)};k(Q,e=>{"fill-in-blank"===i.exercise.type?e(F):e(P,!1)}),p(j);var T=b(j,2),N=v(T);N.__click=x;var R=b(N,2),D=e=>{var s=V();s.__click=a;var i=v(s,!0);p(s),y(()=>n(i,o(r).current===o(r).total?"Complete":"Next")),t(e,s)};k(R,e=>{"fill-in-blank"!==i.exercise.type&&"multiple-choice"!==i.exercise.type&&"typing"!==i.exercise.type||e(D)}),p(T),p(m),t(e,m),u()}e(["click"]);var R=i('<div class="loading svelte-uy2dd0"><div class="spinner svelte-uy2dd0"></div> <p>Loading exercise...</p></div>'),D=i('<div class="completion-screen svelte-uy2dd0"><div class="success-icon svelte-uy2dd0">ðŸŽ‰</div> <h2 class="svelte-uy2dd0">Exercise Complete!</h2> <p class="svelte-uy2dd0">Great job! You\'ve completed the exercise.</p> <button class="btn btn-primary svelte-uy2dd0">Start New Exercise</button></div>'),Y=i('<div class="exercise-wrapper svelte-uy2dd0"><!></div>'),Z=i('<div class="error svelte-uy2dd0"><p>Failed to load exercise. Please try again.</p> <button class="btn btn-primary svelte-uy2dd0">Reload</button></div>'),z=i('<div class="exercises-page svelte-uy2dd0"><div class="header svelte-uy2dd0"><h1 class="svelte-uy2dd0">Practice Exercises</h1> <p class="subtitle svelte-uy2dd0">Improve your language skills with interactive exercises</p></div> <div class="content svelte-uy2dd0"><!></div></div>');function L(e,i){c(i,!0);let n=x(null),r=x(!0),d=x(!1);function y(){m(d,!0)}function f(){if(o(n)&&"matching"!==o(n).type&&"ordering"!==o(n).type){const e=o(n);e.currentQuestionIndex<e.questions.length-1&&e.currentQuestionIndex++}}function g(){m(d,!1),m(n,{id:"exercise-1",type:"fill-in-blank",currentQuestionIndex:0,userAnswers:[],isComplete:!1,feedback:[],questions:[{id:"q1",vocabularyId:"vocab-guten-tag",german:"Guten _",bulgarian:"Ð”Ð¾Ð±ÑŠÑ€ _",partOfSpeech:"noun",difficulty:"easy",type:"fill-in-blank",question:'Fill in the blank: "Guten ___"',blankPosition:12,correctAnswer:"Tag",acceptedVariations:["tag","TAG"],hints:["German greeting",'Means "day"'],source:"german"},{id:"q2",vocabularyId:"vocab-dir",german:"Wie geht es _?",bulgarian:"ÐšÐ°Ðº ÑÐ¸ _?",partOfSpeech:"other",difficulty:"easy",type:"fill-in-blank",question:'Fill in the blank: "Wie geht es ___?"',blankPosition:16,correctAnswer:"dir",acceptedVariations:["dir","DIR"],hints:["German question",'Informal "you"'],source:"german"}]},!0)}a(async()=>{try{m(n,{id:"exercise-1",type:"fill-in-blank",currentQuestionIndex:0,userAnswers:[],isComplete:!1,feedback:[],questions:[{id:"q1",vocabularyId:"vocab-guten-tag",german:"Guten _",bulgarian:"Ð”Ð¾Ð±ÑŠÑ€ _",partOfSpeech:"noun",difficulty:"easy",type:"fill-in-blank",question:'Fill in the blank: "Guten ___"',blankPosition:12,correctAnswer:"Tag",acceptedVariations:["tag","TAG"],hints:["German greeting",'Means "day"'],source:"german"},{id:"q2",vocabularyId:"vocab-dir",german:"Wie geht es _?",bulgarian:"ÐšÐ°Ðº ÑÐ¸ _?",partOfSpeech:"other",difficulty:"easy",type:"fill-in-blank",question:'Fill in the blank: "Wie geht es ___?"',blankPosition:16,correctAnswer:"dir",acceptedVariations:["dir","DIR"],hints:["German question",'Informal "you"'],source:"german"}]},!0),m(r,!1)}catch(e){console.error("Failed to load exercise:",e),m(r,!1)}});var h=z(),q=b(v(h),2),_=v(q),I=e=>{var s=R();t(e,s)},$=e=>{var i=s(),r=l(i),a=e=>{var s=D();b(v(s),6).__click=g,p(s),t(e,s)},c=e=>{var i=s(),r=l(i),a=e=>{var s=Y();N(v(s),{get exercise(){return o(n)},onComplete:y,onSkip:f}),p(s),t(e,s)},c=e=>{var s=Z();b(v(s),2).__click=()=>location.reload(),p(s),t(e,s)};k(r,e=>{o(n)?e(a):e(c,!1)},!0),t(e,i)};k(r,e=>{o(d)?e(a):e(c,!1)},!0),t(e,i)};k(_,e=>{o(r)?e(I):e($,!1)}),p(q),p(h),t(e,h),u()}e(["click"]);export{L as component};
//# sourceMappingURL=3.8ml9Mbm4.js.map
