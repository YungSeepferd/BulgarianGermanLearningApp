{"version":3,"file":"0.DVIoV5gg.js","sources":["../../../../../../src/routes/+layout.ts","../../../../../../node_modules/.pnpm/@sveltejs+kit@2.49.2_@sveltejs+vite-plugin-svelte@6.2.1_svelte@5.45.8_vite@7.2.7_jiti@2_d0523757504627624f94848e6432532a/node_modules/@sveltejs/kit/src/runtime/app/stores.js","../../../../../../src/lib/components/Navigation.svelte","../../../../../../src/routes/+layout.svelte"],"sourcesContent":["export const ssr = false;\nexport const prerender = false;","import { getContext } from 'svelte';\nimport { BROWSER, DEV } from 'esm-env';\nimport { stores as browser_stores } from '../client/client.js';\n\n/**\n * A function that returns all of the contextual stores. On the server, this must be called during component initialization.\n * Only use this if you need to defer store subscription until after the component has mounted, for some reason.\n *\n * @deprecated Use `$app/state` instead (requires Svelte 5, [see docs for more info](https://svelte.dev/docs/kit/migrating-to-sveltekit-2#SvelteKit-2.12:-$app-stores-deprecated))\n */\nexport const getStores = () => {\n\tconst stores = BROWSER ? browser_stores : getContext('__svelte__');\n\n\treturn {\n\t\t/** @type {typeof page} */\n\t\tpage: {\n\t\t\tsubscribe: stores.page.subscribe\n\t\t},\n\t\t/** @type {typeof navigating} */\n\t\tnavigating: {\n\t\t\tsubscribe: stores.navigating.subscribe\n\t\t},\n\t\t/** @type {typeof updated} */\n\t\tupdated: stores.updated\n\t};\n};\n\n/**\n * A readable store whose value contains page data.\n *\n * On the server, this store can only be subscribed to during component initialization. In the browser, it can be subscribed to at any time.\n *\n * @deprecated Use `page` from `$app/state` instead (requires Svelte 5, [see docs for more info](https://svelte.dev/docs/kit/migrating-to-sveltekit-2#SvelteKit-2.12:-$app-stores-deprecated))\n * @type {import('svelte/store').Readable<import('@sveltejs/kit').Page>}\n */\nexport const page = {\n\tsubscribe(fn) {\n\t\tconst store = DEV ? get_store('page') : getStores().page;\n\t\treturn store.subscribe(fn);\n\t}\n};\n\n/**\n * A readable store.\n * When navigating starts, its value is a `Navigation` object with `from`, `to`, `type` and (if `type === 'popstate'`) `delta` properties.\n * When navigating finishes, its value reverts to `null`.\n *\n * On the server, this store can only be subscribed to during component initialization. In the browser, it can be subscribed to at any time.\n *\n * @deprecated Use `navigating` from `$app/state` instead (requires Svelte 5, [see docs for more info](https://svelte.dev/docs/kit/migrating-to-sveltekit-2#SvelteKit-2.12:-$app-stores-deprecated))\n * @type {import('svelte/store').Readable<import('@sveltejs/kit').Navigation | null>}\n */\nexport const navigating = {\n\tsubscribe(fn) {\n\t\tconst store = DEV ? get_store('navigating') : getStores().navigating;\n\t\treturn store.subscribe(fn);\n\t}\n};\n\n/**\n * A readable store whose initial value is `false`. If [`version.pollInterval`](https://svelte.dev/docs/kit/configuration#version) is a non-zero value, SvelteKit will poll for new versions of the app and update the store value to `true` when it detects one. `updated.check()` will force an immediate check, regardless of polling.\n *\n * On the server, this store can only be subscribed to during component initialization. In the browser, it can be subscribed to at any time.\n *\n * @deprecated Use `updated` from `$app/state` instead (requires Svelte 5, [see docs for more info](https://svelte.dev/docs/kit/migrating-to-sveltekit-2#SvelteKit-2.12:-$app-stores-deprecated))\n * @type {import('svelte/store').Readable<boolean> & { check(): Promise<boolean> }}\n */\nexport const updated = {\n\tsubscribe(fn) {\n\t\tconst store = DEV ? get_store('updated') : getStores().updated;\n\n\t\tif (BROWSER) {\n\t\t\tupdated.check = store.check;\n\t\t}\n\n\t\treturn store.subscribe(fn);\n\t},\n\tcheck: () => {\n\t\tthrow new Error(\n\t\t\tBROWSER\n\t\t\t\t? 'Cannot check updated store before subscribing'\n\t\t\t\t: 'Can only check updated store in browser'\n\t\t);\n\t}\n};\n\n/**\n * @template {keyof ReturnType<typeof getStores>} Name\n * @param {Name} name\n * @returns {ReturnType<typeof getStores>[Name]}\n */\nfunction get_store(name) {\n\ttry {\n\t\treturn getStores()[name];\n\t} catch {\n\t\tthrow new Error(\n\t\t\t`Cannot subscribe to '${name}' store on the server outside of a Svelte component, as it is bound to the current request via component context. This prevents state from leaking between users.` +\n\t\t\t\t'For more information, see https://svelte.dev/docs/kit/state-management#avoid-shared-state-on-the-server'\n\t\t);\n\t}\n}\n","<script lang=\"ts\">\n  /**\n   * Navigation Component\n   *\n   * Provides navigation links for the language learning application.\n   */\n\n  import { page } from '$app/stores';\n  import { base } from '$app/paths';\n  import { appState } from '$lib/state/app-state';\n  import { t, getCurrentLanguage, isTranslationsLoading, onTranslationsChange, offTranslationsChange } from '$lib/services/localization';\n  import { onMount } from 'svelte';\n\n  // Default navigation items with base path support for GitHub Pages deployment\n  const defaultNavItems = [\n    { translationKey: 'navigation.dashboard', path: '/', icon: 'ðŸ ' },\n    { translationKey: 'navigation.vocabulary', path: '/vocabulary', icon: 'ðŸ“š' },\n    { translationKey: 'navigation.grammar', path: '/grammar', icon: 'ðŸ“–' },\n    { translationKey: 'navigation.practice', path: '/practice', icon: 'ðŸŽ¯' },\n    { translationKey: 'navigation.learn', path: '/learn', icon: 'ðŸ§ ' }\n  ];\n\n  // Helper function to apply base path to navigation paths\n  function getNavPath(path: string): string {\n    if (path === '/') return base || '/';\n    return `${base}${path}`;\n  }\n\n  // Navigation items with reactive translations\n  let { navItems = [] } = $props();\n\n  // Reactive variables\n  let currentPath = $derived.by(() => $page.url.pathname);\n  let userSettingsLabel = $state('');\n  let homeLabel = $state('');\n  let appNameLabel = $state('');\n  let translatedNavItems = $state([]);\n  let directionLabel = $state('');\n  let languageCode = $state<'de' | 'bg'>(getCurrentLanguage());\n  let languageToggleAria = $state('Switch language direction');\n\n  function getDirectionFallback(): string {\n    return appState.languageMode === 'DE_BG' ? 'German â†’ Bulgarian' : 'Bulgarian â†’ German';\n  }\n\n  function buildDirectionLabel(isLoading: boolean): string {\n    if (isLoading) return getDirectionFallback();\n    return appState.languageMode === 'DE_BG'\n      ? t('directions.de_to_bg') || 'German â†’ Bulgarian'\n      : t('directions.bg_to_de') || 'Bulgarian â†’ German';\n  }\n\n  function buildLanguageToggleAria(isLoading: boolean): string {\n    if (isLoading) return 'Switch language direction';\n    return appState.languageMode === 'DE_BG'\n      ? 'Current language direction: German to Bulgarian. Click to switch to Bulgarian to German.'\n      : 'Current language direction: Bulgarian to German. Click to switch to German to Bulgarian.';\n  }\n\n  // Update translations reactively\n  function updateTranslations() {\n    const loading = isTranslationsLoading();\n\n    userSettingsLabel = loading ? 'Loadingâ€¦' : (t('navigation.user_settings') || 'User Settings');\n    homeLabel = loading ? 'Loadingâ€¦' : (t('navigation.home') || 'Home');\n    appNameLabel = loading ? 'BulgarianApp' : (t('navigation.app_name') || 'BulgarianApp');\n    directionLabel = buildDirectionLabel(loading);\n    languageCode = getCurrentLanguage();\n    languageToggleAria = buildLanguageToggleAria(loading);\n\n    translatedNavItems = navItems.length > 0\n      ? navItems\n      : defaultNavItems.map(item => ({\n          ...item,\n          name: loading\n            ? 'Loadingâ€¦'\n            : (t(item.translationKey) || item.translationKey.split('.').pop())\n        }));\n  }\n\n  // Set up reactive translation updates\n  onMount(() => {\n    updateTranslations(); // Initial update\n    onTranslationsChange(updateTranslations);\n\n    return () => {\n      offTranslationsChange(updateTranslations);\n    };\n  });\n\n  function handleToggleLanguage() {\n    appState.toggleDirection();\n    // Immediate optimistic UI update while translations reload\n    directionLabel = buildDirectionLabel(isTranslationsLoading());\n    languageCode = getCurrentLanguage();\n    languageToggleAria = buildLanguageToggleAria(isTranslationsLoading());\n  }\n</script>\n\n<nav class=\"navigation\" aria-label=\"Main navigation\">\n  <div class=\"navigation-container\">\n    <div class=\"logo\">\n      <a href={getNavPath('/')} aria-label={homeLabel}>\n        <span class=\"logo-icon\">ðŸ‡§ðŸ‡¬ðŸ‡©ðŸ‡ª</span>\n        <span class=\"logo-text\">{appNameLabel}</span>\n      </a>\n    </div>\n\n    <ul class=\"nav-list\">\n      {#each translatedNavItems as item}\n        <li class=\"nav-item\">\n          <a\n            href={getNavPath(item.path)}\n            class=\"nav-link {currentPath === item.path ? 'active' : ''}\"\n            aria-current={currentPath === item.path ? 'page' : undefined}\n          >\n            <span class=\"nav-icon\" aria-hidden=\"true\">{item.icon}</span>\n            <span class=\"nav-text\">{item.name}</span>\n          </a>\n        </li>\n      {/each}\n    </ul>\n\n    <div class=\"nav-actions\">\n      <button\n        class=\"language-toggle\"\n        onclick={handleToggleLanguage}\n        aria-label={languageToggleAria}\n        aria-live=\"polite\"\n      >\n        <span class=\"lang-code\">{languageCode.toUpperCase()}</span>\n        <span class=\"lang-direction\">{directionLabel}</span>\n      </button>\n    </div>\n  </div>\n</nav>\n\n<style>\n  .navigation {\n    background: white;\n    border-bottom: 1px solid #e5e7eb;\n    padding: 0 1rem;\n    position: sticky;\n    top: 0;\n    z-index: 50;\n  }\n\n  .navigation-container {\n    max-width: 1200px;\n    margin: 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: 60px;\n  }\n\n  .logo {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .logo a {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    text-decoration: none;\n    color: #1e293b;\n  }\n\n  .logo-icon {\n    font-size: 1.25rem;\n  }\n\n  .logo-text {\n    font-weight: 600;\n    font-size: 1rem;\n  }\n\n  .nav-list {\n    display: flex;\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    gap: 1rem;\n  }\n\n  .nav-item {\n    height: 100%;\n  }\n\n  .nav-link {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 0 1rem;\n    height: 100%;\n    text-decoration: none;\n    color: #64748b;\n    font-size: 0.875rem;\n    font-weight: 500;\n    transition: all 0.2s ease;\n    border-bottom: 2px solid transparent;\n  }\n\n  .nav-link:hover {\n    color: #3b82f6;\n  }\n\n  .nav-link.active {\n    color: #3b82f6;\n    border-bottom-color: #3b82f6;\n  }\n\n  .nav-icon {\n    font-size: 1.125rem;\n    margin-bottom: 0.25rem;\n  }\n\n  .nav-actions {\n    display: flex;\n    gap: 0.5rem;\n    align-items: center;\n  }\n\n  .language-toggle {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.4rem 0.75rem;\n    border: 1px solid #e2e8f0;\n    border-radius: 999px;\n    background: #f8fafc;\n    color: #0f172a;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    font-size: 0.85rem;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n  }\n\n  .language-toggle:hover {\n    background: #e2e8f0;\n    border-color: #cbd5e1;\n  }\n\n  .language-toggle:focus {\n    outline: 2px solid #3b82f6;\n    outline-offset: 2px;\n  }\n\n  .lang-code {\n    font-weight: 700;\n    letter-spacing: 0.02em;\n  }\n\n  .lang-direction {\n    color: #475569;\n    font-size: 0.8rem;\n    white-space: nowrap;\n  }\n\n  @media (max-width: 1024px) {\n    .nav-list {\n      gap: 0.5rem;\n    }\n\n    .nav-link {\n      padding: 0 0.75rem;\n    }\n  }\n\n  @media (max-width: 768px) {\n    .navigation-container {\n      height: 50px;\n    }\n\n    .logo-text {\n      display: none;\n    }\n\n    .nav-link {\n      padding: 0 0.5rem;\n    }\n\n    .nav-text {\n      display: none;\n    }\n\n    .nav-icon {\n      margin-bottom: 0;\n    }\n  }\n</style>","<script lang=\"ts\">\n  import Navigation from '$lib/components/Navigation.svelte';\n  // Layout shell: no page-level logic needed here\n\n  let { children } = $props();\n</script>\n\n<div class=\"app-layout\">\n  <Navigation />\n  <main>\n    {@render children()}\n  </main>\n</div>\n\n\n<style>\n  :global(html) {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    font-size: 16px;\n    line-height: 1.5;\n    color: #333;\n  }\n\n  :global(body) {\n    margin: 0;\n    padding: 0;\n    background-color: #f5f5f5;\n  }\n\n  .app-layout {\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n  }\n\n  main {\n    flex: 1;\n    padding: 2rem;\n    background-color: white;\n  }\n\n  @media (min-width: 769px) {\n    main {\n      max-width: 1200px;\n      margin: 0 auto;\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    }\n  }\n</style>"],"names":["page","subscribe","fn","stores","browser_stores","navigating","updated","getStores","defaultNavItems","translationKey","path","icon","getNavPath","base","navItems","$.prop","$$props","currentPath","$.derived","url","pathname","userSettingsLabel","$.state","homeLabel","appNameLabel","translatedNavItems","$.proxy","directionLabel","languageCode","getCurrentLanguage","languageToggleAria","buildDirectionLabel","isLoading","appState","languageMode","t","buildLanguageToggleAria","updateTranslations","loading","isTranslationsLoading","$.set","length","map","item","name","split","pop","onMount","onTranslationsChange","offTranslationsChange","nav","root","div","div_1","a","span","ul","$.get","$.index","$$anchor","li","root_1","a_1","$.child","span_1","span_2","$.reset","$.set_attribute","$0","$.set_text","text_1","text_2","div_2","button","__click","toggleDirection","span_3","span_4","toUpperCase","Navigation","node","main","$.sibling"],"mappings":"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","x_google_ignoreList":[1]}