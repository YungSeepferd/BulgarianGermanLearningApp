{"version":3,"file":"0.CQfo__tW.js","sources":["../../../../../../src/routes/+layout.ts","../../../../../../src/lib/components/Navigation.svelte","../../../../../../src/routes/+layout.svelte"],"sourcesContent":["export const ssr = false;\nexport const prerender = true;","<script lang=\"ts\">\n  /**\n   * Navigation Component\n   *\n   * Provides navigation links for the language learning application.\n   */\n\n  import { page } from '$app/stores';\n  import { base } from '$app/paths';\n  import { appState } from '$lib/state/app-state';\n  import { APP_ICONS } from '$lib/constants/icons';\n  import { t, getCurrentLanguage, isTranslationsLoading, onTranslationsChange, offTranslationsChange } from '$lib/services/localization';\n  import { onMount } from 'svelte';\n\n  // Default navigation items with base path support for GitHub Pages deployment\n  const defaultNavItems = [\n    { translationKey: 'navigation.dashboard', path: '/', icon: APP_ICONS.DASHBOARD },\n    { translationKey: 'navigation.vocabulary', path: '/vocabulary', icon: APP_ICONS.VOCABULARY },\n    { translationKey: 'navigation.grammar', path: '/grammar', icon: APP_ICONS.GRAMMAR },\n    { translationKey: 'navigation.practice', path: '/practice', icon: APP_ICONS.PRACTICE },\n    { translationKey: 'navigation.learn', path: '/learn', icon: APP_ICONS.LEARN }\n  ];\n\n  // Helper function to apply base path to navigation paths\n  function getNavPath(path: string): string {\n    if (path === '/') return base || '/';\n    return `${base}${path}`;\n  }\n\n  // Navigation items with reactive translations\n  let { navItems = [] } = $props();\n\n  // Reactive variables\n  let currentPath = $derived.by(() => $page.url.pathname);\n  let homeLabel = $state('');\n  let appNameLabel = $state('');\n  let translatedNavItems = $state<Array<{ name: string; path: string; translationKey?: string; icon?: string }>>([]);\n  let directionLabel = $state('');\n  let languageCode = $state<'de' | 'bg'>(getCurrentLanguage());\n  let languageToggleAria = $state('Switch language direction');\n\n  function getDirectionFallback(): string {\n    return appState.languageMode === 'DE_BG' ? 'German â†’ Bulgarian' : 'Bulgarian â†’ German';\n  }\n\n  function buildDirectionLabel(isLoading: boolean): string {\n    if (isLoading) return getDirectionFallback();\n    return appState.languageMode === 'DE_BG'\n      ? t('directions.de_to_bg') || 'German â†’ Bulgarian'\n      : t('directions.bg_to_de') || 'Bulgarian â†’ German';\n  }\n\n  function buildLanguageToggleAria(isLoading: boolean): string {\n    if (isLoading) return 'Switch language direction';\n    return appState.languageMode === 'DE_BG'\n      ? 'Current language direction: German to Bulgarian. Click to switch to Bulgarian to German.'\n      : 'Current language direction: Bulgarian to German. Click to switch to German to Bulgarian.';\n  }\n\n  // Update translations reactively\n  function updateTranslations() {\n    const loading = isTranslationsLoading();\n\n    homeLabel = loading ? 'Loadingâ€¦' : (t('navigation.home') || 'Home');\n    appNameLabel = loading ? 'BulgarianApp' : (t('navigation.app_name') || 'BulgarianApp');\n    directionLabel = buildDirectionLabel(loading);\n    languageCode = getCurrentLanguage();\n    languageToggleAria = buildLanguageToggleAria(loading);\n\n    translatedNavItems = navItems.length > 0\n      ? navItems\n      : defaultNavItems.map(item => ({\n          ...item,\n          name: loading\n            ? 'Loadingâ€¦'\n            : (t(item.translationKey) || item.translationKey.split('.').pop())\n        }));\n  }\n\n  // Set up reactive translation updates\n  onMount(() => {\n    updateTranslations(); // Initial update\n    onTranslationsChange(updateTranslations);\n\n    return () => {\n      offTranslationsChange(updateTranslations);\n    };\n  });\n\n  function handleToggleLanguage() {\n    appState.toggleDirection();\n    // Immediate optimistic UI update while translations reload\n    directionLabel = buildDirectionLabel(isTranslationsLoading());\n    languageCode = getCurrentLanguage();\n    languageToggleAria = buildLanguageToggleAria(isTranslationsLoading());\n  }\n</script>\n\n<nav class=\"navigation\" aria-label=\"Main navigation\">\n  <div class=\"navigation-container\">\n    <div class=\"logo\">\n      <a href={getNavPath('/')} aria-label={homeLabel}>\n        <span class=\"logo-icon\">ðŸ‡§ðŸ‡¬ðŸ‡©ðŸ‡ª</span>\n        <span class=\"logo-text\">{appNameLabel}</span>\n      </a>\n    </div>\n\n    <ul class=\"nav-list\">\n      {#each translatedNavItems as item}\n        <li class=\"nav-item\">\n          <a\n            href={getNavPath(item.path)}\n            class=\"nav-link {currentPath === item.path ? 'active' : ''}\"\n            aria-current={currentPath === item.path ? 'page' : undefined}\n            aria-label={item.name}\n          >\n            <span class=\"nav-icon\" aria-hidden=\"true\">{item.icon}</span>\n            <span class=\"nav-text\">{item.name}</span>\n          </a>\n        </li>\n      {/each}\n    </ul>\n\n    <div class=\"nav-actions\">\n      <button\n        class=\"language-toggle\"\n        onclick={handleToggleLanguage}\n        aria-label={languageToggleAria}\n        aria-live=\"polite\"\n      >\n        <span class=\"lang-code\">{languageCode.toUpperCase()}</span>\n        <span class=\"lang-direction\">{directionLabel}</span>\n      </button>\n    </div>\n  </div>\n</nav>\n\n<style>\n  .navigation {\n    background: white;\n    border-bottom: 1px solid #e5e7eb;\n    padding: 0 1rem;\n    position: sticky;\n    top: 0;\n    z-index: 50;\n  }\n\n  .navigation-container {\n    max-width: 1200px;\n    margin: 0 auto;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: 60px;\n  }\n\n  .logo {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n  }\n\n  .logo a {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    text-decoration: none;\n    color: #1e293b;\n  }\n\n  .logo-icon {\n    font-size: 1.25rem;\n  }\n\n  .logo-text {\n    font-weight: 600;\n    font-size: 1rem;\n  }\n\n  .nav-list {\n    display: flex;\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    gap: 1rem;\n  }\n\n  .nav-item {\n    height: 100%;\n  }\n\n  .nav-link {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 0 1rem;\n    height: 100%;\n    text-decoration: none;\n    color: #64748b;\n    font-size: 0.875rem;\n    font-weight: 500;\n    transition: all 0.2s ease;\n    border-bottom: 2px solid transparent;\n  }\n\n  .nav-link:hover {\n    color: #1d4ed8;\n  }\n\n  .nav-link.active {\n    color: #1d4ed8;\n    border-bottom-color: #1d4ed8;\n  }\n\n  .nav-icon {\n    font-size: 1.125rem;\n    margin-bottom: 0.25rem;\n  }\n\n  .nav-actions {\n    display: flex;\n    gap: 0.5rem;\n    align-items: center;\n  }\n\n  .language-toggle {\n    display: flex;\n    align-items: center;\n    gap: 0.5rem;\n    padding: 0.4rem 0.75rem;\n    border: 1px solid #e2e8f0;\n    border-radius: 999px;\n    background: #f8fafc;\n    color: #0f172a;\n    cursor: pointer;\n    transition: all 0.2s ease;\n    font-size: 0.85rem;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.04);\n  }\n\n  .language-toggle:hover {\n    background: #e2e8f0;\n    border-color: #cbd5e1;\n  }\n\n  .language-toggle:focus {\n    outline: 2px solid #3b82f6;\n    outline-offset: 2px;\n  }\n\n  .lang-code {\n    font-weight: 700;\n    letter-spacing: 0.02em;\n  }\n\n  .lang-direction {\n    color: #475569;\n    font-size: 0.8rem;\n    white-space: nowrap;\n  }\n\n  @media (max-width: 1024px) {\n    .nav-list {\n      gap: 0.5rem;\n    }\n\n    .nav-link {\n      padding: 0 0.75rem;\n    }\n  }\n\n  @media (max-width: 768px) {\n    .navigation-container {\n      height: 50px;\n    }\n\n    .logo-text {\n      display: none;\n    }\n\n    .nav-link {\n      padding: 0 0.5rem;\n    }\n\n    .nav-text {\n      display: none;\n    }\n\n    .nav-icon {\n      margin-bottom: 0;\n    }\n  }\n</style>","<script lang=\"ts\">\n  import Navigation from '$lib/components/Navigation.svelte';\n  import '$lib/styles/tokens.css';\n  // Layout shell: no page-level logic needed here\n\n  let { children } = $props();\n</script>\n\n<svelte:head>\n  <title>Bulgarian-German Learning App</title>\n</svelte:head>\n\n<div class=\"app-layout\">\n  <Navigation />\n  <main>\n    {@render children()}\n  </main>\n</div>\n\n\n<style>\n  :global(html) {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;\n    font-size: 16px;\n    line-height: 1.5;\n    color: #333;\n  }\n\n  :global(body) {\n    margin: 0;\n    padding: 0;\n    background-color: #f5f5f5;\n  }\n\n  .app-layout {\n    display: flex;\n    flex-direction: column;\n    min-height: 100vh;\n  }\n\n  main {\n    flex: 1;\n    padding: 2rem;\n    background-color: white;\n  }\n\n  @media (min-width: 769px) {\n    main {\n      max-width: 1200px;\n      margin: 0 auto;\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);\n    }\n  }\n</style>"],"names":["defaultNavItems","translationKey","path","icon","APP_ICONS","DASHBOARD","VOCABULARY","GRAMMAR","PRACTICE","LEARN","getNavPath","base","navItems","$.prop","$$props","currentPath","$.derived","url","pathname","homeLabel","$.state","appNameLabel","translatedNavItems","$.proxy","directionLabel","languageCode","getCurrentLanguage","languageToggleAria","buildDirectionLabel","isLoading","appState","languageMode","t","buildLanguageToggleAria","updateTranslations","loading","isTranslationsLoading","$.set","length","map","item","name","split","pop","onMount","onTranslationsChange","offTranslationsChange","nav","root","div","div_1","a","span","ul","$.get","$.index","$$anchor","li","root_1","a_1","$.child","span_1","span_2","$.reset","$.set_attribute","$0","$.set_text","text_1","text_2","div_2","button","__click","toggleDirection","span_3","span_4","toUpperCase","$.head","title","Navigation","node","main","$.sibling"],"mappings":"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"}