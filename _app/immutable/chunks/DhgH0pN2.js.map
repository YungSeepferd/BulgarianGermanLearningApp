{"version":3,"file":"DhgH0pN2.js","sources":["../../../../../../node_modules/.pnpm/svelte@5.46.0/node_modules/svelte/src/internal/client/timing.js","../../../../../../node_modules/.pnpm/svelte@5.46.0/node_modules/svelte/src/internal/client/loop.js"],"sourcesContent":["/** @import { Raf } from '#client' */\nimport { noop } from '../shared/utils.js';\n\nimport { BROWSER } from 'esm-env';\n\nconst now = BROWSER ? () => performance.now() : () => Date.now();\n\n/** @type {Raf} */\nexport const raf = {\n\t// don't access requestAnimationFrame eagerly outside method\n\t// this allows basic testing of user code without JSDOM\n\t// bunder will eval and remove ternary when the user's app is built\n\ttick: /** @param {any} _ */ (_) => (BROWSER ? requestAnimationFrame : noop)(_),\n\tnow: () => now(),\n\ttasks: new Set()\n};\n","/** @import { TaskCallback, Task, TaskEntry } from '#client' */\nimport { raf } from './timing.js';\n\n// TODO move this into timing.js where it probably belongs\n\n/**\n * @returns {void}\n */\nfunction run_tasks() {\n\t// use `raf.now()` instead of the `requestAnimationFrame` callback argument, because\n\t// otherwise things can get wonky https://github.com/sveltejs/svelte/pull/14541\n\tconst now = raf.now();\n\n\traf.tasks.forEach((task) => {\n\t\tif (!task.c(now)) {\n\t\t\traf.tasks.delete(task);\n\t\t\ttask.f();\n\t\t}\n\t});\n\n\tif (raf.tasks.size !== 0) {\n\t\traf.tick(run_tasks);\n\t}\n}\n\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n * @param {TaskCallback} callback\n * @returns {Task}\n */\nexport function loop(callback) {\n\t/** @type {TaskEntry} */\n\tlet task;\n\n\tif (raf.tasks.size === 0) {\n\t\traf.tick(run_tasks);\n\t}\n\n\treturn {\n\t\tpromise: new Promise((fulfill) => {\n\t\t\traf.tasks.add((task = { c: callback, f: fulfill }));\n\t\t}),\n\t\tabort() {\n\t\t\traf.tasks.delete(task);\n\t\t}\n\t};\n}\n"],"names":["raf","tick","_","requestAnimationFrame","now","performance","tasks","Set","run_tasks","forEach","task","c","delete","f","size","loop","callback","promise","Promise","fulfill","add","abort"],"mappings":"AAKA,MAGaA,EAAM,CAIlBC,KAA6BC,GAAiBC,sBAA8BD,GAC5EE,IAAK,IARsBC,YAAYD,MASvCE,UAAWC,KCNZ,SAASC,IAGR,MAAMJ,EAAMJ,EAAII,MAEhBJ,EAAIM,MAAMG,QAASC,IACbA,EAAKC,EAAEP,KACXJ,EAAIM,MAAMM,OAAOF,GACjBA,EAAKG,OAIgB,IAAnBb,EAAIM,MAAMQ,MACbd,EAAIC,KAAKO,EAEX,CAQO,SAASO,EAAKC,GAEpB,IAAIN,EAMJ,OAJuB,IAAnBV,EAAIM,MAAMQ,MACbd,EAAIC,KAAKO,GAGH,CACNS,QAAS,IAAIC,QAASC,IACrBnB,EAAIM,MAAMc,IAAKV,EAAO,CAAEC,EAAGK,EAAUH,EAAGM,MAEzC,KAAAE,GACCrB,EAAIM,MAAMM,OAAOF,EAClB,EAEF","x_google_ignoreList":[0,1]}