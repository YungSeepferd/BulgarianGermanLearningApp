var e,t,s,a,i,h,r,f=Object.defineProperty,n=e=>{throw TypeError(e)},o=(e,t,s)=>((e,t,s)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!=typeof t?t+"":t,s),c=(e,t,s)=>t.has(e)||n("Cannot "+s),d=(e,t,s)=>(c(e,t,"read from private field"),s?s.call(e):t.get(e)),l=(e,t,s)=>t.has(e)?n("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s);import{f as p,k as m,m as v,n as w,o as k,q as u,h as g,v as M,w as b,x as W}from"./B2QX4td6.js";class y{constructor(f,n=!0){var u,g,M,W;o(this,"anchor"),l(this,e,new Map),l(this,t,new Map),l(this,s,new Map),l(this,a,new Set),l(this,i,!0),l(this,h,()=>{var h=p;if(d(this,e).has(h)){var r=d(this,e).get(h),f=d(this,t).get(r);if(f)m(f),d(this,a).delete(r);else{var n=d(this,s).get(r);n&&(d(this,t).set(r,n.effect),d(this,s).delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),f=n.effect)}for(const[t,a]of d(this,e)){if(d(this,e).delete(t),t===h)break;const i=d(this,s).get(a);i&&(v(i.effect),d(this,s).delete(a))}for(const[h,n]of d(this,t)){if(h===r||d(this,a).has(h))continue;const o=()=>{if(Array.from(d(this,e).values()).includes(h)){var i=document.createDocumentFragment();b(n,i),i.append(k()),d(this,s).set(h,{effect:n,fragment:i})}else v(n);d(this,a).delete(h),d(this,t).delete(h)};d(this,i)||!f?(d(this,a).add(h),w(n,o,!1)):o()}}}),l(this,r,t=>{d(this,e).delete(t);const a=Array.from(d(this,e).values());for(const[e,i]of d(this,s))a.includes(e)||(v(i.effect),d(this,s).delete(e))}),this.anchor=f,M=n,c(u=this,g=i,"write to private field"),W?W.call(u,M):g.set(u,M)}ensure(a,i){var f=p,n=W();if(i&&!d(this,t).has(a)&&!d(this,s).has(a))if(n){var o=document.createDocumentFragment(),c=k();o.append(c),d(this,s).set(a,{effect:u(()=>i(c)),fragment:o})}else d(this,t).set(a,u(()=>i(this.anchor)));if(d(this,e).set(f,a),n){for(const[e,s]of d(this,t))e===a?f.skipped_effects.delete(s):f.skipped_effects.add(s);for(const[e,t]of d(this,s))e===a?f.skipped_effects.delete(t.effect):f.skipped_effects.add(t.effect);f.oncommit(d(this,h)),f.ondiscard(d(this,r))}else g&&(this.anchor=M),d(this,h).call(this)}}e=new WeakMap,t=new WeakMap,s=new WeakMap,a=new WeakMap,i=new WeakMap,h=new WeakMap,r=new WeakMap;export{y as B};
//# sourceMappingURL=CPQIF2Jx.js.map
