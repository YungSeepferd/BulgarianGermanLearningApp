import{d as e,f as t,a as s,b as i,p as r,c as n}from"./CP5eoV68.js";import{c as a}from"./Cx5GHCVW.js";import{a5 as c,a7 as l,L as o,ae as d,ag as v,aa as u,ah as m,ad as p,a9 as f,a8 as b,ab as h,ao as k,a6 as x,z as w}from"./wBlqi3UJ.js";import{i as g}from"./DXLtWB7C.js";import{e as y,i as A}from"./CGLmHr_6.js";import{r as I,c as C,s as q,b as _}from"./rXKuYn7R.js";import{b as j}from"./D4js57BL.js";import{o as T,a as S,n as M,s as L,l as O,d as D,b as P,_ as Q,u as E}from"./y3_YNDdE.js";const $=T({id:L(),type:O("sentence-builder"),title:L(),description:L().optional(),grammarHint:L().optional(),questions:S(T({id:L(),prompt:L(),words:S(L()),correctOrder:S(L()),difficulty:Q(["easy","medium","hard"]).default("medium")})),currentQuestionIndex:M().default(0),feedback:S(T({questionId:L(),isCorrect:P(),userAnswer:L(),correctAnswer:L(),attempts:M().default(1),timestamp:D()})).default([]),feedbackMessages:T({correct:L().optional(),incorrect:L().optional()}).optional()}),N=T({id:L(),type:O("fill-in-blank"),title:L(),description:L().optional(),questions:S(T({id:L(),prompt:L(),correctAnswer:L(),acceptedVariations:S(L()).optional(),difficulty:Q(["easy","medium","hard"]).default("medium")})),currentQuestionIndex:M().default(0),feedback:S(T({questionId:L(),isCorrect:P(),userAnswer:L(),correctAnswer:L(),timestamp:D()})).default([]),feedbackMessages:T({correct:L().optional(),incorrect:L().optional()}).optional()}),V=T({id:L().min(1,"Exercise item ID is required"),vocabularyId:L().min(1,"Vocabulary ID is required"),german:L().min(1,"German text is required"),bulgarian:L().min(1,"Bulgarian text is required"),partOfSpeech:Q(["noun","verb","adjective","adverb","other"]),difficulty:Q(["easy","medium","hard"]).default("medium"),category:L().optional()}),B=T({exerciseId:L(),correct:P(),userAnswer:L(),correctAnswer:L(),timeSpent:M().min(0,"Time spent must be positive"),timestamp:D().default(()=>new Date)});T({sessionId:L(),exerciseType:Q(["fill-in-blank","multiple-choice","matching","ordering","typing"]),startTime:D(),endTime:D().optional(),totalAttempts:M().min(0).default(0),correctAttempts:M().min(0).default(0),results:S(B).default([])});const F=V.extend({type:O("fill-in-blank"),question:L().min(10,"Question must be at least 10 characters"),blankPosition:M().min(0,"Blank position must be non-negative"),correctAnswer:L().min(1,"Correct answer is required"),hints:S(L()).optional(),acceptedVariations:S(L()).optional(),source:Q(["german","bulgarian"])}),z=T({id:L(),type:O("fill-in-blank"),questions:S(F),currentQuestionIndex:M().min(0).default(0),userAnswers:S(L()).default([]),isComplete:P().default(!1),feedback:S(T({questionId:L(),isCorrect:P(),userAnswer:L(),correctAnswer:L()})).default([])}),H=T({id:L(),text:L().min(1,"Option text is required"),isCorrect:P()}),R=V.extend({type:O("multiple-choice"),question:L().min(10,"Question must be at least 10 characters"),options:S(H).min(2,"At least 2 options required"),explanation:L().optional(),source:Q(["german","bulgarian"])}),Y=T({id:L(),type:O("multiple-choice"),questions:S(R),currentQuestionIndex:M().min(0).default(0),userAnswers:S(L()).default([]),isComplete:P().default(!1),feedback:S(T({questionId:L(),isCorrect:P(),userAnswer:L(),correctAnswerId:L()})).default([])}),G=T({id:L(),leftId:L(),leftText:L().min(1,"Left text is required"),rightId:L(),rightText:L().min(1,"Right text is required")}),Z=T({id:L(),type:O("matching"),title:L().min(5,"Title is required"),pairs:S(G).min(2,"At least 2 pairs required"),userMatches:S(T({leftId:L(),rightId:L()})).default([]),isComplete:P().default(!1),correctCount:M().min(0).default(0)}),J=T({id:L(),text:L().min(1,"Item text is required"),correctPosition:M().min(0,"Correct position must be non-negative")}),K=T({id:L(),type:O("ordering"),title:L().min(5,"Title is required"),instruction:L().default("Put the items in the correct order"),items:S(J).min(2,"At least 2 items required"),userOrder:S(L()).default([]),isComplete:P().default(!1),correctCount:M().min(0).default(0)}),U=V.extend({type:O("typing"),prompt:L().min(5,"Prompt is required"),correctAnswer:L().min(1,"Correct answer is required"),caseSensitive:P().default(!1),acceptedVariations:S(L()).optional(),hints:S(L()).optional(),source:Q(["german","bulgarian"]),exerciseMode:Q(["translation","transcription"])});E([$,N,z,Y,Z,K,T({id:L(),type:O("typing"),questions:S(U),currentQuestionIndex:M().min(0).default(0),userAnswers:S(L()).default([]),isComplete:P().default(!1),feedback:S(T({questionId:L(),isCorrect:P(),userAnswer:L(),correctAnswer:L(),similarity:M().min(0).max(1)})).default([])})]);const W=T({userId:L(),exerciseId:L(),exerciseType:L(),completionTime:M().min(0),score:M().min(0).max(100),attempts:M().min(1),passedOnFirstAttempt:P(),timestamp:D().default(()=>new Date)}),X=T({totalExercises:M().min(0),completedExercises:M().min(0),averageScore:M().min(0).max(100),totalTime:M().min(0),byType:T({"fill-in-blank":M().min(0),"multiple-choice":M().min(0),matching:M().min(0),ordering:M().min(0),typing:M().min(0)})});class ee{static validateFillInBlankAnswer(e,t,s){const i=e.trim().toLowerCase();if(i===t.trim().toLowerCase())return!0;if(s)for(const r of s)if(i===r.trim().toLowerCase())return!0;return!1}static validateMultipleChoiceAnswer(e,t){return e===t}static validateMatching(e,t){let s=0;for(const i of t){const t=e.find(e=>e.leftId===i.leftId);t&&t.rightId===i.rightId&&s++}return s===t.length}static validateOrdering(e,t){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}static calculateSimilarity(e,t){const s=e.trim().toLowerCase(),i=t.trim().toLowerCase();if(s===i)return 1;const r=Math.max(s.length,i.length);if(0===r)return 1;const n=this.levenshteinDistance(s,i);return Math.max(0,1-n/r)}static levenshteinDistance(e,t){const s=t.length+1,i=e.length+1,r=[];for(let a=0;a<s;a++){(r[a]=[])[0]=a}const n=r[0]??(r[0]=[]);for(let a=0;a<i;a++)n[a]=a;for(let a=1;a<s;a++){const s=r[a]??(r[a]=[]);for(let n=1;n<i;n++)if(t[a-1]===e[n-1])s[n]=r[a-1]?.[n-1]??0;else{const e=r[a-1]?.[n-1]??0,t=s[n-1]??0,i=r[a-1]?.[n]??0;s[n]=Math.min(e,t,i)+1}}return(r[t.length]??[])[e.length]??0}static validateTypingAnswer(e,t,s=!1,i,r=.85){let n=e.trim(),a=t.trim();if(s||(n=n.toLowerCase(),a=a.toLowerCase()),n===a)return{isCorrect:!0,similarity:1};if(i)for(const l of i){let e=l.trim();if(s||(e=e.toLowerCase()),n===e)return{isCorrect:!0,similarity:1}}const c=this.calculateSimilarity(n,a);return{isCorrect:c>=r,similarity:c}}static calculateScore(e,t){return 0===t?0:Math.round(e/t*100)}static calculateStats(e){if(0===e.length)return{totalAttempts:0,correctAnswers:0,incorrectAnswers:0,accuracy:0};const t=e.length,s=e.filter(e=>e.isCorrect||e.correct).length;return{totalAttempts:t,correctAnswers:s,incorrectAnswers:t-s,accuracy:s/t*100}}static validateResults(e){return W.parse(e)}static validateStats(e){return X.parse(e)}}var te=t('<button class="btn btn-check svelte-1wcmyxd">Check</button>'),se=t('<span class="feedback-icon svelte-1wcmyxd">✓</span> <span>Correct!</span>',1),ie=t('<span class="feedback-icon svelte-1wcmyxd">✗</span> <span>Incorrect. The correct answer is: <strong class="svelte-1wcmyxd"> </strong></span>',1),re=t('<li class="svelte-1wcmyxd"> </li>'),ne=t('<div class="hints svelte-1wcmyxd"><strong class="svelte-1wcmyxd">Hints:</strong> <ul class="svelte-1wcmyxd"></ul></div>'),ae=t('<div><!></div> <!> <div class="action-buttons svelte-1wcmyxd"><button class="btn btn-primary svelte-1wcmyxd">Next</button> <button class="btn btn-secondary svelte-1wcmyxd">Skip</button></div>',1),ce=t('<div class="question svelte-1wcmyxd"><h3 class="svelte-1wcmyxd"> </h3></div> <div class="input-group svelte-1wcmyxd"><input type="text" placeholder="Enter your answer" class="answer-input svelte-1wcmyxd"/> <!></div> <!>',1),le=t('<div class="fill-in-blank svelte-1wcmyxd"><!></div>');function oe(e,t){c(t,!0);const r=a();let n=f(""),x=f(!1),w=f(!1);const q=d(()=>t.exercise.questions[t.exercise.currentQuestionIndex]);function _(){o(n).trim()&&o(q)&&(h(w,ee.validateFillInBlankAnswer(o(n),o(q).correctAnswer,o(q).acceptedVariations),!0),h(x,!0),t.exercise.feedback.push({questionId:o(q).id,isCorrect:o(w),userAnswer:o(n),correctAnswer:o(q).correctAnswer}),t.exercise.userAnswers.push(o(n)),r("exerciseComplete",{isCorrect:o(w)}))}function T(){h(n,""),h(x,!1),r("next")}function S(){t.exercise.userAnswers.push(""),r("skip")}var M=le(),L=l(M),O=e=>{var t=ce(),r=m(t),a=l(r),c=l(a,!0);v(a),v(r);var d=p(r,2),u=l(d);I(u),u.__keydown=e=>"Enter"===e.key&&_();var f=p(u,2),M=e=>{var t=te();t.__click=_,s(e,t)};g(f,e=>{o(x)||e(M)}),v(d);var L=p(d,2),O=e=>{var t=ae(),r=m(t),n=l(r),a=e=>{var t=se();k(2),s(e,t)},c=e=>{var t=ie(),r=p(m(t),2),n=p(l(r)),a=l(n,!0);v(n),v(r),b(()=>i(a,o(q).correctAnswer)),s(e,t)};g(n,e=>{o(w)?e(a):e(c,!1)}),v(r);var d=p(r,2),u=e=>{var t=ne(),r=p(l(t),2);y(r,21,()=>o(q).hints,A,(e,t)=>{var r=re(),n=l(r,!0);v(r),b(()=>i(n,o(t))),s(e,r)}),v(r),v(t),s(e,t)};g(d,e=>{o(q).hints&&o(q).hints.length>0&&e(u)});var f=p(d,2),h=l(f);h.__click=T,p(h,2).__click=S,v(f),b(()=>C(r,1,"feedback "+(o(w)?"correct":"incorrect"),"svelte-1wcmyxd")),s(e,t)};g(L,e=>{o(x)&&e(O)}),b(()=>{i(c,o(q).question),u.disabled=o(x)}),j(u,()=>o(n),e=>h(n,e)),s(e,t)};g(L,e=>{o(q)&&e(O)}),v(M),s(e,M),u()}e(["keydown","click"]);var de=t("<button></button>"),ve=t('<div class="item-group svelte-1979a5n"><div class="item left-item svelte-1979a5n"> </div> <div class="connections svelte-1979a5n"></div></div>'),ue=t('<div class="item right-item svelte-1979a5n"> </div>'),me=t('<div class="action-buttons svelte-1979a5n"><button class="btn btn-primary svelte-1979a5n">Check Matches</button> <button class="btn btn-secondary svelte-1979a5n">Skip</button></div>'),pe=t('<span class="feedback-icon svelte-1979a5n">✓</span> <span>Perfect! All matches are correct!</span>',1),fe=t('<span class="feedback-icon svelte-1979a5n">✗</span> <span>Some matches are incorrect. Try again or skip to continue.</span>',1),be=t('<div><!></div> <div class="action-buttons svelte-1979a5n"><button class="btn btn-primary svelte-1979a5n">Next</button> <button class="btn btn-secondary svelte-1979a5n">Skip</button></div>',1),he=t('<div class="matching svelte-1979a5n"><div class="question svelte-1979a5n"><h3 class="svelte-1979a5n"> </h3></div> <div class="matching-container svelte-1979a5n"><div class="column left svelte-1979a5n"><h4 class="svelte-1979a5n">Choose</h4> <div class="items svelte-1979a5n"></div></div> <div class="column right svelte-1979a5n"><h4 class="svelte-1979a5n">Match with</h4> <div class="items svelte-1979a5n"></div></div></div> <!></div>');function ke(e,t){c(t,!0);const r=a();let n=f(x({})),w=f(!1),A=f(!1);const I=d(()=>t.exercise.pairs.map(e=>({id:e.leftId,text:e.leftText}))),_=d(()=>t.exercise.pairs.map(e=>({id:e.rightId,text:e.rightText})));function j(){const e=t.exercise.pairs.map(e=>({leftId:e.leftId,rightId:o(n)[e.leftId]}));h(A,e.every(e=>{const s=t.exercise.pairs.find(t=>t.leftId===e.leftId);return s?.rightId===e.rightId}),!0),h(w,!0)}function T(){h(n,{},!0),h(w,!1),r("next")}function S(){r("skip")}function M(e,s){const i=t.exercise.pairs.find(t=>t.leftId===e);return i?.rightId===s}function L(){return o(_)}var O=he(),D=l(O),P=l(D),Q=l(P,!0);v(P),v(D);var E=p(D,2),$=l(E),N=p(l($),2);y(N,21,function(){return o(I)},e=>e.id,(e,t)=>{var r=ve(),a=l(r),c=l(a,!0);v(a);var d=p(a,2);y(d,21,L,e=>e.id,(e,i)=>{var r=de();r.__click=()=>{return e=o(t).id,s=o(i).id,void(o(w)||(o(n)[e]===s?delete o(n)[e]:o(n)[e]=s));var e,s},b(e=>{C(r,1,e,"svelte-1979a5n"),r.disabled=o(w),q(r,"title",`Match to ${o(i).text}`)},[()=>`connection ${o(n)[o(t).id]===o(i).id?"active":""} ${o(w)&&M(o(t).id,o(n)[o(t).id]||"")?"correct":""} ${o(w)&&o(n)[o(t).id]===o(i).id&&!M(o(t).id,o(i).id)?"incorrect":""}`]),s(e,r)}),v(d),v(r),b(()=>i(c,o(t).text)),s(e,r)}),v(N),v($);var V=p($,2),B=p(l(V),2);y(B,21,L,e=>e.id,(e,t)=>{var r=ue(),n=l(r,!0);v(r),b(()=>i(n,o(t).text)),s(e,r)}),v(B),v(V),v(E);var F=p(E,2),z=e=>{var i=me(),r=l(i);r.__click=j,p(r,2).__click=S,v(i),b(e=>r.disabled=e,[()=>!t.exercise.pairs.every(e=>o(n)[e.leftId])]),s(e,i)},H=e=>{var t=be(),i=m(t),r=l(i),n=e=>{var t=pe();k(2),s(e,t)},a=e=>{var t=fe();k(2),s(e,t)};g(r,e=>{o(A)?e(n):e(a,!1)}),v(i);var c=p(i,2),d=l(c);d.__click=T,p(d,2).__click=S,v(c),b(()=>C(i,1,"feedback "+(o(A)?"correct":"incorrect"),"svelte-1979a5n")),s(e,t)};g(F,e=>{o(w)?e(H,!1):e(z)}),v(O),b(()=>i(Q,t.exercise.title)),s(e,O),u()}e(["click"]);var xe=t('<span class="status correct svelte-1j8l9na">✓</span>'),we=t('<span class="status incorrect svelte-1j8l9na">✗</span>'),ge=t('<div role="listitem"><span class="order-number svelte-1j8l9na"> </span> <span class="item-text svelte-1j8l9na"> </span> <!></div>'),ye=t('<div class="action-buttons svelte-1j8l9na"><button class="btn btn-secondary svelte-1j8l9na">Shuffle</button> <button class="btn btn-primary svelte-1j8l9na">Check Order</button> <button class="btn btn-secondary svelte-1j8l9na">Skip</button></div>'),Ae=t('<span class="feedback-icon svelte-1j8l9na">✓</span> <span>Perfect! You have the correct order!</span>',1),Ie=t('<span class="feedback-icon svelte-1j8l9na">✗</span> <span>Not quite right. Check the marked items and try again.</span>',1),Ce=t('<li class="svelte-1j8l9na"> </li>'),qe=t('<div><!></div> <div class="correct-order svelte-1j8l9na"><strong class="svelte-1j8l9na">Correct Order:</strong> <ol class="svelte-1j8l9na"></ol></div> <div class="action-buttons svelte-1j8l9na"><button class="btn btn-primary svelte-1j8l9na">Next</button> <button class="btn btn-secondary svelte-1j8l9na">Skip</button></div>',1),_e=t('<div class="ordering svelte-1j8l9na"><div class="question svelte-1j8l9na"><h3 class="svelte-1j8l9na"> </h3></div> <div class="description svelte-1j8l9na"><p class="svelte-1j8l9na">Drag and drop the items to arrange them in the correct order.</p></div> <div class="items-container svelte-1j8l9na"></div> <!></div>');function je(e,t){c(t,!0);const I=a();let _=f(x([])),j=f(!1),T=f(!1),S=f(null);const M=d(()=>[...t.exercise.items].sort((e,t)=>e.correctPosition-t.correctPosition).map(e=>e.id));function L(e){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")}function O(){const e=o(_).map(e=>e.id),t=o(M);h(T,ee.validateOrdering(e,t),!0),h(j,!0)}function D(){h(_,[],!0),h(j,!1),h(S,null),I("next")}function P(){I("skip")}function Q(){h(_,o(_).sort(()=>Math.random()-.5),!0)}w(()=>{h(_,t.exercise.items.map(e=>({id:e.id,text:e.text})).sort(()=>Math.random()-.5),!0)});var E=_e(),$=l(E),N=l($),V=l(N,!0);v(N),v($);var B=p($,4);y(B,23,()=>o(_),e=>e.id,(e,t,a)=>{var c=ge();let d;var u=l(c),f=l(u,!0);v(u);var k=p(u,2),x=l(k,!0);v(k);var w=p(k,2),y=e=>{var i=n(),r=m(i),c=e=>{var t=xe();s(e,t)},l=e=>{var t=we();s(e,t)};g(r,e=>{o(M)[o(a)]===o(t).id?e(c):e(l,!1)}),s(e,i)};g(w,e=>{o(j)&&e(y)}),v(c),b(()=>{d=C(c,1,"item svelte-1j8l9na",null,d,{dragging:o(S)===o(t).id,disabled:o(j)}),q(c,"draggable",!o(j)),i(f,o(a)+1),i(x,o(t).text)}),r("dragstart",c,e=>function(e,t){h(S,t,!0),e.dataTransfer&&(e.dataTransfer.effectAllowed="move")}(e,o(t).id)),r("dragover",c,L),r("drop",c,e=>function(e,t){if(e.preventDefault(),!o(S))return;const s=o(_).findIndex(e=>e.id===o(S));if(-1===s||s===t)return void h(S,null);const i=o(_).splice(s,1)[0];i?(o(_).splice(t,0,i),h(S,null)):h(S,null)}(e,o(a))),s(e,c)}),v(B);var F=p(B,2),z=e=>{var t=ye(),i=l(t);i.__click=Q;var r=p(i,2);r.__click=O,p(r,2).__click=P,v(t),s(e,t)},H=e=>{var r=qe(),n=m(r),a=l(n),c=e=>{var t=Ae();k(2),s(e,t)},u=e=>{var t=Ie();k(2),s(e,t)};g(a,e=>{o(T)?e(c):e(u,!1)}),v(n);var f=p(n,2),h=p(l(f),2);y(h,21,()=>o(M),A,(e,r)=>{const n=d(()=>t.exercise.items.find(e=>e.id===o(r)));var a=Ce(),c=l(a,!0);v(a),b(()=>i(c,o(n)?.text)),s(e,a)}),v(h),v(f);var x=p(f,2),w=l(x);w.__click=D,p(w,2).__click=P,v(x),b(()=>C(n,1,"feedback "+(o(T)?"correct":"incorrect"),"svelte-1j8l9na")),s(e,r)};g(F,e=>{o(j)?e(H,!1):e(z)}),v(E),b(()=>i(V,t.exercise.title)),s(e,E),u()}e(["click"]);var Te=t('<button class="btn btn-check svelte-1h45vkb">Check</button>'),Se=t('<span class="icon svelte-1h45vkb">✓</span> <span class="svelte-1h45vkb">Perfect!</span>',1),Me=t('<span class="icon svelte-1h45vkb">~</span> <span class="svelte-1h45vkb">Close!</span>',1),Le=t('<span class="icon svelte-1h45vkb">✗</span> <span class="svelte-1h45vkb">Not quite right</span>',1),Oe=t('<li class="svelte-1h45vkb"> </li>'),De=t('<div class="hints svelte-1h45vkb"><strong class="svelte-1h45vkb">Tips:</strong> <ul class="svelte-1h45vkb"></ul></div>'),Pe=t('<button class="btn btn-secondary svelte-1h45vkb">Show Answer</button>'),Qe=t('<div><div class="feedback-header svelte-1h45vkb"><!></div> <div class="similarity-info svelte-1h45vkb"><div class="similarity-bar svelte-1h45vkb"><div class="similarity-fill svelte-1h45vkb"></div></div> <span class="similarity-text svelte-1h45vkb"> </span></div> <div class="answer-comparison svelte-1h45vkb"><div class="answer-row svelte-1h45vkb"><strong class="svelte-1h45vkb">Your answer:</strong> <span class="svelte-1h45vkb"> </span></div> <div class="answer-row svelte-1h45vkb"><strong class="svelte-1h45vkb">Correct answer:</strong> <span class="svelte-1h45vkb"> </span></div></div> <!> <div class="action-buttons svelte-1h45vkb"><!> <button class="btn btn-primary svelte-1h45vkb">Next</button> <button class="btn btn-secondary svelte-1h45vkb">Skip</button></div></div>'),Ee=t('<div class="typing svelte-1h45vkb"><div class="question svelte-1h45vkb"><h3 class="svelte-1h45vkb"> </h3></div> <div class="input-group svelte-1h45vkb"><input type="text" placeholder="Type your answer..." class="answer-input svelte-1h45vkb" spellcheck="false" autocomplete="off"/> <!></div> <!></div>');function $e(e,t){c(t,!0);const r=a();let x=f(""),w=f(!1),q=f(!1),T=f(0);const S=d(()=>t.exercise.questions[t.exercise.currentQuestionIndex]);function M(){o(x).trim()&&(h(T,ee.calculateSimilarity(o(x).toLowerCase(),(o(S)?.correctAnswer||"").toLowerCase()),!0),h(q,o(T)>=.85),h(w,!0),t.exercise.feedback.push({questionId:o(S)?.id||"unknown",isCorrect:o(q),userAnswer:o(x),correctAnswer:o(S)?.correctAnswer||"",similarity:o(T)}),t.exercise.userAnswers.push(o(x)))}function L(){h(x,""),h(w,!1),h(T,0),r("next")}function O(){t.exercise.userAnswers.push(""),r("skip")}function D(){h(x,o(S)?.correctAnswer||"",!0)}function P(){return Math.round(100*o(T))}function Q(){return o(q)?"correct":o(T)>=.7?"close":"incorrect"}var E=Ee(),$=l(E),N=l($),V=l(N,!0);v(N),v($);var B=p($,2),F=l(B);I(F),F.__keydown=e=>"Enter"===e.key&&M();var z=p(F,2),H=e=>{var t=Te();t.__click=M,s(e,t)};g(z,e=>{o(w)||e(H)}),v(B);var R=p(B,2),Y=e=>{var t=Qe(),r=l(t),a=l(r),c=e=>{var t=Se();k(2),s(e,t)},d=e=>{var t=n(),i=m(t),r=e=>{var t=Me();k(2),s(e,t)},a=e=>{var t=Le();k(2),s(e,t)};g(i,e=>{"close"===Q()?e(r):e(a,!1)},!0),s(e,t)};g(a,e=>{o(q)?e(c):e(d,!1)}),v(r);var u=p(r,2),f=l(u),h=l(f);v(f);var w=p(f,2),I=l(w);v(w),v(u);var j=p(u,2),T=l(j),M=p(l(T),2),E=l(M,!0);v(M),v(T);var $=p(T,2),N=p(l($),2),V=l(N,!0);v(N),v($),v(j);var B=p(j,2),F=e=>{var t=De(),r=p(l(t),2);y(r,21,()=>o(S)?.hints??[],A,(e,t)=>{var r=Oe(),n=l(r,!0);v(r),b(()=>i(n,o(t))),s(e,r)}),v(r),v(t),s(e,t)};g(B,e=>{o(S)&&o(S).hints&&o(S).hints.length>0&&e(F)});var z=p(B,2),H=l(z),R=e=>{var t=Pe();t.__click=D,s(e,t)};g(H,e=>{o(q)||e(R)});var Y=p(H,2);Y.__click=L,p(Y,2).__click=O,v(z),v(t),b((e,s,r)=>{C(t,1,e,"svelte-1h45vkb"),_(h,s),i(I,`${r??""}% match`),i(E,o(x)),i(V,o(S)?.correctAnswer||"")},[()=>`feedback ${Q()}`,()=>`width: ${P()}%`,P]),s(e,t)};g(R,e=>{o(w)&&e(Y)}),v(E),b(()=>{i(V,o(S)?o(S).prompt:""),F.disabled=o(w)}),j(F,()=>o(x),e=>h(x,e)),s(e,E),u()}e(["keydown","click"]);export{oe as F,ke as M,je as O,$e as T};
//# sourceMappingURL=CBS7F5XW.js.map
