baseURL = 'https://yungseepferd.github.io/BulgarianGermanLearningApp'
languageCode = 'en-us'
title = 'Bulgarian-German Learning App'
# Using Relearn theme (https://github.com/McShelby/hugo-theme-relearn)
theme = 'relearn'

# Build configuration
publishDir = 'public'
contentDir = 'content'
dataDir = 'data'
layoutDir = 'layouts'
staticDir = 'static'
archetypeDir = 'archetypes'
assetDir = 'assets'

# Content settings
buildDrafts = false
buildFuture = false
buildExpired = false
canonifyURLs = true

# Multilingual configuration for Bulgarian-German learning
# NOTE: This is configured for Relearn theme - will work better after migration
defaultContentLanguage = 'en'
defaultContentLanguageInSubdir = false

[languages]
  [languages.en]
    languageName = 'English'
    weight = 1
    title = 'Bulgarian-German Learning App'
  
  [languages.bg]
    languageName = 'Български'
    weight = 2
    title = 'Приложение за учене на български и немски'
  
  [languages.de]
    languageName = 'Deutsch'
    weight = 3
    title = 'Bulgarisch-Deutsch Lern-App'

# Markup configuration
[markup]
  [markup.goldmark]
    [markup.goldmark.renderer]
      unsafe = true
  [markup.highlight]
    style = 'github'
    lineNos = true
    codeFences = true
    noClasses = false

# Asset processing configuration
[module]
  [module.hugoVersion]
    extended = true
    min = "0.128.0"
  
  [[module.mounts]]
    source = "assets/scss"
    target = "assets/scss"
  
  [[module.mounts]]
    source = "assets/js"
    target = "assets/js"
  
  [[module.mounts]]
    source = "static"
    target = "static"

# Build configuration
[build]
  writeStats = true
  useResourceCacheWhen = "fallback"
  noJSConfigInAssets = true
  
# Production optimizations
[caches]
  [caches.getjson]
    dir = ":cacheDir/:project"
    maxAge = "1h"  # Increased from 10s for production performance
  [caches.getcsv]
    dir = ":cacheDir/:project"
    maxAge = "1h"  # Increased from 10s for production performance
  [caches.images]
    dir = ":resourceDir/_gen"
    maxAge = "720h"
  [caches.assets]
    dir = ":resourceDir/_gen"
    maxAge = "720h"

# Output configuration
[outputs]
  home = ["HTML", "RSS", "JSON", "SearchIndex"]
  page = ['HTML']
  section = ['HTML', 'RSS']

[outputFormats]
  [outputFormats.SCSS]
    mediaType = "text/css"
    isPlainText = true
    notAlternative = true
    
  [outputFormats.SearchIndex]
    mediaType = 'application/json'
    baseName = 'search-index'
    isPlainText = true
    notAlternative = true

# Menu configuration
[menu]
  [[menu.main]]
    name = 'Vocabulary'
    pageRef = '/vocabulary'
    weight = 10
  [[menu.main]]
    name = 'Grammar'
    pageRef = '/grammar'
    weight = 20
  [[menu.main]]
    name = 'Practice'
    pageRef = '/practice'
    weight = 30

# Site parameters
[params]
  description = 'Learn Bulgarian and German with spaced repetition'

  [params.author]
    name = 'Bulgarian-German Learning App'
  
  # Language learning specific
  enablePWA = true
  enableAudio = true
  defaultSessionLength = 20
  shortName = 'BG-DE Learn'
  githubRepo = 'https://github.com/YungSeepferd/BulgarianGermanLearningApp'
  
  # Theme color for PWA
  themeColor = '#4a6fa5'
  
  # Relearn theme specific parameters (for after migration)
  themeVariant = ['auto', 'relearn-light', 'relearn-dark']
  disableBreadcrumb = false
  disableNextPrev = false
  disableLandingPageButton = true
  showVisitedLinks = true
  collapsibleMenu = true
  alwaysopen = false
  
  # Search configuration
  searchMaxResults = 15
  searchResultsLength = 500
  searchMinLength = 2
  
  # Edit page link
  editURL = "https://github.com/YungSeepferd/BulgarianGermanLearningApp/edit/main/content/"
  
  # Social media
  [params.social]
    github = 'YungSeepferd/BulgarianGermanLearningApp'

# Taxonomies
[taxonomies]
  category = 'categories'
  tag = 'tags'
  level = 'levels'
  difficulty = 'difficulties'
  source_lang = 'source_langs'
  target_lang = 'target_langs'

# Minification
[minify]
  disableCSS = false
  disableHTML = false
  disableJS = false
  disableJSON = false
  disableSVG = false
  disableXML = false
  [minify.tdewolff]
    [minify.tdewolff.html]
      keepDefaultAttrVals = false
      keepDocumentTags = true
      keepEndTags = true
      keepQuotes = false
    [minify.tdewolff.css]
      keepCSS2 = true
      precision = 0
    [minify.tdewolff.js]
      keepVarNames = false
      precision = 0

# Security headers
[security]
  enableInlineShortcodes = false
  [security.exec]
    allow = ['^dart-sass-embedded$', '^go$', '^npx$', '^postcss$', '^git$']
    osEnv = ['(?i)^(PATH|PATHEXT|APPDATA|TMP|TEMP|TERM)$']
  [security.funcs]
    getenv = ['^HUGO_', '^CI$']
  [security.http]
    methods = ['(?i)GET|POST']
    urls = ['.*']
