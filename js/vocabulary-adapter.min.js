class VocabularyAdapter{static adaptVocabularyItem(e){return{...e,id:e.id||this.generateId(e.word),source_lang:e.source_lang||"bg",target_lang:e.target_lang||"de",etymology:e.etymology||"",cultural_note:e.cultural_note||"",linguistic_note:e.linguistic_note||"",difficulty:e.difficulty||this.calculateDifficulty(e),frequency:e.frequency||this.estimateFrequency(e),reverse_translation:e.reverse_translation||e.word,cognates:e.cognates||[],false_friends:e.false_friends||[],examples:e.examples||[]}}static generateId(e){const t=this.cyrillicToLatin(e),n=Date.now().toString(36);return`${t}_${n}`.toLowerCase().replace(/[^a-z0-9_]/g,"")}static cyrillicToLatin(e){const t={"а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"y","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"ts","ч":"ch","ш":"sh","щ":"sht","ъ":"a","ь":"y","ю":"yu","я":"ya","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"Y","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"Ts","Ч":"Ch","Ш":"Sh","Щ":"Sht","Ъ":"A","Ь":"Y","Ю":"Yu","Я":"Ya"};return e.split("").map(e=>t[e]||e).join("")}static calculateDifficulty(e){let t=2;e.level==="A1"&&(t=Math.max(1,t-1)),e.level==="A2"&&(t=Math.min(3,t+1)),e.word&&e.word.length>8&&(t=Math.min(5,t+1));const n=["Substantiv","Verb","Adjektiv"];return n.includes(e.category)&&(t=Math.min(5,t+1)),t}static estimateFrequency(e){let t=50;const n=["Begrüßung","Ausdruck"];return n.includes(e.category)&&(t=Math.min(95,t+30)),e.level==="A1"&&(t=Math.min(90,t+20)),e.level==="A2"&&(t=Math.min(70,t+10)),t}static adaptVocabularyArray(e){return Array.isArray(e)?e.map(e=>this.adaptVocabularyItem(e)):(console.warn("VocabularyAdapter: Expected array, got:",typeof e),[])}static createReverseItem(e){const t={...e,id:e.id+"_reverse",word:e.translation,translation:e.word,source_lang:e.target_lang,target_lang:e.source_lang,reverse_translation:e.word};return t}static getVocabularyByDirection(e,t="bg_to_de",n=""){const o=this.adaptVocabularyArray(e);let s=[];switch(t){case"bg_to_de":s=o.filter(e=>e.source_lang==="bg"&&e.target_lang==="de");break;case"de_to_bg":s=o.map(e=>this.createReverseItem(e));break;case"both":const e=o.filter(e=>e.source_lang==="bg"&&e.target_lang==="de"),t=o.map(e=>this.createReverseItem(e));s=[...e,...t];break;default:s=o}return n&&(s=s.filter(e=>e.level===n)),s}}typeof module!="undefined"&&module.exports&&(module.exports=VocabularyAdapter),typeof window!="undefined"&&(window.VocabularyAdapter=VocabularyAdapter)