import{t as L,j as R,k as E,m as y,l as c,o as A,p as B,q as M,P as N,r as U,u as Y,D as p,v as w,w as x,x as $,y as q,z,A as h,B as j,S as C,E as G}from"./Bmx5pU3t.js";import{s as Z,g as F}from"./CBZPD5OT.js";let v=!1,g=Symbol();function Q(e,n,i){const r=i[n]??={store:null,source:y(void 0),unsubscribe:E};if(r.store!==e&&!(g in i))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=E;else{var a=!0;r.unsubscribe=Z(e,l=>{a?r.source.v=l:A(r.source,l)}),a=!1}return e&&g in i?F(e):c(r.source)}function V(){const e={};function n(){L(()=>{for(var i in e)e[i].unsubscribe();R(e,g,{enumerable:!1,value:!0})})}return[e,n]}function H(e){var n=v;try{return v=!1,[e(),v]}finally{v=n}}function W(e,n,i,r){var a=(i&$)!==0,l=(i&h)!==0,d=r,b=!0,P=()=>(b&&(b=!1,d=l?q(r):r),d),u;if(a){var O=C in e||G in e;u=B(e,n)?.set??(O&&n in e?t=>e[n]=t:void 0)}var s,I=!1;a?[s,I]=H(()=>e[n]):s=e[n],s===void 0&&r!==void 0&&(s=P(),u&&(M(),u(s)));var f;if(f=()=>{var t=e[n];return t===void 0?P():(b=!0,t)},(i&N)===0)return f;if(u){var D=e.$$legacy;return(function(t,o){return arguments.length>0?((!o||D||I)&&u(o?f():t),t):f()})}var S=!1,_=((i&z)!==0?w:x)(()=>(S=!1,f()));a&&c(_);var T=Y;return(function(t,o){if(arguments.length>0){const m=o?c(_):a?U(t):t;return A(_,m),S=!0,d!==void 0&&(d=m),t}return j&&S||(T.f&p)!==0?_.v:c(_)})}export{Q as a,W as p,V as s};
